!function(e,t){object==typeof exports&&object==typeof modulemodule.exports=t()function==typeof define&&define.amddefine([],t)object==typeof exportsexports.canvasDatagrid=t()e.canvasDatagrid=t()}(self,(function(){return function(){var __webpack_modules__={392function(e,t,o){use strict;function r(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}function n(e){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(e){return typeof e}function(e){return e&&function==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototypesymboltypeof e})(e)}function l(e){var t;function o(){if(e.buttonMenu)e.disposeButtonMenu();else{var o={lefte.button.wrapper.left-e.scrollBox.scrollLeft,tope.button.wrapper.top+e.button.wrapper.offsetHeight-e.scrollBox.scrollTop};e.buttonMenu=function(o,l){var i,a,s,c=document.createElement(div),d=-1,u={};function f(){function t(t,o){var r;null!==(r=t.title)&&(object!==n(r)(function(t){e.createInlineStyle(t,canvas-datagrid-button-menu-item+(e.mobile-mobile)),t.addEventListener(mouseover,(function(){e.createInlineStyle(t,canvas-datagrid-button-menu-itemhover)})),t.addEventListener(mouseout,(function(){e.createInlineStyle(t,canvas-datagrid-button-menu-item)}))}(o),o.innerHTML=r)o.appendChild(r)),t.buttonMenuItemContainer=o,t.click&&o.addEventListener(click,(function(o){t.click.apply(e,[o]),e.disposeButton()}))}var o,i=function(e,t){var o;if(undefined==typeof Symbolnull==e[Symbol.iterator]){if(Array.isArray(e)(o=function(e,t){if(e){if(string==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)r(e,t)void 0}}(e))t&&e&&number==typeof e.length){o&&(e=o);var n=0,l=function(){};return{sl,nfunction(){return n=e.length{done!0}{done!1,valuee[n++]}},efunction(e){throw e},fl}}throw new TypeError(Invalid attempt to iterate non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}var i,a=!0,s=!1;return{sfunction(){o=e[Symbol.iterator]()},nfunction(){var e=o.next();return a=e.done,e},efunction(e){s=!0,i=e},ffunction(){try{anull==o.returno.return()}finally{if(s)throw i}}}}(l);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=document.createElement(div);t(a,s),c.appendChild(s)}}catch(e){i.e(e)}finally{i.f()}}return u.buttonMenu=c,a={},s=e.scrollOffset(e.canvas),void 0===t&&(t=e.style.buttonZIndex),f(),e.createInlineStyle(c,canvas-datagrid-button-menu+(e.mobile-mobile)),a.x=o.left-s.left,a.y=o.top-s.top,a.height=0,t+=1,c.style.position=absolute,c.style.zIndex=t,c.style.left=a.x+px,c.style.top=a.y+px,document.body.appendChild(c),(i=c.getBoundingClientRect()).bottomwindow.innerHeight&&(a.y=e.button.wrapper.top-c.offsetHeight-e.scrollBox.scrollTop,a.y0&&(a.y=e.style.buttonMenuWindowMargin),c.offsetHeightwindow.innerHeight-e.style.buttonMenuWindowMargin&&(c.style.height=window.innerHeight-2e.style.buttonMenuWindowMargin+px)),i.rightwindow.innerWidth&&(a.x-=i.right-window.innerWidth+e.style.buttonMenuWindowMargin),a.x0&&(a.x=e.style.buttonMenuWindowMargin),a.y0&&(a.y=e.style.buttonMenuWindowMargin),c.style.left=a.x+px,c.style.top=a.y+px,u.clickIndex=function(e){l[e].buttonMenuItemContainer.dispatchEvent(new Event(click))},u.rect=i,u.items=l,u.dispose=function(){c.parentNode&&c.parentNode.removeChild(c)},Object.defineProperty(u,selectedIndex,{getfunction(){return d},setfunction(t){if(number!=typeof tisNaN(t)!isFinite(t))throw new Error(Button menu selected index must be a sane number.);(d=t)l.length-1&&(d=l.length-1),d0&&(d=0),l.forEach((function(t,o){if(o===d)return e.createInlineStyle(t.buttonMenuItemContainer,canvas-datagrid-button-menu-itemhover);e.createInlineStyle(t.buttonMenuItemContainer,canvas-datagrid-button-menu-item)}))}}),u}(o,e.button.items),e.createInlineStyle(e.button.wrapper,canvas-datagrid-button-wrapperactive),requestAnimationFrame((function(){document.addEventListener(click,e.disposeButtonMenu)}))}}e.disposeButtonMenu=function(){e.buttonMenu&&(document.removeEventListener(click,e.disposeButtonMenu),e.buttonMenu.dispose(),e.buttonMenu=void 0,e.createInlineStyle(e.button.wrapper,canvas-datagrid-button-wrapperhover))},e.disposeButton=function(o){o&&27!==o.keyCode(document.removeEventListener(keydown,e.disposeButton),t=e.style.buttonZIndex,e.disposeButtonMenu(),e.button&&e.button.dispose(),e.button=void 0)},e.moveButtonPos=function(){e.button.wrapper.style.left=e.button.wrapper.left-e.scrollBox.scrollLeft+px,e.button.wrapper.style.top=e.button.wrapper.top-e.scrollBox.scrollTop+px,e.disposeButtonMenu()},e.attachButton=function(r,n,l){e.button&&e.disposeButton(),e.button=function(r,n,l){var i=document.createElement(div),a=document.createElement(div),s=document.createElement(div),c={};if(!Array.isArray(n))throw new Error(createButton expects an array.);return c.wrapper=i,c.items=n,function(){var n,c={},d=e.scrollOffset(e.canvas);if(void 0===t&&(t=e.style.buttonZIndex),n=i,e.createInlineStyle(n,canvas-datagrid-button-wrapper),n.addEventListener(mouseover,(function(){e.buttonMenue.createInlineStyle(n,canvas-datagrid-button-wrapperhover)})),n.addEventListener(mouseout,(function(){e.buttonMenue.createInlineStyle(n,canvas-datagrid-button-wrapper)})),e.createInlineStyle(s,canvas-datagrid-button-icon),e.createInlineStyle(a,canvas-datagrid-button-arrow),c.x=r.left-d.left,c.y=r.top-d.top,c.height=0,t+=1,i.style.position=absolute,i.style.zIndex=t,i.style.left=c.x+px,i.style.top=c.y+px,i.left=r.left+e.scrollBox.scrollLeft,i.top=r.top+e.scrollBox.scrollTop,a.innerHTML=e.style.buttonArrowDownHTML,l){var u=document.createElement(img);u.setAttribute(src,l),u.style.maxWidth=100%,u.style.height=100%,s.appendChild(u)}i.appendChild(s),i.appendChild(a),document.body.appendChild(i),i.addEventListener(click,o)}(),c.dispose=function(){i.parentNode&&i.parentNode.removeChild(i)},c}(r,n,l),requestAnimationFrame((function(){document.addEventListener(keydown,e.disposeButton)}))}}o.d(t,{Zfunction(){return l}})},195function(e,t,o){use strict;o.d(t,{Zfunction(){return l}});var r=o(857);function n(e){return(n=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(e){return typeof e}function(e){return e&&function==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototypesymboltypeof e})(e)}function l(){var e,t={dehyphenatePropertyfunction(e){e=e.replace(--cdg-,);var t,o=;return Array.prototype.forEach.call(e,(function(e){if(t)return t=!1,void(o+=e.toUpperCase());-!==eo+=et=!0})),o},hyphenatePropertyfunction(e,t){var o=;return Array.prototype.forEach.call(e,(function(e){e!==e.toUpperCase()o+=eo+=-+e.toLowerCase()})),(t--cdg-)+o},applyComponentStylefunction(o,l){if(l.isComponent){var i=window.getComputedStyle(CANVAS-DATAGRID===l.tagNamell.canvas,null),a={};l.computedStyle=i,(0,r.Z)(a),(a=a.defaults.styles).forEach((function(o){var r;===(r=i.getPropertyValue(t.hyphenateProperty(o[0],!0)))&&(r=i.getPropertyValue(t.hyphenateProperty(o[0],!1))),!==r&&string==typeof r&&l.setStyleProperty(o[0],e[n(o[1])](r.replace(^s+,).replace(s+$,),o[1]),!0)})),!o&&l.dispatchEvent&&(requestAnimationFrame((function(){l.resize(!0)})),l.dispatchEvent(stylechanged,l.style))}}};return e={datafunction(e){try{return JSON.parse(e)}catch(e){throw new Error(Cannot read JSON data in canvas-datagrid data.)}},schemafunction(e){try{return JSON.parse(e)}catch(e){throw new Error(Cannot read JSON data in canvas-datagrid schema attribute.)}},numberfunction(e,t){var o=parseInt(e,10);return isNaN(o)to},booleanfunction(e){returntruei.test(e)},stringfunction(e){return e}},t.getObservableAttributes=function(){var e={},t=[data,schema,style,className,name];return(0,r.Z)(e),e.defaults.attributes.forEach((function(e){t.push(e[0].toLowerCase())})),t},t.disconnectedCallback=function(){this.connected=!1},t.connectedCallback=function(){var e=this;e.parentDOMNode.innerHTML=,e.parentDOMNode.appendChild(e.canvas),e.connected=!0,t.observe(e),t.applyComponentStyle(!0,e),e.resize(!0)},t.adoptedCallback=function(){this.resize()},t.attributeChangedCallback=function(o,l,i){var a,s,c=this;if(style!==o){if(data===o)returnapplicationx-canvas-datagrid===c.dataType&&(c.dataType=applicationjson+x-canvas-datagrid),void(c.data=i);if(schema!==o)if(name!==o){if(class!==o&&className!==o){var d,u;if(attributes,d=o,u={},(0,r.Z)(u),s=u.defaults.attributes.filter((function(e){return e[0].toLowerCase()===d.toLowerCase()t.hyphenateProperty(e[0])===d.toLowerCase()t.hyphenateProperty(e[0],!0)===d.toLowerCase()}))[0])return a=e[n(s[1])],void(c.attributes[s[0]]=a(i));^on.test(o)&&c.addEventListener(on+o,Function(e,i))}}else c.name=i;else c.schema=e.schema(i)}else t.applyComponentStyle(!1,c)},t.observe=function(e){var o;window.MutationObserver&&(e.applyComponentStyle=function(){t.applyComponentStyle(!1,e),e.resize()},(o=new window.MutationObserver((function(t){var o,r;Array.prototype.forEach.call(t,(function(t){class!==t.attributeName&&style!==t.attributeName&&STYLE!==t.target.nodeNamet.target.parentNode&&STYLE===t.target.parentNode.nodeNamer=!0t.target===e&&(t.addedNodes.length0characterData===t.type)&&(o=!0)r=!0})),r&&e.applyComponentStyle(!1,e),o&&(applicationx-canvas-datagrid===e.dataType&&(e.dataType=applicationjson+x-canvas-datagrid),e.data=e.innerHTML)}))).observe(e,{characterData!0,childList!0,attributes!0,subtree!0}),Array.prototype.forEach.call(document.querySelectorAll(style),(function(e){o.observe(e,{characterData!0,childList!0,attributes!0,subtree!0})})))},t}},485function(e,t,o){use strict;function r(e){return(r=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(e){return typeof e}function(e){return e&&function==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototypesymboltypeof e})(e)}function n(e){var t,o,n;function l(t){e.createInlineStyle(t,canvas-datagrid-context-menu-item+(e.mobile-mobile)),t.addEventListener(mouseover,(function(){e.createInlineStyle(t,canvas-datagrid-context-menu-itemhover)})),t.addEventListener(mouseout,(function(){e.createInlineStyle(t,canvas-datagrid-context-menu-item)}))}function i(n,a,s,c){var d,u,f,h=document.createElement(div),g=document.createElement(div),p=document.createElement(div),m=[],x=-1,v={};if(!Array.isArray(s))throw new Error(createContextMenu expects an array.);function y(){h.scrollTop0e.parentDOMNode.appendChild(g)g.parentNode&&g.parentNode.removeChild(g),h.scrollTop=h.scrollHeight-h.offsetHeight&&p.parentNodep.parentNode.removeChild(p)h.scrollHeight-h.offsetHeight0&&!(h.scrollTop=h.scrollHeight-h.offsetHeight)&&e.parentDOMNode.appendChild(p)}function w(t){return function r(){var n=e.attributes.contextHoverScrollAmount;up===t&&0===h.scrollTopdown===t&&h.scrollTop===h.scrollHeight(h.scrollTop+=up===t-nn,o=setTimeout(r,e.attributes.contextHoverScrollRateMs,t))}}function b(e){return function(){clearTimeout(o)}}return v.parentGrid=e.intf,v.parentContextMenu=c,v.container=h,u={},f=e.scrollOffset(e.canvas),void 0===t&&(t=e.style.contextMenuZIndex),s.forEach((function(t){var o,a=document.createElement(div);function s(e){e.relatedTarget===ht.contextMenu.container===e.relatedTargeto===e.relatedTargeta===e.relatedTargett.contextMenu.container.contains(e.relatedTarget)(t.contextMenu.dispose(),m.splice(m.indexOf(t.contextMenu),1),t.contextMenu=void 0,a.removeEventListener(mouseout,s),h.removeEventListener(mouseout,s),a.setAttribute(contextOpen,0),a.setAttribute(opening,0))}function c(o){if(1===a.getAttribute(opening)&&1!==a.getAttribute(contextOpen)){var r=a.getBoundingClientRect();r={leftr.left+e.style.childContextMenuMarginLeft+h.offsetWidth,topr.top+e.style.childContextMenuMarginTop,bottomr.bottom,rightr.right},t.contextMenu=i(n,r,o,v),a.setAttribute(contextOpen,1),a.addEventListener(mouseout,s),h.addEventListener(mouseout,s),m.push(t.contextMenu)}}function d(){var e;1!==a.getAttribute(contextOpen)&&(a.setAttribute(opening,1),function!=typeof t.itemsc(t.items)void 0!==(e=t.items.apply(v,[function(e){c(e)}]))&&Array.isArray(e)&&c(e))}!function(t){!function e(t){if(null!==t)returnfunction==typeof te(t(n))void(object!==r(t)(l(a),a.innerHTML=t)a.appendChild(t))}(t.title),t.contextItemContainer=a,(t.items&&t.items.length0function==typeof t.items)&&(o=document.createElement(div),e.createInlineStyle(o,canvas-datagrid-context-child-arrow),o.innerHTML=e.style.childContextMenuArrowHTML,a.appendChild(o),a.addEventListener(mouseover,d),a.addEventListener(mouseout,(function(){a.setAttribute(opening,0)}))),t.click&&a.addEventListener(click,(function(o){t.click.apply(e,[o])}))}(t),h.appendChild(a)})),e.createInlineStyle(h,canvas-datagrid-context-menu+(e.mobile-mobile)),u.x=a.left-f.left,u.y=a.top-f.top,u.height=0,t+=1,h.style.opacity=0,h.style.position=absolute,g.style.color=e.style.contextMenuArrowColor,p.style.color=e.style.contextMenuArrowColor,[g,p].forEach((function(e){e.style.textAlign=center,e.style.position=absolute,e.style.zIndex=t+1})),h.style.zIndex=t,c&&c.inputDropdown&&(h.style.maxHeight=window.innerHeight-u.y-e.style.autocompleteBottomMargin+px,h.style.minWidth=a.width+px,u.y+=a.height),e.mobile&&(h.style.width=a.width+px),h.style.left=u.x+px,h.style.top=u.y+px,h.addEventListener(scroll,y),h.addEventListener(wheel,(function(t){e.hasFocus&&(h.scrollTop+=t.deltaY,h.scrollLeft+=t.deltaX),y()})),g.innerHTML=e.style.contextMenuArrowUpHTML,p.innerHTML=e.style.contextMenuArrowDownHTML,h.appendChild(g),document.body.appendChild(p),document.body.appendChild(h),function(t){var o=.1;t.style.display=block;var r=setInterval((function(){o=1&&clearInterval(r),t.style.opacity=o,t.style.filter=alpha(opacity=+100o+),o+=.1o}),.1e.attributes.animationDurationShowContextMenu)}(h),(d=h.getBoundingClientRect()).bottomwindow.innerHeight&&(c&&c.inputDropdown(u.y-=d.bottom+e.style.contextMenuWindowMargin-window.innerHeight),u.y0&&(u.y=e.style.contextMenuWindowMargin),h.offsetHeightwindow.innerHeight-e.style.contextMenuWindowMargin&&(h.style.height=window.innerHeight-2e.style.contextMenuWindowMargin+px)),d.rightwindow.innerWidth&&(u.x-=d.right-window.innerWidth+e.style.contextMenuWindowMargin),u.x0&&(u.x=e.style.contextMenuWindowMargin),u.y0&&(u.y=e.style.contextMenuWindowMargin),h.style.left=u.x+px,h.style.top=u.y+px,d=h.getBoundingClientRect(),g.style.top=d.top+px,p.style.top=d.top+d.height-p.offsetHeight+px,g.style.left=d.left+px,p.style.left=d.left+px,p.style.width=h.offsetWidth+px,g.style.width=h.offsetWidth+px,p.addEventListener(mouseover,w(down)),p.addEventListener(mouseout,b()),g.addEventListener(mouseover,w(up)),g.addEventListener(mouseout,b()),y(),v.clickIndex=function(e){s[e].contextItemContainer.dispatchEvent(new Event(click))},v.rect=d,v.items=s,v.upArrow=g,v.downArrow=p,v.dispose=function(){clearTimeout(o),m.forEach((function(e){e.dispose()})),[p,g,h].forEach((function(t){var o,r,n;o=t,r=1,n=setInterval((function(){r=.1&&(clearInterval(n),o.style.display=none,o.parentNode&&o.parentNode.removeChild(o)),o.style.opacity=r,o.style.filter=alpha(opacity=+100r+),r-=.1r}),.1e.attributes.animationDurationHideContextMenu)}))},Object.defineProperty(v,selectedIndex,{getfunction(){return x},setfunction(t){if(number!=typeof tisNaN(t!isFinite(t)))throw new Error(Context menu selected index must be a sane number.);(x=t)s.length-1&&(x=s.length-1),x0&&(x=0),s.forEach((function(t,o){if(o===x)return e.createInlineStyle(t.contextItemContainer,canvas-datagrid-context-menu-itemhover);e.createInlineStyle(t.contextItemContainer,canvas-datagrid-context-menu-item)}))}}),v}function a(t){var o=[],r=-2,n=!0;if(e.selections.forEach((function(e,t){if(n)return r-1(r=t,void(o[0]=t))void(t===r+1&&e&&0!==e.length(r=t,o[1]=t)n=!1)})),n)return 1===o.lengthtonullo}function s(t){var o,r=e.getSchema(),s=function(){return o(o=new Map(r.map((function(e){return[e.columnIndex,e]})))),o},c=e.orderings.columns&&e.orderings.columns.length0,d=!(t.cell.isBackgroundt.cell.isColumnHeaderCellCapt.cell.isScrollBart.cell.isCornert.cell.isRowHeader)&&t.cell.header;if(e.attributes.showFilter&&d&&function(t){var o,r=document.createElement(div),l=document.createElement(div),a=document.createElement(button),s=document.createElement(input),c=t.cell&&t.cell.headert.cell.header.titlet.cell.header.name;function d(){s.style.background=e.style.contextFilterInputBackground,s.style.color=e.style.contextFilterInputColor,e.invalidFilterRegEx&&(s.style.background=e.style.contextFilterInvalidRegExpBackground,s.style.color=e.style.contextFilterInvalidRegExpColor)}function u(r){if(!r![ArrowDown,ArrowUp,Enter,Tab].includes(r.key)){var l,a,c,d=(l=0,a={},c=[],e.viewData.forEach((function(o){var r=null==o[t.cell.header.name]o[t.cell.header.name]String(o[t.cell.header.name]).trim(),n=e.blankValues.includes(r)e.attributes.blanksTextr;a[n]le.attributes.maxAutoCompleteItems(l+=1,a[n]={titlee.formatters[t.cell.header.typestring]({cell{valuen}}),clickfunction(t){s.value=n,t.stopPropagation(),s.dispatchEvent(new Event(keyup)),e.disposeAutocomplete()}})})),-1!==Object.keys(a).indexOf(e.attributes.blanksText)&&(c.push(a[e.attributes.blanksText]),delete a[e.attributes.blanksText]),c.concat(Object.keys(a).map((function(e){return a[e]}))));o=s.getBoundingClientRect(),n&&(n.dispose(),n=void 0),(n=i(t,{lefto.left,topo.top,righto.right,bottomo.bottom,heighto.height,widtho.width},d,{inputDropdown!0})).selectedIndex=0}}e.createInlineStyle(l,canvas-datagrid-context-menu-label),e.createInlineStyle(a,canvas-datagrid-context-menu-filter-button),e.createInlineStyle(s,canvas-datagrid-context-menu-filter-input),d(),s.onclick=e.disposeAutocomplete,s.addEventListener(keydown,(function(t){ArrowDown===t.key&&(n.selectedIndex+=1),ArrowUp===t.key&&(n.selectedIndex-=1),Enter===t.key&&(n.clickIndex(n.selectedIndex),e.disposeContextMenu()),Tab===t.key&&(n.clickIndex(n.selectedIndex),t.preventDefault()),Escape===t.key&&e.disposeContextMenu()})),s.addEventListener(keyup,(function(){e.setFilter(t.cell.header.name,s.value)})),s.addEventListener(keyup,u),[focus,blur,keydown,keyup,change].forEach((function(e){s.addEventListener(e,d)})),s.value=t.cell.header&&e.columnFilters[t.cell.header.name],l.innerHTML=e.attributes.filterOptionText.replace(%sg,c),a.onclick=function(){if(n)return e.disposeAutocomplete();u()},a.innerHTML=e.style.contextFilterButtonHTML,r.addEventListener(click,(function(e){return e.stopPropagation()})),r.appendChild(l),r.appendChild(s),r.appendChild(a),t.items.push({titler}),Object.keys(e.columnFilters).length&&Object.keys(e.columnFilters).forEach((function(o){var r=e.getHeaderByName(o);t.items.push({titlee.attributes.removeFilterOptionText.replace(%sg,r.titler.name),clickfunction(t){t.preventDefault(),e.setFilter(o,),e.controlInput.focus()}})}))}(t),e.attributes.showCopy&&e.selections.reduce((function(e,t){return e+t.length}),0)0&&t.items.push({titlee.attributes.copyText,clickfunction(){document.execCommand(copy),e.disposeContextMenu(),e.controlInput.focus()}}),e.attributes.showPaste&&e.clipBoardData&&t.items.push({titlee.attributes.pasteText,clickfunction(){e.paste(e.clipBoardData,t.cell.columnIndex,t.cell.rowIndex),e.draw()}}),e.attributes.showColumnSelector&&(t.items.push({titlee.attributes.columnSelectorText,itemsfunction(){var t=[];return e.getSchema().forEach((function(o){function r(t){o.hidden=!o.hidden,e.dispatchEvent(togglecolumn,{columno,hiddeno.hidden}),t.preventDefault(),e.stopPropagation(t),e.disposeContextMenu(),e.resize(!0),e.setStorageData()}var n=document.createElement(div);l(n),n.addEventListener(touchstart,r),n.addEventListener(click,r),n.innerHTML=(o.hiddene.attributes.columnSelectorHiddenTexte.attributes.columnSelectorVisibleText)+(o.titleo.name),t.push({titlen})})),t}}),t.cell&&t.cell.header&&t.cell.columnIndex-1)){var u=t.cell.columnIndex,f=e.orders.columns[u],h=function(t,o){var r=__contiguousColumns;if(Array.isArray(t[r])null===t[r])return t[r];if(t[r]=null,Array.isArray(e.selections)&&0!==e.selections.length){var n=e.selections[0];if(n&&0!==n.length){for(var l=0;le.viewData.length;l++)if(e.viewData[l]){var i=e.selections[l];if(!i)return;if(i.length!==n.length)return;for(var a=0;an.length;a++)if(n[a]!==i[a])return}n.sort((function(e,t){return e-t}));for(var s=[],c=n[0],d=n[0],u=1;un.length;u++){var f=n[u];f!==d+1(s.push([c,d]),c=f,d=f)d=f}s.push([c,d]);var h=t.cell.columnIndex,g=s.find((function(e){return h=e[0]&&h=e[1]&&e[0]!==e[1]}));if(g){var p=e.orders.columns;if(Array.isArray(p)){var m=g.map((function(e){var t=p[e],r=o[t];return Object.assign({},r,{orderIndexe})}));if(!(m.findIndex((function(e){return!e}))=0))return t[r]=m}}}}}(t,r),g=;if(h)g=h.map((function(e){return e.titlee.name})).join(-);else{var p=r[f];p&&(g=p.titlep.name)}t.items.push({titlee.attributes.hideColumnText.replace(%sgi,g),clickfunction(t){t.preventDefault(),e.stopPropagation(t),e.disposeContextMenu(),he.hideColumns(h[0].orderIndex,h[1].orderIndex)e.hideColumns(u)}})}if(e.attributes.saveAppearance&&e.attributes.showClearSettingsOption&&(Object.keys(e.sizes.rows).length0Object.keys(e.sizes.columns).length0)&&t.items.push({titlee.attributes.clearSettingsOptionText,clickfunction(t){t.preventDefault(),e.sizes.rows={},e.sizes.columns={},e.createRowOrders(),e.createColumnOrders(),e.storedSettings=void 0,e.dispatchEvent(resizecolumn,{columnWidthe.style.cellWidth}),e.dispatchEvent(resizerow,{cellHeighte.style.cellHeight}),e.setStorageData(),e.resize(!0),e.disposeContextMenu(),e.controlInput.focus()}}),e.attributes.allowSorting&&e.attributes.showOrderByOption&&d&&(t.items.push({titlee.attributes.showOrderByOptionTextAsc.replace(%s,t.cell.header.titlet.cell.header.name),clickfunction(o){o.preventDefault(),e.order(t.cell.header.name,asc),e.controlInput.focus()}}),t.items.push({titlee.attributes.showOrderByOptionTextDesc.replace(%s,t.cell.header.titlet.cell.header.name),clickfunction(o){o.preventDefault(),e.order(t.cell.header.name,desc),e.disposeContextMenu(),e.controlInput.focus()}})),!c&&t.cell.isRowHeader&&t.cell.header){var m=a(!0);if(m){var x,v=m.map((function(t){return e.getBoundRowIndexFromViewRowIndex(t)}));1===v.length(x=number==typeof v[0]v[0]+1m[0]+1,x=e.attributes.showHideRow.replace(%s,x),t.items.push({titlex,clickfunction(t){t.preventDefault(),e.hideRows(v[0],v[0])}}))v[0]=v[1]&&(x=v.map((function(e,t){returnnumber==typeof ee+1m[t]+1})).join(-),x=e.attributes.showHideRows.replace(%s,x),t.items.push({titlex,clickfunction(t){t.preventDefault(),e.hideRows(v[0],v[1])}}))}}var y=e.getColumnGroupAreaHeight(),w=e.getRowGroupAreaWidth(),b=function(t,o){if(0!==t.length){for(var r=0;rt.length;r++)for(var n=t[r],l=0;ln.length;l++)n[l].collapsed=o;e.refresh()}};t.pos&&t.pos.yy&&(t.items.push({titlee.attributes.showRemoveAllGroupColumns,clickfunction(t){t.preventDefault(),e.groupedColumns=[],e.refresh()}}),t.items.push({titlee.attributes.showExpandAllGroupColumns,clickfunction(t){t.preventDefault(),b(e.groupedColumns,!1)}}),t.items.push({titlee.attributes.showCollapseAllGroupColumns,clickfunction(t){t.preventDefault(),b(e.groupedColumns,!0)}})),t.pos&&t.pos.xw&&(t.items.push({titlee.attributes.showRemoveAllGroupRows,clickfunction(t){t.preventDefault(),e.groupedRows=[],e.refresh()}}),t.items.push({titlee.attributes.showExpandAllGroupRows,clickfunction(t){t.preventDefault(),b(e.groupedRows,!1)}}),t.items.push({titlee.attributes.showCollapseAllGroupRows,clickfunction(t){t.preventDefault(),b(e.groupedRows,!0)}}));var C=e.attributes.allowGroupingColumns&&t.cell.isColumnHeader&&t.cell.header&&t.cell.header.index0,S=e.attributes.allowGroupingColumns&&t.cell.isColumnHeader,B=!c&&e.attributes.allowGroupingRows&&t.cell.isRowHeader&&t.cell.header,I=e.attributes.allowGroupingRows&&t.cell.isRowHeader;if(C){for(var M=[],T=t.cell.header.index,R=T;R=0&&e.isColumnSelected(R);R--)M[0]=R;for(R=T;e.isColumnSelected(R);R++)M[1]=R;if(R!==T&&2===M.length&&M[1]M[0]&&e.isNewGroupRangeValid(e.groupedColumns,M[0],M[1])){for(var k=s(),O=[],E=[],z=0;zM.length;z++){var A=M[z],H=k.get(A);H&&(E.push(H.name),O.push(H.titleH.nameH.index))}E[0]&&E[1]&&t.items.push({titlee.attributes.showGroupColumns.replace(%s,O[0]+-+O[1]),clickfunction(t){t.preventDefault(),e.groupColumns(E[0],E[1]),e.controlInput.focus()}})}}if(S)for(var P=t.cell.columnIndex,L=e.getGroupsColumnBelongsTo(P),D=s(),F=function(o){var r=L[o],n=r.from,l=r.to,i=D.get(n),a=D.get(l);if(i&&a){var s=(i.titlei.namei.index)+-+(a.titlea.namea.index);t.items.push({titlee.attributes.showRemoveGroupColumns.replace(%s,s),clickfunction(t){t.preventDefault(),e.removeGroupColumns(i.name,a.name),e.controlInput.focus()}})}else console.warn(Cannot find column .concat(n, or column ).concat(l))},W=0;WL.length;W++)F(W);if(B){var _=a(!1)[],G=_.map((function(t){var o=e.getBoundRowIndexFromViewRowIndex(t);returnnumber==typeof oo+1t+1})).join(-);2===_.length&&e.isNewGroupRangeValid(e.groupedRows,_[0],_[1])&&t.items.push({titlee.attributes.showGroupRows.replace(%s,G),clickfunction(t){t.preventDefault(),e.groupRows(_[0],_[1])}})}if(I)for(var N=t.cell.rowIndex,j=e.getGroupsRowBelongsTo(N),V=function(o){var r=j[o],n=r.from,l=r.to,i=[n,l].map((function(t){var o=e.getBoundRowIndexFromViewRowIndex(t);returnnumber==typeof oo+1t+1})).join(-);t.items.push({titlee.attributes.showRemoveGroupRows.replace(%s,i),clickfunction(t){t.preventDefault(),e.removeGroupRows(n,l),e.controlInput.focus()}})},Z=0;Zj.length;Z++)V(Z)}e.disposeAutocomplete=function(){n&&(n.dispose(),n=void 0)},e.disposeContextMenu=function(o){document.removeEventListener(click,e.disposeContextMenu),t=e.style.contextMenuZIndex,e.disposeAutocomplete(),e.contextMenu&&e.contextMenu.dispose(),e.contextMenu=void 0,o&&(e.canvas.focus(),e.mousedown(o),e.mouseup(o))},e.contextmenuEvent=function(t,o){if(e.hasFocust.target===e.canvas){for(var r=Object.keys(e.childGrids),n=0;nr.length;n++){var l=e.childGrids[r[n]],a=l&&l.parentNode;if(a){var c=a.offsetLeft,d=a.offsetWidth,u=a.offsetTop,f=a.offsetHeight;if(0!=(t.x=c&&t.x=c+d)&&0!=(t.y=u&&t.y=u+f))return}}if(e.isChildGrid&&e.parentNode){var h=e.parentGrid&&e.parentGrid.childGrids;if(!h!Array.isArray(h))return;if(!h.find((function(t){var o=t.parentNode,r=e.parentNode;return o.offsetTop==r.offsetTop&&o.offsetLeft===r.offsetLeft})))return;for(var g=e.parentNode.offsetLeft,p=e.parentNode.offsetLeft+e.parentNode.offsetWidth,m=e.parentNode.offsetTop,x=e.parentNode.offsetTop+e.parentNode.offsetHeight,v=e.parentNode.parentNode;v;){var y=v,w=y.offsetLeft,b=y.offsetWidth,C=y.offsetTop;wg&&(g=w),Cm&&(m=C);var S=w+b,B=C+y.offsetHeight;if(Sp&&(p=S),Bx&&(x=B),canvas-datagrid-tree!==v.nodeType)break;v=v.parentNode}if(0==(t.x=g&&t.x=p&&t.y=m&&t.y=x))return}var I,M=[],T=oe.getLayerPos(t),R={NativeEventt,celle.getCellAt(T.x,T.y),posT,itemsM};R.cell.isGrids(R),mousedown!==t.type&&e.dispatchEvent(contextmenu,R)R.cell.isGrid(e.contextMenu&&e.disposeContextMenu(),I={leftT.x+T.rect.left+e.style.contextMenuMarginLeft+e.canvasOffsetLeft,topT.y+T.rect.top+e.style.contextMenuMarginTop+e.canvasOffsetTop,rightR.cell.width+R.cell.x+T.rect.left,bottomR.cell.height+R.cell.y+T.rect.top,heightR.cell.height,widthR.cell.width},e.mobile&&(I.left=e.style.mobileContextMenuMargin+px,I.width=e.width-2e.style.mobileContextMenuMargin+px),mousedown==t.type&&(I.top+=e.style.filterButtonMenuOffsetTop),e.contextMenu=i(R,I,M),mousedown==t.typewindow.addEventListener(mouseup,k)k(),t.preventDefault())}function k(){requestAnimationFrame((function(){document.addEventListener(click,e.disposeContextMenu),window.removeEventListener(mouseup,k)}))}}}o.d(t,{Zfunction(){return n}})},857function(e,t,o){use strict;function r(e){e.defaults={attributes[[allowColumnReordering,!0],[allowColumnResize,!0],[allowColumnResizeFromCell,!1],[allowFreezingRows,!1],[allowFreezingColumns,!1],[allowMovingSelection,!0],[allowRowHeaderResize,!0],[allowRowReordering,!1],[allowRowResize,!0],[allowRowResizeFromCell,!1],[allowSorting,!0],[allowGroupingRows,!0],[allowGroupingColumns,!0],[animationDurationShowContextMenu,50],[animationDurationHideContextMenu,50],[autoGenerateSchema,!1],[autoResizeColumns,!1],[autoResizeRows,!1],[autoScrollOnMousemove,!1],[autoScrollMargin,5],[allowShrinkingSelection,!1],[blanksText,(Blanks)],[borderDragBehavior,none],[borderResizeZone,10],[clearCellsWhenShrinkingSelection,!1],[clearSettingsOptionText,Clear saved settings],[columnHeaderClickBehavior,sort],[columnSelectorHiddenText,&nbsp;&nbsp;&nbsp;],[columnSelectorText,AddRemove columns],[columnSelectorVisibleText,âœ“],[contextHoverScrollAmount,2],[contextHoverScrollRateMs,5],[copyHeadersOnSelectAll,!0],[copyText,Copy],[debug,!1],[editable,!0],[ellipsisText,...],[filterOptionText,Filter %s],[filterTextPrefix,(filtered) ],[filterFrozenRows,!0],[globalRowResize,!1],[hideColumnText,Hide %s],[showUnhideColumnsIndicator,!1],[showUnhideRowsIndicator,!1],[showHideRow,Hide row %s],[showHideRows,Hide rows %s],[hoverMode,cell],[keepFocusOnMouseOut,!1],[maxAutoCompleteItems,200],[multiLine,!1],[name,],[pageUpDownOverlap,1],[pasteText,Paste],[persistantSelectionMode,!1],[removeFilterOptionText,Remove filter on %s],[reorderDeadZone,3],[resizeScrollZone,20],[rowGrabZoneSize,5],[columnGrabZoneSize,30],[saveAppearance,!0],[scrollAnimationPPSThreshold,.75],[scrollPointerLock,!1],[scrollRepeatRate,75],[selectionFollowsActiveCell,!1],[selectionHandleBehavior,none],[selectionMode,cell],[selectionScrollIncrement,20],[selectionScrollZone,20],[showClearSettingsOption,!0],[showColumnHeaders,!0],[showColumnSelector,!0],[showCopy,!1],[showFilter,!0],[showFilterInCell,!1],[showNewRow,!1],[showOrderByOption,!0],[showOrderByOptionTextAsc,Order by %s ascending],[showOrderByOptionTextDesc,Order by %s descending],[showGroupColumns,Group columns %s],[showGroupRows,Group rows %s],[showRemoveGroupColumns,Remove group %s],[showRemoveGroupRows,Remove group %s],[showRemoveAllGroupColumns,Remove all column groups],[showRemoveAllGroupRows,Remove all row groups],[showExpandAllGroupColumns,Expand all column groups],[showExpandAllGroupRows,Expand all row groups],[showCollapseAllGroupColumns,Collapse all column groups],[showCollapseAllGroupRows,Collapse all row groups],[columnGroupIndicatorPosition,right],[rowGroupIndicatorPosition,bottom],[showPaste,!1],[showPerformance,!1],[showRowHeaders,!0],[showRowNumbers,!0],[showRowNumberGaps,!0],[singleSelectionMode,!1],[snapToRow,!1],[sortFrozenRows,!0],[touchContextMenuTimeMs,800],[touchDeadZone,3],[touchEasingMethod,easeOutQuad],[touchReleaseAcceleration,1e3],[touchReleaseAnimationDurationMs,2e3],[touchScrollZone,20],[touchSelectHandleZone,20],[touchZoomSensitivity,.005],[touchZoomMin,.5],[touchZoomMax,1.75],[maxPixelRatio,2],[tree,!1],[treeHorizontalScroll,!1],[rowTree,[]],[rowTreeColIndex,0],[columnTree,[]],[columnTreeRowStartIndex,0],[columnTreeRowEndIndex,0]],styles[[activeCellBackgroundColor,rgba(255, 255, 255, 1)],[activeCellBorderColor,rgba(110, 168, 255, 1)],[activeCellBorderWidth,1],[activeCellColor,rgba(0, 0, 0, 1)],[activeCellFont,16px sans-serif],[activeCellHoverBackgroundColor,rgba(255, 255, 255, 1)],[activeCellHorizontalAlignment,left],[activeCellHoverColor,rgba(0, 0, 0, 1)],[activeCellOverlayBorderColor,rgba(66, 133, 244, 1)],[activeCellOverlayBorderWidth,1],[activeCellPaddingBottom,5],[activeCellPaddingLeft,5],[activeCellPaddingRight,5],[activeCellPaddingTop,5],[activeCellSelectedBackgroundColor,rgba(236, 243, 255, 1)],[activeCellSelectedColor,rgba(0, 0, 0, 1)],[activeCellVerticalAlignment,center],[activeColumnHeaderCellBackgroundColor,rgba(225, 225, 225, 1)],[activeColumnHeaderCellColor,rgba(0, 0, 0, 1)],[activeRowHeaderCellBackgroundColor,rgba(225, 225, 225, 1)],[activeRowHeaderCellColor,rgba(0, 0, 0, 1)],[autocompleteBottomMargin,60],[autosizeHeaderCellPadding,8],[autosizePadding,5],[buttonActiveBackgroundColor,rgba(255, 255, 255, 1)],[buttonActiveBorderColor,rgba(110, 168, 255, 1)],[buttonArrowColor,rgba(50, 50, 50, 1)],[buttonArrowDownHTML,&#x25BC;],[buttonZIndex,1e4],[buttonBackgroundColor,rgba(255, 255, 255, 1)],[buttonBorderColor,rgba(172, 172, 172, 1)],[buttonHoverBackgroundColor,rgba(240, 240, 240, 1)],[buttonMenuWindowMargin,30],[buttonPadding,3px],[cellAutoResizePadding,13],[cellBackgroundColor,rgba(255, 255, 255, 1)],[cellBorderColor,rgba(195, 199, 202, 1)],[cellBorderWidth,1],[cellColor,rgba(0, 0, 0, 1)],[cellFont,16px sans-serif],[cellGridHeight,250],[cellHeight,24],[cellHeightWithChildGrid,150],[cellHorizontalAlignment,left],[cellHoverBackgroundColor,rgba(255, 255, 255, 1)],[cellHoverColor,rgba(0, 0, 0, 1)],[cellPaddingBottom,5],[cellPaddingLeft,5],[cellPaddingRight,5],[cellPaddingTop,5],[cellSelectedBackgroundColor,rgba(236, 243, 255, 1)],[cellSelectedColor,rgba(0, 0, 0, 1)],[cellTreeIconBorderColor,rgba(162, 174, 207, 1)],[cellTreeIconFillColor,rgba(240, 240, 240, 1)],[cellTreeIconHoverFillColor,rgba(198, 217, 233, 1)],[cellTreeIconLineColor,rgba(43, 53, 81, 1)],[cellTreeIconLineWidth,1.5],[cellTreeIconMarginLeft,0],[cellTreeIconMarginRight,5],[cellTreeIconMarginTop,6],[cellTreeIconWidth,13],[cellVerticalAlignment,center],[cellWidth,250],[cellWidthWithChildGrid,250],[cellWhiteSpace,nowrap],[cellLineHeight,1],[cellLineSpacing,3],[childContextMenuArrowColor,rgba(43, 48, 43, 1)],[childContextMenuArrowHTML,&#x25BA;],[childContextMenuMarginLeft,-11],[childContextMenuMarginTop,-6],[columnGroupRowHeight,25],[columnHeaderCellBackgroundColor,rgba(240, 240, 240, 1)],[columnHeaderCellBorderColor,rgba(172, 172, 172, 1)],[columnHeaderCellBorderWidth,1],[columnHeaderCellCapBackgroundColor,rgba(240, 240, 240, 1)],[columnHeaderCellCapBorderColor,rgba(172, 172, 172, 1)],[columnHeaderCellCapBorderWidth,1],[columnHeaderCellColor,rgba(50, 50, 50, 1)],[columnHeaderCellFont,16px sans-serif],[columnHeaderCellHeight,25],[columnHeaderCellHorizontalAlignment,left],[columnHeaderCellHoverBackgroundColor,rgba(235, 235, 235, 1)],[columnHeaderCellHoverColor,rgba(0, 0, 0, 1)],[columnHeaderCellPaddingBottom,5],[columnHeaderCellPaddingLeft,5],[columnHeaderCellPaddingRight,5],[columnHeaderCellPaddingTop,5],[columnHeaderCellVerticalAlignment,center],[columnHeaderOrderByArrowBorderColor,rgba(195, 199, 202, 1)],[columnHeaderOrderByArrowBorderWidth,1],[columnHeaderOrderByArrowColor,rgba(155, 155, 155, 1)],[columnHeaderOrderByArrowHeight,8],[columnHeaderOrderByArrowMarginLeft,0],[columnHeaderOrderByArrowMarginRight,5],[columnHeaderOrderByArrowMarginTop,6],[columnHeaderOrderByArrowWidth,13],[contextFilterButtonBorder,solid 1px rgba(158, 163, 169, 1)],[contextFilterButtonBorderRadius,3px],[contextFilterButtonHTML,&#x25BC;],[contextFilterInputBackground,rgba(255,255,255,1)],[contextFilterInputBorder,solid 1px rgba(158, 163, 169, 1)],[contextFilterInputBorderRadius,0],[contextFilterInputColor,rgba(0,0,0,1)],[contextFilterInputFontFamily,sans-serif],[contextFilterInputFontSize,14px],[contextFilterInvalidRegExpBackground,rgba(180, 6, 1, 1)],[contextFilterInvalidRegExpColor,rgba(255, 255, 255, 1)],[contextMenuArrowColor,rgba(43, 48, 43, 1)],[contextMenuArrowDownHTML,&#x25BC;],[contextMenuArrowUpHTML,&#x25B2;],[contextMenuBackground,rgba(240, 240, 240, 1)],[contextMenuBorder,solid 1px rgba(158, 163, 169, 1)],[contextMenuBorderRadius,3px],[contextMenuChildArrowFontSize,12px],[contextMenuColor,rgba(43, 48, 43, 1)],[contextMenuCursor,default],[contextMenuFilterButtonFontFamily,sans-serif],[contextMenuFilterButtonFontSize,10px],[contextMenuFilterInvalidExpresion,rgba(237, 155, 156, 1)],[contextMenuFontFamily,sans-serif],[contextMenuFontSize,16px],[contextMenuHoverBackground,rgba(182, 205, 250, 1)],[contextMenuHoverColor,rgba(43, 48, 153, 1)],[contextMenuItemBorderRadius,3px],[contextMenuItemMargin,2px],[contextMenuLabelDisplay,inline-block],[contextMenuLabelMargin,0 3px 0 0],[contextMenuLabelMaxWidth,700px],[contextMenuLabelMinWidth,75px],[contextMenuMarginLeft,3],[contextMenuMarginTop,-3],[contextMenuOpacity,0.98],[contextMenuPadding,2px],[contextMenuWindowMargin,30],[contextMenuZIndex,1e4],[cornerCellBackgroundColor,rgba(240, 240, 240, 1)],[cornerCellBorderColor,rgba(202, 202, 202, 1)],[debugBackgroundColor,rgba(0, 0, 0, .0)],[debugColor,rgba(255, 15, 24, 1)],[debugEntitiesColor,rgba(76, 231, 239, 1.00)],[debugFont,11px sans-serif],[debugPerfChartBackground,rgba(29, 25, 26, 1.00)],[debugPerfChartTextColor,rgba(255, 255, 255, 0.8)],[debugPerformanceColor,rgba(252, 255, 37, 1.00)],[debugScrollHeightColor,rgba(248, 33, 103, 1.00)],[debugScrollWidthColor,rgba(66, 255, 27, 1.00)],[debugTouchPPSXColor,rgba(246, 102, 24, 1.00)],[debugTouchPPSYColor,rgba(186, 0, 255, 1.00)],[display,inline-block],[editCellBackgroundColor,white],[editCellBorder,solid 1px rgba(110, 168, 255, 1)],[editCellBoxShadow,0 2px 5px rgba(0,0,0,0.4)],[editCellColor,black],[editCellFontFamily,sans-serif],[editCellFontSize,16px],[editCellPaddingLeft,4],[editCellZIndex,1e4],[filterButtonActiveBackgroundColor,rgba(225, 225, 225, 1)],[filterButtonArrowBorderColor,rgba(195, 199, 202, 1)],[filterButtonArrowBorderWidth,1],[filterButtonArrowClickRadius,5],[filterButtonArrowColor,rgba(50, 50, 50, 1)],[filterButtonArrowHeight,5],[filterButtonArrowWidth,8],[filterButtonBackgroundColor,rgba(240, 240, 240, 1)],[filterButtonBorderColor,rgba(172, 172, 172, 1)],[filterButtonBorderRadius,3],[filterButtonHeight,20],[filterButtonHoverBackgroundColor,rgba(235, 235, 235, 1)],[filterButtonMenuOffsetTop,10],[filterButtonWidth,20],[frozenMarkerHoverColor,rgba(165, 198, 254, 1)],[frozenMarkerHoverBorderColor,rgba(165, 198, 254, 1)],[frozenMarkerActiveColor,rgba(165, 198, 254, 0.2)],[frozenMarkerActiveBorderColor,rgba(165, 198, 254, 0.5)],[frozenMarkerActiveHeaderColor,rgba(165, 198, 254, 1)],[frozenMarkerColor,rgba(221, 221, 221, 1)],[frozenMarkerBorderColor,rgba(221, 221, 221, 1)],[frozenMarkerBorderWidth,1],[frozenMarkerHeaderColor,rgba(188, 188, 188, 1)],[frozenMarkerWidth,4],[groupingAreaBackgroundColor,rgba(240, 240, 240, 1)],[gridBackgroundColor,rgba(240, 240, 240, 1)],[gridBorderCollapse,collapse],[gridBorderColor,rgba(202, 202, 202, 1)],[gridBorderWidth,1],[groupIndicatorColor,rgba(155, 155, 155, 1)],[groupIndicatorBackgroundColor,rgba(255, 255, 255, 1)],[height,auto],[maxHeight,inherit],[maxWidth,inherit],[minColumnWidth,45],[minHeight,inherit],[minRowHeight,24],[minWidth,inherit],[mobileContextMenuMargin,10],[mobileEditInputHeight,30],[mobileEditFontFamily,sans-serif],[mobileEditFontSize,16px],[moveOverlayBorderWidth,1],[moveOverlayBorderColor,rgba(66, 133, 244, 1)],[moveOverlayBorderSegments,12, 7],[name,default],[overflowY,auto],[overflowX,auto],[reorderMarkerBackgroundColor,rgba(0, 0, 0, 0.1)],[reorderMarkerBorderColor,rgba(0, 0, 0, 0.2)],[reorderMarkerBorderWidth,1.25],[reorderMarkerIndexBorderColor,rgba(66, 133, 244, 1)],[reorderMarkerIndexBorderWidth,2.75],[rowGroupColumnWidth,25],[rowHeaderCellBackgroundColor,rgba(240, 240, 240, 1)],[rowHeaderCellBorderColor,rgba(200, 200, 200, 1)],[rowHeaderCellBorderWidth,1],[rowHeaderCellColor,rgba(50, 50, 50, 1)],[rowHeaderCellFont,16px sans-serif],[rowHeaderCellHeight,25],[rowHeaderCellHorizontalAlignment,left],[rowHeaderCellHoverBackgroundColor,rgba(235, 235, 235, 1)],[rowHeaderCellHoverColor,rgba(0, 0, 0, 1)],[rowHeaderCellPaddingBottom,5],[rowHeaderCellPaddingLeft,5],[rowHeaderCellPaddingRight,5],[rowHeaderCellPaddingTop,5],[rowHeaderCellRowNumberGapHeight,5],[rowHeaderCellRowNumberGapColor,rgba(50, 50, 50, 1)],[rowHeaderCellSelectedBackgroundColor,rgba(217, 217, 217, 1)],[rowHeaderCellSelectedColor,rgba(50, 50, 50, 1)],[rowHeaderCellVerticalAlignment,center],[rowHeaderCellWidth,57],[scrollBarActiveColor,rgba(125, 125, 125, 1)],[scrollBarBackgroundColor,rgba(240, 240, 240, 1)],[scrollBarBorderColor,rgba(202, 202, 202, 1)],[scrollBarBorderWidth,.5],[scrollBarBoxBorderRadius,4.125],[scrollBarBoxColor,rgba(192, 192, 192, 1)],[scrollBarBoxMargin,2],[scrollBarBoxMinSize,15],[scrollBarBoxWidth,8],[scrollBarCornerBackgroundColor,rgba(240, 240, 240, 1)],[scrollBarCornerBorderColor,rgba(202, 202, 202, 1)],[scrollBarWidth,11],[selectionHandleBorderColor,rgba(255, 255, 255, 1)],[selectionHandleBorderWidth,1.5],[selectionHandleColor,rgba(66, 133, 244, 1)],[selectionHandleSize,8],[selectionHandleType,square],[fillOverlayBorderColor,rgba(127, 127, 127, 1)],[fillOverlayBorderWidth,2],[selectionOverlayBorderColor,rgba(66, 133, 244, 1)],[selectionOverlayBorderWidth,1],[treeArrowBorderColor,rgba(195, 199, 202, 1)],[treeArrowBorderWidth,1],[treeArrowClickRadius,5],[treeArrowColor,rgba(155, 155, 155, 1)],[treeArrowHeight,8],[treeArrowMarginLeft,0],[treeArrowMarginRight,5],[treeArrowMarginTop,6],[treeArrowWidth,13],[treeGridHeight,250],[unhideIndicatorColor,rgba(0, 0, 0, 1)],[unhideIndicatorBackgroundColor,rgba(255, 255, 255, 1)],[unhideIndicatorBorderColor,rgba(174, 193, 232, 1)],[unhideIndicatorSize,16],[width,auto]]}}o.d(t,{Zfunction(){return r}})},251function(e,t,o){use strict;function r(e){e.getClippingRect=function(t){var o=e.position(e.parentNode),r=e.position(t),n=e.scrollOffset(e.canvas),l={x0,y0,h0,w0},i={x-10,y-10,h10,w10},a=e.getColumnHeaderCellHeight(),s=e.getRowHeaderCellWidth();return o.top-=n.top,o.left-=n.left,r.top-=n.top,r.left-=n.left,l.h=o.top+o.height-t.offsetTop-e.style.scrollBarWidth,l.w=o.left+o.width-t.offsetLeft-e.style.scrollBarWidth,l.x=o.left+-1r.left+s,l.y=o.top+-1r.top+a,{xl.xi.xl.xi.x,yl.yi.yl.yi.y,hl.hi.hl.hi.h,wl.wi.wl.wi.w}},e.clipElement=function(t){var o=e.getClippingRect(t);o.w0&&(o.w=0),o.h0&&(o.h=0),t.style.clip=rect(+o.y+px,+o.w+px,+o.h+px,+o.x+px)},e.scrollOffset=function(t){for(var o=0,r=0,n=document.scrollingElement{scrollLeft0,scrollTop0};t.parentNode&&CANVAS-DATAGRID!==t.nodeName&&t!==e.intf;)canvas-datagrid-tree!==t.nodeType&&canvas-datagrid-cell!==t.nodeType&&(o-=t.scrollLeft,r-=t.scrollTop),t=t.parentNode;return{lefto-n.scrollLeft,topr-n.scrollTop}},e.resizeEditInput=function(){if(e.input&&e.input.editCell){var t=e.canvas.getBoundingClientRect(),o=e.scrollOffset(e.intf),r=collapse===e.style.gridBorderCollapse12,n=e.style.cellBorderWidthr,l=e.getVisibleCellByIndex(e.input.editCell.columnIndex,e.input.editCell.rowIndex){x-100,y-100,height0,width0};if(e.mobile)return e.input.style.left=0,e.input.style.top=e.height-e.style.mobileEditInputHeight-n-1+px,e.input.style.height=e.style.mobileEditInputHeight+px,void(e.input.style.width=e.width-n-1+px);var i=e.getColumnGroupAreaHeight(),a=e.getRowGroupAreaWidth();if(e.parentNode){var s=e.parentNode,c=s.columnGroupsAreaHeight,d=s.rowGroupsAreaWidth;c&&(i+=c),d&&(a+=d)}e.input.style.left=t.left+l.x+e.canvasOffsetLeft-o.left+a+px,e.input.style.top=t.top+l.y-e.style.cellBorderWidth+e.canvasOffsetTop-o.top+i+px,e.input.style.height=l.height-n+px,e.input.style.width=l.width-e.style.cellPaddingLeft+px,e.clipElement(e.input)}},e.position=function(t,o){for(var r,n,l=0,i=0,a=t,s=!1;t.offsetParent&&CANVAS-DATAGRID!==t.nodeName;){var c=canvas-datagrid-tree===t.nodeType;c&&s(l+=t.offsetLeft,i+=t.offsetTop,r=t.offsetHeight,n=t.offsetWidth),c&&(s=!0),t=t.offsetParent}return o{leftl,topi,heightr,widthn}(t=a,{leftl+(a=e.scrollOffset(t)).left,topi+a.top,heightr,widthn})},e.getLayerPos=function(t){var o=e.canvas.getBoundingClientRect(),r={xt.clientX-o.left,yt.clientY-o.top};return e.isChildGrid&&(r.x-=e.canvasOffsetLeft,r.y-=e.canvasOffsetTop,e.parentNode.rowGroupsAreaWidth&&(r.x-=e.parentNode.rowGroupsAreaWidth),e.parentNode.columnGroupsAreaHeight&&(r.y-=e.parentNode.columnGroupsAreaHeight)),{xr.x,yr.y,recto}},e.endEdit=function(t){var o=e.input.editCell,r=o.rowIndex;if(e.dispatchEvent(beforeendedit,{cello,newValuee.input.value,oldValueo.value,abortfunction(){t=!0},inpute.input}))return!1;if(e.input.value!==o.value&&!t){if(e.changes[r]=e.changes[r]{},e.changes[r][o.header.name]=e.input.value,o.data(e.originalData[o.boundRowIndex]={},o.data=e.originalData[o.boundRowIndex]),o.data[o.header.name]=e.input.value,r===e.viewData.length){if(e.dispatchEvent(newrow,{valuee.input.value,defaultValueo.value,abortedt,cello,inpute.input}))return!1;e.addRow(o.data),e.createNewRowData()}e.draw(!0)}return e.input.parentNode&&e.input.parentNode.removeChild(e.input),e.intf.focus(),e.dispatchEvent(endedit,{cello,valuee.input.value,abortedt,inpute.input}),e.input=void 0,!0},e.beginEditAt=function(t,o,r){var n=arguments.length3&&void 0!==arguments[3]&&arguments[3];if(e.attributes.editable){e.input&&e.endEdit();var l,i,a,s,c,d=e.getVisibleCellByIndex(t,o);if(e.getSchema(),d&&d.header){if(a=d.header.enum,e.dispatchEvent(beforebeginedit,{celld,NativeEventr}))return!1;if(e.scrollIntoView(t,o),e.setActiveCell(t,o),l=e.getAdjacentCells(),e.input=adocument.createElement(select)document.createElement(e.attributes.multiLinetextareainput),d=e.getVisibleCellByIndex(t,o)){a&&(function==typeof ai=a.apply(e.intf,[{celld}])Array.isArray(a)&&(i=a),i.forEach((function(t){var o,r,n=document.createElement(option);Array.isArray(t)(o=t[0],r=t[1])(o=t,r=t),o===d.value&&(c=!0),n.value=o,n.innerHTML=r,e.input.appendChild(n)})),c((s=document.createElement(option)).value=d.value,s.innerHTML=d.value,e.input.appendChild(s)),e.input.addEventListener(change,(function(){e.endEdit(),e.draw(!0)}))),e.dispatchEvent(appendeditinput,{celld,inpute.input})document.body.appendChild(e.input),e.createInlineStyle(e.input,e.mobilecanvas-datagrid-edit-mobile-inputcanvas-datagrid-edit-input),e.input.style.position=absolute,e.input.editCell=d,e.resizeEditInput(),e.input.style.zIndex=e.style.editCellZIndex,e.input.style.fontSize=parseInt(e.style.editCellFontSize,10)e.scale+px;var u=-1!==[null,void 0].indexOf(d.value),f=un;e.input.value=fd.value;var h=Math.round(e.input.value.lengthparseInt(e.style.editCellFontSize,10).7e.scale);h+e.style.cellPaddingLeftd.widthh=d.width-e.style.cellPaddingLefthe.width-d.x-e.style.scrollBarWidth&&(h=e.width-d.x-e.style.scrollBarWidth,e.input.style.height=auto),e.input.style.width=h+px,e.input.focus(),e.input.addEventListener(click,e.stopPropagation),e.input.addEventListener(dblclick,e.stopPropagation),e.input.addEventListener(mouseup,e.stopPropagation),e.input.addEventListener(mousedown,e.stopPropagation),e.input.addEventListener(keydown,(function(o){var r=d.columnIndex,i=d.rowIndex;if(Escape===o.key)e.endEdit(!0),e.draw(!0);else if(Enter===o.key&&e.attributes.multiLine&&o.altKey)e.input.value=e.input.value+n,e.input.scrollTop=e.input.scrollHeight;else if(Enter===o.key){e.endEdit();var a=o.shiftKeyMath.max(0,i-1)Math.min(i+1,e.viewData.length-1);a!==i&&(e.scrollIntoView(r,a),e.setActiveCell(r,a)),e.draw(!0)}else if([ArrowUp,ArrowDown,ArrowLeft,ArrowRight].includes(o.key)&&n){switch(o.key){caseArrowUpi=Math.max(0,i-1);break;caseArrowDowni=Math.min(i+1,e.viewData.length-1);break;caseArrowLeftr=Math.max(r-1,0);break;caseArrowRightr=l.right}e.endEdit(),e.scrollIntoView(r,i),e.setActiveCell(r,i),e.draw(!0)}else if(Tab===o.key){if(o.preventDefault(),!e.endEdit())return;r=o.shiftKeyl.leftl.right,l.left===t&&o.shiftKey&&(r=l.last,i-=1),l.right!==to.shiftKey(r=l.first,i+=1),i0&&(i=e.viewData.length-1),ie.viewData.length-1&&(i=0),e.scrollIntoView(r,i),e.beginEditAt(r,i,o)}else{var s=Math.round(e.input.value.lengthparseInt(e.style.editCellFontSize,10).7e.scale);s+e.style.cellPaddingLeftd.widths=d.width-e.style.cellPaddingLeftse.width-d.x-e.style.scrollBarWidth&&(s=e.width-d.x-e.style.scrollBarWidth,e.input.style.height=auto),e.input.style.width=s+px}})),e.dispatchEvent(beginedit,{celld,inpute.input})}}}},e.createInlineStyle=function(t,o){var r={canvas-datagrid-button-wrapper{displayinline-block,paddinge.style.buttonPadding,borderWidth1px,borderStylesolid,borderColore.style.buttonBorderColor,cursorpointer,backgrounde.style.buttonBackgroundColor,userSelectnone},canvas-datagrid-button-wrapperhover{borderColore.style.buttonBorderColor,backgrounde.style.buttonHoverBackgroundColor},canvas-datagrid-button-wrapperactive{borderColore.style.buttonActiveBorderColor,backgrounde.style.buttonActiveBackgroundColor},canvas-datagrid-button-icon{width18px,height18px,displayinline-block,verticalAlignmiddle},canvas-datagrid-button-arrow{displayinline-block,colore.style.buttonArrowColor,fontSize9px},canvas-datagrid-button-menu-item-mobile{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,colorinherit,backgroundinherit,margine.style.contextMenuItemMargin,borderRadiuse.style.contextMenuItemBorderRadius,verticalAlignmiddle},canvas-datagrid-button-menu-item{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,colorinherit,backgroundinherit,margine.style.contextMenuItemMargin,borderRadiuse.style.contextMenuItemBorderRadius,verticalAlignmiddle},canvas-datagrid-button-menu-itemhover{backgrounde.style.contextMenuHoverBackground,colore.style.contextMenuHoverColor},canvas-datagrid-button-menu-label{margine.style.contextMenuLabelMargin,displaye.style.contextMenuLabelDisplay,minWidthe.style.contextMenuLabelMinWidth,maxWidthe.style.contextMenuLabelMaxWidth},canvas-datagrid-button-menu-mobile{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,backgrounde.style.contextMenuBackground,colore.style.contextMenuColor,bordere.style.contextMenuBorder,paddinge.style.contextMenuPadding,borderRadiuse.style.contextMenuBorderRadius,opacitye.style.contextMenuOpacity,overflowhidden,whiteSpacenowrap},canvas-datagrid-button-menu{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,backgrounde.style.contextMenuBackground,colore.style.contextMenuColor,bordere.style.contextMenuBorder,paddinge.style.contextMenuPadding,borderRadiuse.style.contextMenuBorderRadius,opacitye.style.contextMenuOpacity,overflowhidden,whiteSpacenowrap,cursore.style.contextMenuCursor},canvas-datagrid-context-menu-filter-input{height19px,verticalAlignbottom,marginLeft2px,padding0,backgrounde.style.contextFilterInputBackground,colore.style.contextFilterInputColor,bordere.style.contextFilterInputBorder,borderRadiuse.style.contextFilterInputBorderRadius,lineHeightnormal,fontWeightnormal,fontFamilye.style.contextFilterInputFontFamily,fontSizee.style.contextFilterInputFontSize},canvas-datagrid-context-menu-filter-button{height19px,verticalAlignbottom,marginLeft2px,padding0,backgrounde.style.contextMenuBackground,colore.style.contextMenuColor,bordere.style.contextFilterButtonBorder,borderRadiuse.style.contextFilterButtonBorderRadius,lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFilterButtonFontFamily,fontSizee.style.contextMenuFilterButtonFontSize},canvas-datagrid-context-child-arrow{cssFloatright,colore.style.childContextMenuArrowColor,fontSizee.style.contextMenuChildArrowFontSize,fontFamilye.style.contextMenuFontFamily,verticalAlignmiddle},canvas-datagrid-autocomplete{fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,backgrounde.style.contextMenuBackground,colore.style.contextMenuColor,bordere.style.contextMenuBorder,paddinge.style.contextMenuPadding,borderRadiuse.style.contextMenuBorderRadius,opacitye.style.contextMenuOpacity,positionabsolute,zIndex9999,overflowhidden},canvas-datagrid-autocomplete-item{backgrounde.style.contextMenuBackground,colore.style.contextMenuColor},canvas-datagrid-autocomplete-itemhover{backgrounde.style.contextMenuHoverBackground,colore.style.contextMenuHoverColor},canvas-datagrid-canvas{positionabsolute,zIndex-1},canvas-datagrid{displayblock},canvas-datagrid-control-input{positionfixed,top-5px,left-5px,bordernone,opacity0,cursorpointer,width1px,height1px,lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize},canvas-datagrid-edit-mobile-input{boxSizingcontent-box,outlinenone,margin0,padding0 0 0 0,lineHeightnormal,fontWeightnormal,fontFamilye.style.mobileEditFontFamily,fontSizee.style.mobileEditFontSize,bordere.style.editCellBorder,colore.style.editCellColor,backgrounde.style.editCellBackgroundColor,appearancenone,webkitAppearancenone,mozAppearancenone,borderRadius0},canvas-datagrid-edit-input{boxSizingcontent-box,outlinenone,margin0,padding0 0 0 +e.style.editCellPaddingLeft+px,lineHeightnormal,fontWeightnormal,fontFamilye.style.editCellFontFamily,fontSizee.style.editCellFontSize,boxShadowe.style.editCellBoxShadow,bordere.style.editCellBorder,colore.style.editCellColor,backgrounde.style.editCellBackgroundColor,appearancenone,webkitAppearancenone,mozAppearancenone,borderRadius0},canvas-datagrid-context-menu-item-mobile{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,colorinherit,backgroundinherit,margine.style.contextMenuItemMargin,borderRadiuse.style.contextMenuItemBorderRadius,verticalAlignmiddle},canvas-datagrid-context-menu-item{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,colorinherit,backgroundinherit,margine.style.contextMenuItemMargin,borderRadiuse.style.contextMenuItemBorderRadius,verticalAlignmiddle},canvas-datagrid-context-menu-itemhover{backgrounde.style.contextMenuHoverBackground,colore.style.contextMenuHoverColor},canvas-datagrid-context-menu-label{margine.style.contextMenuLabelMargin,displaye.style.contextMenuLabelDisplay,minWidthe.style.contextMenuLabelMinWidth,maxWidthe.style.contextMenuLabelMaxWidth},canvas-datagrid-context-menu-mobile{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,backgrounde.style.contextMenuBackground,colore.style.contextMenuColor,bordere.style.contextMenuBorder,paddinge.style.contextMenuPadding,borderRadiuse.style.contextMenuBorderRadius,opacitye.style.contextMenuOpacity,overflowhidden,whiteSpacenowrap},canvas-datagrid-context-menu{lineHeightnormal,fontWeightnormal,fontFamilye.style.contextMenuFontFamily,fontSizee.style.contextMenuFontSize,backgrounde.style.contextMenuBackground,colore.style.contextMenuColor,bordere.style.contextMenuBorder,paddinge.style.contextMenuPadding,borderRadiuse.style.contextMenuBorderRadius,opacitye.style.contextMenuOpacity,overflowhidden,whiteSpacenowrap,cursore.style.contextMenuCursor},canvas-datagrid-invalid-search-regExp{backgrounde.style.contextMenuFilterInvalidExpresion}};r[o]&&Object.keys(r[o]).map((function(e){t.style[e]=r[o][e]}))},e.appendTo=function(t){e.parentNode=t,e.setDom()},e.setDom=function(){e.isChildGrid(e.parentGrid=e.parentNode.parentGrid,e.ctx=e.parentGrid.context,e.canvas=e.parentGrid.canvas,e.controlInput=e.parentGrid.controlInput,e.eventParent=e.canvas)(e.controlInput=e.controlInputdocument.createElement(input),e.controlInput.onblur=e.intf.blur,e.createInlineStyle(e.controlInput,canvas-datagrid-control-input),e.isChildGrid=!1,e.parentDOMNode=e.parentNode,e.parentIsCanvas=^canvas$i.test(e.parentDOMNode.tagName),e.parentIsCanvase.canvas=e.parentDOMNode(e.canvas=document.createElement(canvas),e.parentDOMNode.appendChild(e.canvas)),document.body.appendChild(e.controlInput),e.createInlineStyle(e.canvas,canvas-datagrid),e.ctx=e.canvas.getContext(2d),e.ctx.textBaseline=alphabetic,e.eventParent=e.canvas),e.parentNodeStyle=e.canvas.style,e.controlInput.setAttribute(readonly,!0),e.controlInput.addEventListener(blur,(function(t){t.target!==e.canvas&&(e.hasFocus=!1)})),e.eventParent.addEventListener(scroll,e.resize,!1),e.eventParent.addEventListener(touchstart,e.touchstart,!1),e.eventParent.addEventListener(mousedown,e.mousedown,!1),e.eventParent.addEventListener(dblclick,e.dblclick,!1),e.eventParent.addEventListener(click,e.click,!1),window.addEventListener(mouseup,e.mouseup,!1),window.addEventListener(mousemove,e.mousemove),e[e.isChildGridparentGrideventParent].addEventListener(wheel,e.scrollWheel,!1),e.canvas.addEventListener(contextmenu,e.contextmenuEvent,!1),e.controlInput.addEventListener(copy,e.copy),e.controlInput.addEventListener(cut,e.cut),e.controlInput.addEventListener(paste,e.paste),e.controlInput.addEventListener(keypress,e.keypress,!1),e.controlInput.addEventListener(keyup,e.keyup,!1),e.controlInput.addEventListener(keydown,e.keydown,!1),window.addEventListener(resize,e.resize)}}o.d(t,{Zfunction(){return r}})},305function(e,t,o){use strict;function r(e,t){return function(e){if(Array.isArray(e))return e}(e)function(e,t){if(undefined!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],r=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(o.push(i.value),!to.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{rnull==a.returna.return()}finally{if(n)throw l}}return o}}(e,t)l(e,t)function(){throw new TypeError(Invalid attempt to destructure non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}()}function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)function(e){if(undefined!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)l(e)function(){throw new TypeError(Invalid attempt to spread non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}()}function l(e,t){if(e){if(string==typeof e)return i(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)i(e,t)void 0}}function i(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}function a(e){var t=[],o=!1,l=0,i=300,a=[],s=[],c=[];function d(e,t,o,r){o=o1;var n,l=[];for(n=e;n=t;n+=o)l[n]=void 0===rnfunction==typeof rr(n)r;return l}function u(t,o){if(!(t.length4)){e.ctx.beginPath(),e.ctx.moveTo(t[0]+e.canvasOffsetLeft,t[1]+e.canvasOffsetTop);for(var r=2;rt.length;r+=2){var n=t[r]+e.canvasOffsetLeft,l=t[r+1]+e.canvasOffsetTop;e.ctx.lineTo(n,l)}oe.ctx.fill()e.ctx.stroke()}}function f(e,t,o,r){m(e,t,o,o),x(e,t,o,o);var n=e+.5o,l=t+.5o;u([e+.2o,l,e+.78o,l]),r&&u([n,t+.22o,n,t+.8o])}function h(t,o,r,n,l){var i,a,s,c,d=.2r,f=.3r,h=r-2d,g=r-2f,p=.5h;switch(n){caserc=[t,o,t+r,o,t+r,o+r,t,o+r],s=[i=t+f,a=o+d,i,a+h,i+g,a+p];break;caselc=[t+r,o,t,o,t,o+r,t+r,o+r],s=[i=t+r-f,a=o+d,i,a+h,i-g,a+p];break;casetc=[t,o+r,t,o,t+r,o,t+r,o+r],s=[i=t+d,a=o+r-f,i+h,a,i+p,a-g];break;casebc=[t,o,t,o+r,t+r,o+r,t+r,o],s=[i=t+d,a=o+f,i+h,a,i+p,a+g]}if(l){e.ctx.strokeStyle=e.style.unhideIndicatorBorderColor,e.ctx.lineWidth=2,u(c),e.ctx.fillStyle=e.style.unhideIndicatorBackgroundColor;var x=r===nb===n10;l===nr===nm(t-x,o,r+x,r)m(t,o-x,r,r+x)}e.ctx.fillStyle=e.style.unhideIndicatorColor,u(s,!0)}function g(t,o,r){var n=ro.parentCount0,l=e.style.cellTreeIconWidthe.scale,i=e.style.cellTreeIconMarginTope.scale,a=e.style.cellTreeIconMarginRighte.scale,s=e.style.cellTreeIconMarginLefte.scale+n(l+t.paddingLeft),c=t.x+t.paddingLeft+e.canvasOffsetLeft+s,d=t.y+e.canvasOffsetTop+i;if(o.icon){e.ctx.beginPath();var u=e.ctx.fillStyle,f=e.ctx.strokeStyle;t.hovered&&e.hovers.onCellTreeIcone.ctx.fillStyle=e.style.cellTreeIconHoverFillColore.ctx.fillStyle=e.style.cellTreeIconFillColor,e.ctx.fillRect(c,d,l,l),e.ctx.strokeStyle=e.style.cellTreeIconBorderColor,e.ctx.rect(c,d,l,l),e.ctx.stroke(),e.ctx.beginPath(),o.expand(e.ctx.moveTo(c+3,d+.5l),e.ctx.lineTo(c+l-3,d+.5l))(e.ctx.moveTo(c+2,d+.5l),e.ctx.lineTo(c+l-2,d+.5l),e.ctx.moveTo(c+.5l,d+2),e.ctx.lineTo(c+.5l,d+l-2)),e.ctx.lineWidth=e.style.cellTreeIconLineWidth,e.ctx.strokeStyle=e.style.cellTreeIconLineColor,e.ctx.stroke(),e.ctx.strokeStyle=f,e.ctx.fillStyle=u}return s+l+a}function p(t,o,r,n,l){var i=(t+=e.canvasOffsetLeft)+r,a=(o+=e.canvasOffsetTop)+n;e.ctx.beginPath(),e.ctx.moveTo(t+l,o),e.ctx.lineTo(i-l,o),e.ctx.quadraticCurveTo(i,o,i,o+l),e.ctx.lineTo(i,o+n-l),e.ctx.quadraticCurveTo(i,a,i-l,a),e.ctx.lineTo(t+l,a),e.ctx.quadraticCurveTo(t,a,t,a-l),e.ctx.lineTo(t,o+l),e.ctx.quadraticCurveTo(t,o,t+l,o)}function m(t,o,r,n){t+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.fillRect(t,o,r,n)}function x(t,o,r,n){t+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.strokeRect(t,o,r,n)}function v(t,o,r){o+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.fillText(t,o,r)}function y(t){e.ctx.beginPath(),0===t&&(e.ctx.moveTo(e.lastFrozenColumnPixel,e.lastFrozenRowPixel),e.ctx.lineTo(e.lastFrozenColumnPixel,e.height),e.ctx.lineTo(e.width,e.height),e.ctx.lineTo(e.width,e.lastFrozenRowPixel)),1===t&&(e.ctx.moveTo(0,e.lastFrozenRowPixel),e.ctx.lineTo(0,e.height),e.ctx.lineTo(e.width,e.height),e.ctx.lineTo(e.width,e.lastFrozenRowPixel)),2===t&&(e.ctx.moveTo(e.lastFrozenColumnPixel,0),e.ctx.lineTo(e.width,0),e.ctx.lineTo(e.width,e.height),e.ctx.lineTo(e.lastFrozenColumnPixel,e.height)),e.ctx.clip()}function w(t,o,r){if(circle===e.style.selectionHandleType)return function(t,o,r){t+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.beginPath(),e.ctx.arc(t,o,r,0,2Math.PI),e.ctx.fill()}(t,o,.5r);m(t-.5r,o-.5r,r,r)}function b(t,o,r){if(circle===e.style.selectionHandleType)return function(t,o,r){t+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.beginPath(),e.ctx.arc(t,o,r,0,2Math.PI),e.ctx.stroke()}(t,o,.5r);x(t-.5r,o-.5r,r,r)}function C(t,o){e.ctx.beginPath(),{tfunction(){e.ctx.moveTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop),e.ctx.lineTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop)},rfunction(){e.ctx.moveTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop),e.ctx.lineTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop+t.height)},bfunction(){e.ctx.moveTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop+t.height),e.ctx.lineTo(t.x+e.canvasOffsetLeft+t.width,t.y+e.canvasOffsetTop+t.height)},lfunction(){e.ctx.moveTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop),e.ctx.lineTo(t.x+e.canvasOffsetLeft,t.y+e.canvasOffsetTop+t.height)}}[o](),e.ctx.stroke()}function S(){for(var t=0,o=e.getSchema(),r=0,n=Math.min(e.frozenColumn,o.length),l=e.getCollapsedColumnGroups();rn;)o[r].hiddenl.findIndex((function(e){return r=e.from&&r=e.to}))=0(t+=e.getColumnWidth(r)),r+=1;return t}e.htmlImageCache={},e.draw=function(B){if(!e.dispatchEvent(beforedraw,{})&&(e.isChildGride.height&&e.width))if(e.isChildGrid&&B)requestAnimationFrame(e.parentGrid.draw);else if(!1!==e.intf.visible){var I,M,T,R,k,O,E,z,A,H,P,L,D,F,W,_,G,N,j,V,Z,U=e.viewData[],K=collapse===e.style.gridBorderCollapse,q=[],X=[],Y=[],J=[],$=U.length,Q=e.currentCell{},ee=e.getColumnHeaderCellHeight(),te=e.getRowHeaderCellWidth(),oe=e.getRowGroupAreaWidth(),re=e.getColumnGroupAreaHeight(),ne={},le={},ie={},ae=e.getCollapsedColumnGroups(),se=e.getCollapsedRowGroups(),ce=e.style.cellHeight,de=0,ue=e.hiddenRowRanges.map((function(e){return{frome[0],pluse[1]-e[0]+1}})).sort((function(e,t){return e.from-t.from}));l+=1,M=performance.now(),e.visibleRowHeights=[],U.lengthe.orders.rows.length&&e.createRowOrders(),e.ctx.save(),function(){e.visibleRows=[],F=e.getSchema(),e.visibleCells=[],e.visibleGroups=[],e.visibleUnhideIndicators=[],e.canvasOffsetTop=e.isChildGride.parentNode.offsetTop.5,e.canvasOffsetLeft=e.isChildGride.parentNode.offsetLeft-.5,L=e.height,D=e.width;var t=ue[0];t&&0===t.from&&(de=t.plus,ue.shift())}(),p(0,0,D,L,0),e.ctx.clip(),e.ctx.fillStyle=e.style.gridBackgroundColor,m(0,0,D,L),e.ctx.translate(oe,re),function(){var t=Math.min(U.length,e.frozenRow);for(H=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.cellBorderWidth,A=ee,W=0;Wt&&pe(e.orders.rows[W],W);W+=1);e.attributes.allowFreezingRows&&(Aee&&(A+=e.style.frozenMarkerWidth),A+=e.style.frozenMarkerBorderWidth-.4999999999),e.lastFrozenRowPixel=A}(),function(){e.ctx.save(),e.frozenRow0&&(p(0,e.lastFrozenRowPixel,e.width,e.height-e.lastFrozenRowPixel,0),e.ctx.clip());var t,o,r,n=F.length;for(H=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.cellBorderWidth,e.attributes.snapToRow(A+=-e.scrollBox.scrollTop+e.scrollPixelTop+e.style.cellBorderWidth),W=e.frozenRow+e.scrollIndexTop;W$&&(o=e.orders.rows[W],e.scrollIndexBottom=W,e.scrollPixelBottom=A,e.cellTree.rows.length0&&Object.keys(e.cellTree.rows[o]).length0&&e.cellTree.rows[o].hidepe(o,W));W+=1);if(e.attributes.showNewRow){for(e.attributes.showRowHeaders&&(H+=te),E=ce=e.style.cellHeight,O=!1,t=e.scrollIndexLeft;tn&&(fe(t)(r=e.orders.columns[t],H+=ge(e.newRow,U.length,U.length)(F[r],r,t)),!(He.width+e.scrollBox.scrollLeft));t+=1);J.push([e.newRow,U.length,U.length,A,E])}e.ctx.restore()}(),function(){if(G){e.ctx.save();var t=e.activeCell.columnIndex+1e.frozenColumne.activeCell.rowIndex+1e.frozenRow;p(te.lastFrozenColumnPixel0,te.lastFrozenRowPixel0,te.width-e.lastFrozenColumnPixele.width,te.height-e.lastFrozenRowPixele.height,0),e.ctx.clip(),row===e.attributes.selectionModee.activeCell&&e.activeCell.rowIndex===G.rowIndex&&(e.ctx.lineWidth=e.style.activeCellOverlayBorderWidth,e.ctx.strokeStyle=e.style.activeCellOverlayBorderColor,x(1,G.y,e.getHeaderWidth()+te,e.visibleRowHeights[G.rowIndex]))(e.ctx.lineWidth=e.style.activeCellOverlayBorderWidth,e.ctx.strokeStyle=e.style.activeCellOverlayBorderColor,x(G.x,G.y,G.width,G.height)),e.ctx.restore()}}(),function(){var t,o,r,n,l,i,a=F.length;function s(i,s){for(s=Math.min(s,a),r=i;rs&&(o=e.orders.columns[r],(l=F[o]).hiddenfe(r)(t={titlel.title,namel.name,widthl.widthe.style.cellWidth,stylecolumnHeaderCell,typestring,indexr,ordero},n={columnHeaderCelll.titlel.name},!((H+=ge(n,-1,-1)(t,o,r))e.width+e.scrollBox.scrollLeft)));r+=1);}J.forEach((function(t,o){A=t[3],ce=t[4],o===e.frozenRow&&(e.ctx.save(),p(0,e.lastFrozenRowPixel,e.width,e.height-e.lastFrozenRowPixel,0),e.ctx.clip()),function(t,o,r){if(e.attributes.showRowHeaders){var n;H=0,n=e.viewData&&oe.viewData.lengthe.getBoundRowIndexFromViewRowIndex(o)+1e.originalDatae.originalData.length+1r+1;var l=e.hasActiveFilters()e.hasCollapsedRowGroup()no+1,i={rowHeaderCelll+=de},a={namerowHeaderCell,widthe.sizes.columns[-1]e.style.rowHeaderCellWidth,stylerowHeaderCell,typestring,datal,index-1};if(O=e.openChildren[o],ge(i,r,o)(a,-1,-1),ue[0]&&l=ue[0].from){var s=ue.shift().plus;de+=s}}}(t[0],t[1],t[2])})),e.ctx.restore(),e.attributes.showColumnHeaders&&(H=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.columnHeaderCellBorderWidth,e.attributes.showRowHeaders&&(H+=te),A=0,ce=e.getColumnHeaderCellHeight(),s(e.scrollIndexLeft,a),i=H,H=e.style.columnHeaderCellBorderWidth,e.attributes.showRowHeaders&&(H+=te),s(0,e.frozenColumn),(H=i)D&&(P={name,widthe.style.scrollBarWidth,stylecolumnHeaderCellCap,isColumnHeaderCell!0,isColumnHeaderCellCap!0,typestring,indexF.length},ge({endCap},-1,-1)(P,-1,-1)),e.attributes.showRowHeaders&&(z={cornerCell},H=0,P={namecornerCell,widthe.style.rowHeaderCellWidth,stylecornerCell,typestring,index-1},ge(z,-1,-1)(P,-1,-1)))}(),function(){var t=e.lastFrozenRowPixel-e.style.frozenMarkerWidth,o=e.lastFrozenColumnPixel-e.style.frozenMarkerWidth,r=e.currentCell&&frozen-row-marker===e.currentCell.style,n=e.currentCell&&frozen-column-marker===e.currentCell.style,l=e.getRowHeaderCellWidth();if(e.ctx.lineWidth=e.style.frozenMarkerBorderWidth,e.attributes.allowFreezingColumns&&((!e.freezeMarkerPositione.freezeMarkerPosition&&frozen-row-marker===e.dragMode)&&(oe.style.rowHeaderCellWidth&&(e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,m(o,0,e.style.frozenMarkerWidth,e.height),x(o,0,e.style.frozenMarkerWidth,e.height)),e.ctx.fillStyle=ne.style.frozenMarkerHoverColore.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=ne.style.frozenMarkerHoverBorderColore.style.frozenMarkerHeaderColor,m(o,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),x(o,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight)),(!e.dragStartObjecte.dragStartObject&&rowHeaderCell!==e.dragStartObject.style)&&e.visibleCells.unshift({xo,y0,heighte.height,widthe.style.frozenMarkerWidth,stylefrozen-column-marker})),e.attributes.allowFreezingRows){(!e.freezeMarkerPositione.freezeMarkerPosition&&frozen-column-marker===e.dragMode)&&(tl&&(e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,m(0,t,e.width,e.style.frozenMarkerWidth),x(0,t,e.width,e.style.frozenMarkerWidth)),e.ctx.fillStyle=re.style.frozenMarkerHoverColore.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=re.style.frozenMarkerHoverBorderColore.style.frozenMarkerHeaderColor,m(0,t,l,e.style.frozenMarkerWidth),x(0,t,l,e.style.frozenMarkerWidth));var i=e.style.frozenMarkerWidth+e.style.frozenMarkerBorderWidth;(!e.dragStartObjecte.dragStartObject&&columnHeaderCell!==e.dragStartObject.style)&&e.visibleCells.unshift({x0,yt,heighti,widthe.width,stylefrozen-row-marker}),le={yt,hi}}if(e.freezeMarkerPosition)if(e.ctx.fillStyle=e.style.frozenMarkerActiveColor,e.ctx.strokeStyle=e.style.frozenMarkerActiveBorderColor,frozen-column-marker===e.dragMode){var a=e.freezeMarkerPosition.x,s=e.getCellAt(a,0);if(e.freezeMarkerPosition.isGrab&&(a=o),al){var c=s.x-e.style.frozenMarkerWidth-e.style.frozenMarkerBorderWidth;ac+s.width2&&(c+=s.width),e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,m(c,0,e.style.frozenMarkerWidth,e.height),x(c,0,e.style.frozenMarkerWidth,e.height),e.ctx.fillStyle=e.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerHeaderColor,m(c,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),x(c,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight)}e.ctx.fillStyle=e.style.frozenMarkerActiveHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerActiveBorderColor,m(a,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),x(a,0,e.style.frozenMarkerWidth,e.style.columnHeaderCellHeight),e.ctx.fillStyle=e.style.frozenMarkerActiveColor,m(a,0,e.style.frozenMarkerWidth,e.height),x(a,0,e.style.frozenMarkerWidth,e.height)}else{var d=e.freezeMarkerPosition.y,u=e.getCellAt(0,d);if(e.freezeMarkerPosition.isGrab&&(d=t),de.style.columnHeaderCellHeight){var f=u.y-e.style.frozenMarkerWidth-e.style.frozenMarkerBorderWidth;df+u.height2&&(f+=u.height),e.ctx.fillStyle=e.style.frozenMarkerColor,e.ctx.strokeStyle=e.style.frozenMarkerBorderColor,m(0,f,e.width,e.style.frozenMarkerWidth),x(0,f,e.width,e.style.frozenMarkerWidth),e.ctx.fillStyle=e.style.frozenMarkerHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerHeaderColor,m(0,f,l,e.style.frozenMarkerWidth),x(0,f,l,e.style.frozenMarkerWidth)}e.ctx.fillStyle=e.style.frozenMarkerActiveHeaderColor,e.ctx.strokeStyle=e.style.frozenMarkerActiveBorderColor,m(0,d,l,e.style.frozenMarkerWidth),x(0,d,l,e.style.frozenMarkerWidth),e.ctx.fillStyle=e.style.frozenMarkerActiveColor,m(0,d,e.width,e.style.frozenMarkerWidth),x(0,d,e.width,e.style.frozenMarkerWidth)}}(),(e.mobilee.attributes.allowMovingSelection)&&e.attributes.editable&&(e.ctx.lineWidth=e.style.selectionHandleBorderWidth,e.ctx.strokeStyle=e.style.selectionHandleBorderColor,e.ctx.fillStyle=e.style.selectionHandleColor,Y.forEach((function(t){!function(t,o){var r=e.style.selectionHandleSize;({trfunction(){w(t.x+t.width,t.y,r),b(t.x+t.width,t.y,r)},brfunction(){w(t.x+t.width,t.y+t.height,r),b(t.x+t.width,t.y+t.height,r)},tlfunction(){w(t.x,t.y,r),b(t.x,t.y,r)},blfunction(){w(t.x,t.y+t.height,r),b(t.x,t.y+t.height,r)}})[o]()}(t[0],t[1]);var o=e.attributes.touchSelectHandleZone2,r=t[0].x+(tl===t[1]bl===t[1]0t[0].width)-o,n=t[0].y+(bl===t[1]br===t[1]t[0].height0)-o;e.visibleCells.unshift({xr,yn,heighte.style.selectionHandleSize+o,widthe.style.selectionHandleSize+o,styleselection-handle-+t[1]})}))),function(){if(e.reorderObject){var t={heighte.reorderObject.height,widthe.reorderObject.width,xe.reorderObject.x+e.reorderObject.dragOffset.x,ye.reorderObject.y+e.reorderObject.dragOffset.y},o={widthD,heightL,x0,y0};if(e.ctx.fillStyle=e.style.reorderMarkerBackgroundColor,e.ctx.lineWidth=e.style.reorderMarkerBorderWidth,e.ctx.strokeStyle=e.style.reorderMarkerBorderColor,row-reorder===e.dragMode){for(var r=0;re.selections.length;r++)e.selections[r]&&r!=e.reorderObject.rowIndex&&(t.height+=e.getRowHeight(r));t.width=D,t.x=0,o.width=D,o.height=e.currentCell.height,o.y=e.currentCell.y,m(t.x,t.y,t.width,t.height),x(t.x,t.y,t.width,t.height),e.ctx.lineWidth=e.style.reorderMarkerIndexBorderWidth,e.ctx.strokeStyle=e.style.reorderMarkerIndexBorderColor,-1===e.selectedRows.indexOf(e.reorderTarget.sortRowIndex)&&e.currentCell.rowIndex!==e.reorderObject.rowIndex&&e.currentCell.rowIndex-1&&e.currentCell.rowIndex$&&C(o,e.reorderTarget.sortRowIndexe.reorderObject.sortRowIndexbt)}else if(column-reorder===e.dragMode&&e.reorderObject){var n=e.selections[0];if(n)for(r=1;rn.length;r++)t.width+=e.getColumnWidth(e.orders.columns[n[r]]);t.height=L,t.y=0,o.height=L,o.width=e.currentCell.width,o.y=0,o.x=e.currentCell.x,m(t.x,t.y,t.width,t.height),x(t.x,t.y,t.width,t.height),e.ctx.lineWidth=e.style.reorderMarkerIndexBorderWidth,e.ctx.strokeStyle=e.style.reorderMarkerIndexBorderColor,-1===e.selectedColumns.indexOf(e.reorderTarget.sortColumnIndex)&&e.currentCell.sortColumnIndex!==e.reorderObject.sortColumnIndex&&e.reorderTarget.columnIndex!==e.reorderObject.columnIndex&&e.currentCell.sortColumnIndex-1&&e.currentCell.sortColumnIndexF.length&&C(o,e.reorderTarget.columnIndexe.reorderObject.columnIndexrl)}}}(),e.movingSelection&&(e.ctx.lineWidth=e.style.moveOverlayBorderWidth,e.ctx.strokeStyle=e.style.moveOverlayBorderColor,e.ctx.setLineDash(e.style.moveOverlayBorderSegments),X.forEach((function(e){C(e[0],e[1])})),e.ctx.setLineDash([])),e.ctx.lineWidth=e.style.gridBorderWidth,e.ctx.strokeStyle=e.style.gridBorderColor,x(0,0,e.width,e.height),function(){function t(t){e.fillOverlay.handle(e.ctx.lineWidth=e.style.selectionOverlayBorderWidth,e.ctx.strokeStyle=e.style.selectionOverlayBorderColor,C(t[0],t[1]))}q.filter((function(t){return t[0].rowIndexe.frozenRow&&t[0].columnIndexe.frozenColumn})).forEach(t),e.ctx.save(),y(0),q.filter((function(t){return t[0].rowIndex=e.frozenRow&&t[0].columnIndex=e.frozenColumn})).forEach(t),e.ctx.restore(),e.ctx.save(),y(1),q.filter((function(t){return t[0].rowIndex=e.frozenRow&&t[0].columnIndexe.frozenColumn})).forEach(t),e.ctx.restore(),e.ctx.save(),y(2),q.filter((function(t){return t[0].rowIndexe.frozenRow&&t[0].columnIndex=e.frozenColumn})).forEach(t),e.ctx.restore(),function(){if(e.fillOverlay.handle&&e.fillOverlay.snapTo){e.ctx.save();var t=e.fillOverlay,o=t.handle,r=t.snapTo.x,n=t.snapTo.y,l=t.snap,i=x===t.directionll.x+(t.xr0l.width)t.xo.x,a=void 0===t.directiony===t.directionll.y+(t.yn0l.height)t.yo.y,s=Math.max(Math.min(r,i),t.minX),c=Math.max(Math.min(n,a),t.minY),d=Math.max(r,i)-s,u=Math.max(n,a)-c;e.ctx.strokeStyle=e.style.fillOverlayBorderColor,e.ctx.lineWidth=e.style.fillOverlayBorderWidth,e.ctx.setLineDash([3,3]),x(s,c,d,u),e.ctx.setLineDash([]),e.ctx.restore()}}()}(),j=e.scrollBox.entities,V=2e.style.scrollBarBoxMargin,e.ctx.strokeStyle=e.style.scrollBarBorderColor,e.ctx.lineWidth=e.style.scrollBarBorderWidth,e.frozenColumn0j.horizontalBox.x=te+e.style.scrollBarBoxMargin+e.scrollCache.x[e.frozenColumn-1]+(j.horizontalBar.width-e.scrollCache.x[e.frozenColumn-1]-e.scrollBox.scrollBoxWidth)(e.scrollBox.scrollLefte.scrollBox.scrollWidth)j.horizontalBox.x=te+e.style.scrollBarBoxMargin+(j.horizontalBar.width-e.scrollBox.scrollBoxWidth)(e.scrollBox.scrollLefte.scrollBox.scrollWidth),j.verticalBox.y=ee+e.style.scrollBarBoxMargin+e.scrollCache.y[e.frozenRow]+(j.verticalBar.height-e.scrollBox.scrollBoxHeight-e.scrollCache.y[e.frozenRow])(e.scrollBox.scrollTope.scrollBox.scrollHeight),e.scrollBox.horizontalBarVisible&&(e.ctx.fillStyle=e.style.scrollBarBackgroundColor,m(j.horizontalBar.x,j.horizontalBar.y,j.horizontalBar.width+V,j.horizontalBar.height),x(j.horizontalBar.x,j.horizontalBar.y,j.horizontalBar.width+V,j.horizontalBar.height),e.ctx.fillStyle=e.style.scrollBarBoxColor,e.scrollBox.horizontalBoxVisible&&(horizontal.test(Q.context)&&(e.ctx.fillStyle=e.style.scrollBarActiveColor),p(j.horizontalBox.x,j.horizontalBox.y,j.horizontalBox.width,j.horizontalBox.height,e.style.scrollBarBoxBorderRadius),e.ctx.stroke(),e.ctx.fill()),N=!0,e.visibleCells.unshift(j.horizontalBar),e.visibleCells.unshift(j.horizontalBox)),e.scrollBox.verticalBarVisible&&(e.ctx.fillStyle=e.style.scrollBarBackgroundColor,m(j.verticalBar.x,j.verticalBar.y,j.verticalBar.width,j.verticalBar.height+V),x(j.verticalBar.x,j.verticalBar.y,j.verticalBar.width,j.verticalBar.height+V),e.scrollBox.verticalBoxVisible&&(e.ctx.fillStyle=e.style.scrollBarBoxColor,vertical.test(Q.context)&&(e.ctx.fillStyle=e.style.scrollBarActiveColor),p(j.verticalBox.x,j.verticalBox.y,j.verticalBox.width,j.verticalBox.height,e.style.scrollBarBoxBorderRadius),e.ctx.stroke(),e.ctx.fill()),N=!0,e.visibleCells.unshift(j.verticalBar),e.visibleCells.unshift(j.verticalBox)),N&&(e.ctx.strokeStyle=e.style.scrollBarCornerBorderColor,e.ctx.fillStyle=e.style.scrollBarCornerBackgroundColor,p(j.corner.x,j.corner.y,j.corner.width,j.corner.height,0),e.ctx.stroke(),e.ctx.fill(),e.visibleCells.unshift(j.corner)),I&&e.resize(!0),function(){var t=oe,o=re,r=S(),n=le.y+le.h-ee,l=left===e.attributes.columnGroupIndicatorPosition,i=top===e.attributes.rowGroupIndicatorPosition,a=e.ctx;a.save(),a.fillStyle=e.style.groupingAreaBackgroundColor,m(0,-o,D,o),m(-t,-o,t,L),a.restore();for(var s=[],c=0;ce.groupedColumns.length;c++)for(var d=e.groupedColumns[c],h=0;hd.length;h++)s.push(Object.assign({rowc},d[h]));s.length0&&function(){for(var n=e.style.columnGroupRowHeight,i=.5n,c=.5(n-i),d=function(d){var h=s[d],g=h.row,p=h.collapsed,m=gn-o,x=m+.5n,v=m+n-c,y=te-i-c,w=function(e){return f(e,m+c,i,h.collapsed)},b=function(r,n){return e.visibleGroups.push({typec,collapsedp,fromh.from,toh.to,rowg,xr+t,ym+o,x2n+t,y2v+o})},C=h.frome.frozenColumn&&h.to=e.frozenColumn,S=h.from=e.frozenColumn;if(p){var B=y+i;if(h.from0){var I=h.to+1,M=ie[I];if(M)B=M.x+c;else{if(I=h.from-1,!(M=ie[I]))returncontinue;B=M.x+M.w-.5i}if(I=e.frozenColumn&&Br+te-c)returncontinue}var T=B+i;a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor,w(B),a.restore(),b(B,T)}var R=void 0,k=ie[h.from],O=ie[h.to],E=!0,z=!0;for(R=h.from;!k&&Rh.to;)k=ie[++R],E=!1;for(R=h.to;!O&&Rh.from;)O=ie[--R],z=!1;if(!k!O)returncontinue;var A=O.x+O.w,H=k.x;if(C){var P=ie[e.frozenColumn-1];if(P){var L=P.x+P.w;l(L+=i),L=A&&(A=(O=P).x+O.w,z=!1)}}var D=te+(Sr0);if(A+(l0i)D)returncontinue;A-=c,H+=c,a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor;var F=[];l(H(D+=2c)&&(H=D),0===h.from&&(H-=2c),A=H(F.push(H,x,A,x),z&&F.push(A,v))A=H,w(H-=i),A+=c-1)(HD&&(H=D),0===h.from&&(H-=2c),z&&(h.to===e.frozenColumn-1A-=iA+=2c,w(A)),HAH=A(0===h.from&&(E=!0,H=y+i),E&&F.push(H,v),F.push(H,x,A,x)),H-=c+1,z&&(A+=i)),u(F),a.restore(),b(H,A)},h=0;hs.length;h++)d(h)}();for(var g=[],p=0;pe.groupedRows.length;p++)for(var x=e.groupedRows[p],v=0;vx.length;v++)g.push(Object.assign({colp},x[v]));g.length0&&function(){for(var r=e.style.rowGroupColumnWidth,l=.5r,s=.5(r-l),c=function(c){var d=g[c],h=d.col,p=d.collapsed,m=hr-t,x=m+.5r,v=m+r-s,y=ee-l-s,w=function(e){return f(m+s,e,l,d.collapsed)},b=function(r,n){return e.visibleGroups.push({typer,collapsedp,fromd.from,tod.to,colh,xm+t,yr+o,x2v+t,y2n+o})},C=d.frome.frozenRow&&d.to=e.frozenRow,S=d.from=e.frozenRow;if(p){var B=y+l;if(d.from0){var I=d.to+1,M=ne[I];if(M)B=M.y;else{if(I=d.from-1,!(M=ne[I]))returncontinue;B=M.y+M.h-.5l}if(I=e.frozenRow&&Bn+ee-s)returncontinue}var T=B+l;a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor,w(B),a.restore(),b(B,T)}var R=void 0,k=ne[d.from],O=ne[d.to],E=!0,z=!0;for(R=d.from;!k&&Rd.to;)k=ne[++R],E=!1;for(R=d.to;!O&&Rd.from;)O=ne[--R],z=!1;if(!k!O)returncontinue;var A=O.y+O.h,H=k.y;if(C){var P=ne[e.frozenRow-1];if(P){var L=P.y+P.h;i(L+=l),L=A&&(A=(O=P).y+O.h,z=!1)}}var D=ee+(Sn0);if(A+(i0l)D)returncontinue;A-=s,H+=s,a.save(),a.strokeStyle=e.style.groupIndicatorColor,a.fillStyle=e.style.groupIndicatorBackgroundColor;var F=[];i(H(D+=2s)&&(H=D),0===d.from&&(H-=2s),A=H(F.push(x,H,x,A),z&&F.push(v,A))A=H,w(H-=l),A+=s-1)(HD&&(H=D),0===d.from&&(H-=2s),z&&(d.to===e.frozenRow-1&&(A-=l),w(A)),HAH=A(0===d.from&&(E=!0,H=y+l),E&&F.push(v,H),F.push(x,H,x,A),H-=s+1),z&&(A+=l)),u(F),a.restore(),b(H,A)},d=0;dg.length;d++)c(d)}()}(),e.ctx.save(),(e.attributes.showPerformancee.attributes.debug)&&(0===t.length&&(t=d(0,i,1,0)),t.pop(),t.unshift(performance.now()-M)),e.attributes.debug(e.ctx.font=e.style.debugFont,(Z={}).perf=(t.reduce((function(e,t){return e+t}),0)Math.min(l,t.length)).toFixed(1),Z.perfDelta=t[0].toFixed(1),Z.frozenColumnsWidth=S(),Z.htmlImages=Object.keys(e.htmlImageCache).length,Z.reorderObject=x +(e.reorderObject{columnIndex0}).columnIndex+, y +(e.reorderObject{rowIndex0}).rowIndex,Z.reorderTarget=x +(e.reorderTarget{columnIndex0}).columnIndex+, y +(e.reorderTarget{rowIndex0}).rowIndex,Z.scale=e.scale,Z.startScale=e.startScale,Z.scaleDelta=e.scaleDelta,Z.zoomDeltaStart=e.zoomDeltaStart,Z.touchLength=e.touchLength,Z.touches=y0 +(e.touchPosition{y0}).y+ y1 +(e.touchPosition1{y0}).y,Z.scrollBox=e.scrollBox.toString(),Z.scrollIndex=x +e.scrollIndexLeft+, y +e.scrollIndexTop,Z.scrollPixel=x +e.scrollPixelLeft+, y +e.scrollPixelTop,Z.canvasOffset=x +e.canvasOffsetLeft+, y +e.canvasOffsetTop,Z.touchDelta=x +e.touchDelta.x+, y +e.touchDelta.y,Z.touchAnimateTo=x +e.touchAnimateTo.x+, y +e.touchAnimateTo.y,Z.scrollAnimation=x +e.scrollAnimation.x+, y +e.scrollAnimation.y,Z.touchPPS=x +e.xPPS+, y +e.yPPS,Z.touchPPST=x +e.xPPST+, y +e.yPPST,Z.touchDuration=e.touchDuration,Z.pointerLockPosition=e.pointerLockPositione.pointerLockPosition.x+, +e.pointerLockPosition.y,Z.size=w +e.width+, h +e.height,Z.mouse=x +e.mouse.x+, y +e.mouse.y,Z.touch=e.touchStartx +e.touchStart.x+, y +e.touchStart.y,Z.entities=e.visibleCells.length,Z.hasFocus=e.hasFocus,Z.dragMode=e.dragMode,e.currentCell&&(Z.columnIndex=e.currentCell.columnIndex,Z.rowIndex=e.currentCell.rowIndex,Z.sortColumnIndex=e.currentCell.sortColumnIndex,Z.sortRowIndex=e.currentCell.sortRowIndex,Z.context=e.currentCell.context,Z.dragContext=e.currentCell.dragContext,Z.style=e.currentCell.style,Z.type=e.currentCell.type),e.ctx.textAlign=right,e.ctx.fillStyle=e.style.debugBackgroundColor,m(0,0,e.width,e.height),Object.keys(Z).forEach((function(t,o){var r=t+ +Z[t];e.ctx.fillStyle=e.style.debugColor,v(r,D-20,(e.attributes.showPerformance14024)+14o)})),e.ctx.restore())e.ctx.restore(),function(){if(e.attributes.showPerformance){var o=e.width-250-e.style.scrollBarWidth-2e.style.scrollBarBorderWidth,r=ee;0===s.length&&(s=d(0,i,1,(function(){return[0,0]}))),0===c.length&&(c=d(0,i,1,(function(){return[0,0]}))),0===a.length&&(a=d(0,i,1,0)),e.ctx.lineWidth=.5,e.ctx.textAlign=left,e.ctx.font=e.style.debugFont,e.ctx.fillStyle=e.style.debugPerfChartBackground,m(o,r,250,100),[[Scroll Height,s,0,e.scrollBox.scrollHeight,e.style.debugScrollHeightColor,!1],[Scroll Width,s,1,e.scrollBox.scrollWidth,e.style.debugScrollWidthColor,!1],[Performance,t,void 0,200,e.style.debugPerformanceColor,!1],[Entities,a,void 0,1500,e.style.debugEntitiesColor,!1],[TouchPPSX,c,0,1e3,e.style.debugTouchPPSXColor,!0],[TouchPPSY,c,1,1e3,e.style.debugTouchPPSYColor,!0]].forEach((function(e,t){e.push(t),n.apply(null,e)})),e.ctx.fillStyle=e.style.debugPerfChartBackground,a.pop(),a.unshift(e.visibleCells.length),s.pop(),s.unshift([e.scrollBox.scrollTop,e.scrollBox.scrollLeft]),c.pop(),c.unshift([e.yPPS,e.xPPS])}function n(t,n,l,i,a,s,c){var d;!function(t,o,r,n,l,i,a,s,c){var d=250l.length,u=oa;r+=e.canvasOffsetLeft,n+=e.canvasOffsetTop,e.ctx.beginPath(),e.ctx.moveTo(r,n+o),l.forEach((function(t){var l,a,s=void 0===itt[i];c&&(s=Math.abs(s)),l=r+d,a=n+o-su,e.ctx.lineTo(l,a),r+=d})),e.ctx.moveTo(r+250,n+o),e.ctx.strokeStyle=s,e.ctx.stroke()}(0,100,o,r,n,l,i,a,s),e.ctx.fillStyle=a,m(3+o,r+9+11c,8,8),e.ctx.fillStyle=e.style.debugPerfChartTextColor,d=void 0!==ln[0][l]n[0],v(t+ +(isNaN(d)0d).toFixed(3),14+o,r+16+11c)}}(),e.dispatchEvent(afterdraw,{})e.ctx.restore()}function fe(e){return ae.findIndex((function(t){return e=t.from&&e=t.to}))=0}function he(t,o,r,n){n=n{x0,y0},t.selectionBorder=,!t.isRowHeader&&e.selections[t.rowIndex+-n.y]&&-1!==e.selections[t.rowIndex+-n.y].indexOf(t.columnIndex+-n.x)&&(e.selections[t.rowIndex-1-n.y]&&-1!==e.selections[t.rowIndex-1-n.y].indexOf(t.columnIndex+-n.x)&&0!==t.rowIndext.isHeader(o.push([t,t]),t[r+BorderTop]=!0,t[r+Border]+=t),e.selections[t.rowIndex+1+-n.y]&&-1!==e.selections[t.rowIndex+1+-n.y].indexOf(t.columnIndex+-n.x)(o.push([t,b]),t[r+BorderBottom]=!0,t[r+Border]+=b),e.selections[t.rowIndex+-n.y]&&0!==t.columnIndex&&-1!==e.selections[t.rowIndex+-n.y].indexOf(t.columnIndex-1-n.x)(o.push([t,l]),t[r+BorderLeft]=!0,t[r+Border]+=l),e.selections[t.rowIndex+-n.y]&&t.columnIndex!==F.length&&-1!==e.selections[t.rowIndex+-n.y].indexOf(t.columnIndex+1+-n.x)(o.push([t,r]),t[r+BorderRight]=!0,t[r+Border]+=r))}function ge(t,l,i){return function(a,s,c){if(a.hidden)return 0;var d,u,f,y=a.stylecell,w=HeaderCell.test(y),b=cornerCell.test(y),C=rowHeaderCell===y,S=columnHeaderCell===y,B=e.filterable.rows.includes(i)&&e.filterable.columns.includes(s),M=nowrap!==e.style.cellWhiteSpace,k=e.selections[l]&&-1!==e.selections[l].indexOf(c),z=e.hovers.rowIndex===l&&(row===e.attributes.hoverModee.hovers.columnIndex===c),P=e.selectedFilterButton.rowIndex==i&&e.selectedFilterButton.columnIndex==s,L=e.activeCell.rowIndex===l&&e.activeCell.columnIndex===c,W=columnHeaderCellCap===y,_=tt[a.name]void 0,N=canvas-datagrid===a.type,j=(e.orders.rows[e.activeCell.rowIndex]===le.selectedRows.indexOf(l)=0e.orders.columns[e.activeCell.columnIndex]===se.selectedColumns.indexOf(s)=0)&&(-1===c-1===l)&&(CactiveRowHeaderCellactiveColumnHeaderCell),V=e.formatters[a.typestring],Z=0,U=0,J=e.sizes.columns[s]a.width,$={value_,rowt,headera};if(W&&(J=D-H),void 0===J&&(J=e.style.cellWidth),J=e.scale,H+J+e.style.cellBorderWidth0&&(H+=J+e.style.cellBorderWidth),L&&cornerCell!==y&&(y=activeCell),-1!==e.visibleRows.indexOf(i)we.visibleRows.push(i),f=e.dispatchEvent(formatcellvalue,$),T=H,R=A,cornerCell===y(T=0,R=0)CT=0w&&(R=0),(u={typeNcanvas-datagrid-cella.type,styley,nodeTypecanvas-datagrid-cell,xT,yR,fontHeight(e.style[y+FontHeight]0)e.scale,horizontalAlignmente.style[y+HorizontalAlignment],verticalAlignmente.style[y+VerticalAlignment],paddingLeft(e.style[y+PaddingLeft]0)e.scale,paddingTop(e.style[y+PaddingTop]0)e.scale,paddingRight(e.style[y+PaddingRight]0)e.scale,paddingBottom(e.style[y+PaddingBottom]0)e.scale,whiteSpacee.style.cellWhiteSpace,lineHeighte.style.cellLineHeight,lineSpacinge.style.cellLineSpacing,offsetTope.canvasOffsetTop+R,offsetLefte.canvasOffsetLeft+T,scrollTope.scrollBox.scrollTop,scrollLefte.scrollBox.scrollLeft,activeLj,hoveredz,selectedk,widthJ,heightce,offsetWidthJ,offsetHeightce,parentNodee.intf.parentNode,offsetParente.intf.parentNode,datat,isCornerb,isHeaderw,isColumnHeaderS,isColumnHeaderCellCapW,isRowHeaderC,isFilterableB,openedFilterP,rowOpenO,headera,columnIndexc,rowIndexl,viewRowIndexl,viewColumnIndexc,boundRowIndexe.getBoundRowIndexFromViewRowIndex(l),boundColumnIndexe.getBoundColumnIndexFromViewColumnIndex(c),sortColumnIndexs,sortRowIndexi,isGridN,isNormal!N&&!b&&!w,gridId(e.attributes.name)+i++s,parentGride.intf,innerHTML,activeHeaderj,valuew&&!Ca.titlea.name_,isRowTreel=0&&c==e.cellTree.rowTreeColIndex&&e.cellTree.rows.length0&&e.cellTree.rows[l].icon,isColumnTreec=0&&e.cellTree.columns[l]&&e.cellTree.columns[l][c].icon}).calculatedLineHeight=u.fontHeightu.lineHeight+u.lineSpacing,u.paddedWidth=u.width-u.paddingRight-u.paddingLeft,u.paddedHeight=u.height-u.paddingTop-u.paddingBottom,$.cell=u,u.userHeight=u.isHeadere.sizes.rows[-1]E,u.userWidth=u.isHeadere.sizes.columns.cornerCelle.sizes.columns[s],e.visibleCells.unshift(u),function(e){var t=e.boundRowIndex;if(t=-1==0){if(-1!==e.rowIndex)return;t=-1}ne[t](ne[t]={ye.y,he.height})}(u),function(e){var t=e.columnIndex;ie[t](ie[t]={xe.x,we.width})}(u),!e.dispatchEvent(beforerendercell,$)){if(e.ctx.fillStyle=e.style[y+BackgroundColor],e.ctx.strokeStyle=e.style[y+BorderColor],e.ctx.lineWidth=e.style[y+BorderWidth],z&&(e.ctx.fillStyle=e.style[y+HoverBackgroundColor],e.ctx.strokeStyle=e.style[y+HoverBorderColor]),k&&(e.ctx.fillStyle=e.style[y+SelectedBackgroundColor],e.ctx.strokeStyle=e.style[y+SelectedBorderColor]),j&&(e.ctx.fillStyle=e.style[j+BackgroundColor]),e.dispatchEvent(rendercell,$),u.isGrid&&(u.height!==E&&(u.height=Ee.style.cellHeightWithChildGrid,I=!0),u.width=e.sizes.columns[s]e.style.cellWidthWithChildGrid),O&&!u.isRowHeader&&(u.height=e.sizes.rows[i]e.style.cellHeight),u.isGrid(m(T,R,u.width,u.height),x(T,R,u.width,u.height)),e.ctx.save(),p(u.x,u.y,u.width,u.height,0),e.ctx.clip(),e.dispatchEvent(afterrendercell,$),u.height===ceO&&!u.isRowHeader(e.sizes.rows[w-1i]=u.height,I=!0),u.width!==J&&(e.sizes.columns[s]=u.width,I=!0),C&&e.attributes.tree&&(e.dispatchEvent(rendertreearrow,$)(U=function(t,o,r){var n=e.style.treeArrowMarginTope.scale,l=e.style.treeArrowMarginRighte.scale,i=e.style.treeArrowMarginLefte.scale,a=e.style.treeArrowWidthe.scale,s=e.style.treeArrowHeighte.scale;return o+=e.canvasOffsetLeft,r+=e.canvasOffsetTop,e.ctx.fillStyle=e.style.treeArrowColor,e.ctx.strokeStyle=e.style.treeArrowBorderColor,e.ctx.beginPath(),o+=i,r+=n,e.openChildren[t.rowIndex](e.ctx.moveTo(o,r),e.ctx.lineTo(o+a,r),e.ctx.lineTo(o+.5a,r+s),e.ctx.moveTo(o,r))(e.ctx.lineTo(o,r),e.ctx.lineTo(o+s,r+.5a),e.ctx.lineTo(o,r+a),e.ctx.lineTo(o,r)),e.ctx.stroke(),e.ctx.fill(),i+a+l}(u,e.style[y+PaddingLeft],R))),e.attributes.showRowNumbers&&C!C)if(u.isGrid&&!e.dispatchEvent(beforerendercellgrid,$)){if(!e.childGrids[u.gridId]){if((d=e.cellGridAttributes).name=e.attributes.saveAppearanceu.gridIdvoid 0,d.component=!1,d.parentNode=u,d.data=_,$.cellGridAttributes=d,e.dispatchEvent(beforecreatecellgrid,$))return;e.childGrids[u.gridId]=e.createGrid(d),e.sizes.rows[i]=e.sizes.rows[i]e.style.cellGridHeight,I=!0}u.grid=e.childGrids[u.gridId],u.grid.parentNode=u,u.grid.visible=!0,u.grid.draw(),e.dispatchEvent(rendercellgrid,$)}else if(!u.isGrid&&(e.childGrids[u.gridId]&&(e.childGrids[u.gridId].parentNode.offsetHeight=0),w&&e.orderBy===a.name&&(e.dispatchEvent(renderorderbyarrow,$)(Z=function(t,o){var r=e.style.columnHeaderOrderByArrowMarginTope.scale,n=e.style.columnHeaderOrderByArrowMarginLefte.scale,l=e.style.columnHeaderOrderByArrowMarginRighte.scale,i=e.style.columnHeaderOrderByArrowWidthe.scale,a=e.style.columnHeaderOrderByArrowHeighte.scale;return t+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.fillStyle=e.style.columnHeaderOrderByArrowColor,e.ctx.strokeStyle=e.style.columnHeaderOrderByArrowBorderColor,e.ctx.beginPath(),t+=n,o+=r,asc===e.orderDirection(e.ctx.lineTo(t,o+a),e.ctx.lineTo(t+i,o+a),e.ctx.lineTo(t+.5i,o),e.ctx.lineTo(t,o+a))(e.ctx.moveTo(t,o),e.ctx.lineTo(t+i,o),e.ctx.lineTo(t+.5i,o+a),e.ctx.moveTo(t,o)),e.ctx.stroke(),e.ctx.fill(),n+i+l}(T+e.style[y+PaddingLeft],0))),e.ctx.fillStyle=e.style[y+Color],z&&(e.ctx.fillStyle=e.style[y+HoverColor]),k&&(e.ctx.fillStyle=e.style[y+SelectedColor]),j&&(e.ctx.fillStyle=e.style[j+Color]),u.treeArrowWidth=U,u.orderByArrowWidth=Z,void 0!==(f=void 0!==ffVV($))V(f=,console.warn(canvas-datagrid Unknown format +a.type+ add a cellFormater)),u.formattedValue=(null!=ff).toString(),e.columnFilters&&void 0!==e.columnFilters[f]&&w&&(u.formattedValue=e.attributes.filterTextPrefix+f),e.ctx.font=e.style[y+FontHeight]e.scale+px +e.style[y+FontName],e.dispatchEvent(formattext,$)(u.text=function(t,o){if(!t.formattedValue)return{lines[{width0,value}],width0,heightt.calculatedLineHeight};var r,l,i,a,s,c,d=t.formattedValue.split( ),u=t.calculatedLineHeight,f=[],h=nowrap!==e.style.cellWhiteSpace,g=e.attributes.autoResizeRows&&h,p=e.attributes.ellipsisText,m={width0,value},x=ht.paddedHeightt.calculatedLineHeight;for(f.push(m),i=e.ctx.measureText( +p).width,r=0;rd.length;r+=1){var v=-===(l=d[r])[l.length-1] ,y=e.ctx.measureText(l+v);if(m.width+y.width+it.paddedWidth)m.value+=l+v,m.width+=y.width;else if(w-w.test(l)&&t.paddedWidthy.width){var w=l.split(-);w=w.map((function(e,t){return t===w.length-1ee+-})),d.splice.apply(d,[r,1].concat(n(w))),r-=1}else{if(m={widthy.width,valuel+v},0===r&&(f=[]).push(m),(u+=t.calculatedLineHeight)x&&!g){if(0===f.length)break;if((c=f[f.length-1]).widtht.paddedWidth&&1===d.length)break;var b=s=c.value+l;if((a=e.ctx.measureText(s+p).width)t.paddedWidth)for(var C=parseInt(s.length2),S=-1;C0;)s=b.substr(0,CS+s.length),S=(a=e.ctx.measureText(s+p).width)t.paddedWidth-11,C=parseInt(C2);s+=b.length!=s.lengthp,c.value=s,c.width=a;break}r0&&f.push(m)}}return{linesf,width0,heightt.calculatedLineHeightf.length}}(u)),!e.dispatchEvent(rendertext,$))){if(u.innerHTMLhtml===a.type)!function(t){var r,n=t.innerHTMLt.formattedValue,l=n.toString()+t.rowIndex.toString()+t.columnIndex.toString(),i=Math.round(t.x+e.canvasOffsetLeft),a=Math.round(t.y+e.canvasOffsetTop);if(e.htmlImageCache[l]){if(r=e.htmlImageCache[l].img,e.htmlImageCache[l].height===t.height&&e.htmlImageCache[l].width===t.width){if(!r.complete)return;return e.ctx.drawImage(r,i,a)}e.htmlImageCache[l]=void 0}else o=!1;r=new Image(t.width,t.height),e.htmlImageCache[l]={imgr,widtht.width,heightt.height},r.onload=function(){var t;e.ctx.drawImage(r,i,a),t=!0,Object.keys(e.htmlImageCache).forEach((function(o){e.htmlImageCache[o].img.complete(t=!1)})),t&&!o&&(o=!0,e.draw())},r.src=dataimagesvg+xml;base64,+btoa('svg xmlns=httpwww.w3.org2000svg width='+t.width+' height='+t.height+'nforeignObject class=node x=0 y=0 width=100% height=100%nbody xmlns=httpwww.w3.org1999xhtml style=margin0;padding0;n'+n+nbodyforeignObjectnsvgn)}(u);else{var Q=0,ee=!0;if(u.columnIndex==e.cellTree.rowTreeColIndex&&!u.isColumnHeader&&e.cellTree.rows.length0&&Object.keys(e.cellTree.rows[u.rowIndex]).length1&&(Q=g(u,e.cellTree.rows[u.rowIndex],!0)),!u.isRowHeader&&u.rowIndex0&&e.cellTree.columns[u.rowIndex-1]&&e.cellTree.columns[u.rowIndex-1][u.columnIndex].icon)for(var te=u.rowIndex-1;te=0&&e.cellTree.columns[te]&&e.cellTree.columns[te][u.columnIndex].icon;te--)if(!e.cellTree.columns[te][u.columnIndex].expand){ee=!1;break}ee&&!u.isRowHeader&&e.cellTree.columns[u.rowIndex]&&e.cellTree.columns[u.rowIndex][u.columnIndex].icon&&e.viewData.length0&&e.viewData[u.rowIndex][u.columnIndex].length0&&(Q=g(u,e.cellTree.columns[u.rowIndex][u.columnIndex],!1)),ee&&function(t){var o,r,n=arguments.length1&&void 0!==arguments[1]arguments[1]0,l=(t.text.lines.length,t.fontHeightt.lineHeight),i=nowrap!==e.style.cellWhiteSpace,a=0;for(o=0;ot.text.lines.length;o+=1){r=t.text.lines[o];var s=Math.max(.5(t.height-(it.text.heightt.calculatedLineHeight)),0)+l,c=t.paddingLeft+n+t.treeArrowWidth+t.orderByArrowWidth;right===t.horizontalAlignmentc=t.paddingLeft+n+t.paddedWidth-r.widthcenter===t.horizontalAlignment&&(c=t.paddingLeft+n+(t.paddedWidth+t.paddingRight)2-r.width2),top===t.verticalAlignments=t.calculatedLineHeightbottom===t.verticalAlignment&&(s=t.height-t.paddingBottom-t.text.height),r.height=l+t.lineSpacing,r.offsetLeft=c,r.offsetTop=s,r.x=t.x+c,r.y=t.y+a+s,a+=r.height,v(r.value,r.x,r.y)}e.attributes.debug&&t.active&&requestAnimationFrame((function(){e.ctx.font=e.style.debugFont,e.ctx.fillStyle=e.style.debugColor,v(JSON.stringify({xt.x,yt.y,ht.height,wt.width,pwt.paddedWidth,idxt.columnIndex,idx_ordt.sortColumnIndex},null,t),t.x+14,t.y+14),v(JSON.stringify(t.text.lines.map((function(e){return{we.width,ve.value.length}})),null,t),t.x+14,t.y+30)}))}(u,Q)}M&&u.text&&u.text.heightE&&(e.sizes.rows[w-1i]=u.text.height,I=!0)}L&&(G=u),he(u,q,selection),function(t){(e.attributes.allowMovingSelectione.mobile)&&(t.selectionBorderTop&&t.selectionBorderRight&&e.mobile&&(Y.push([t,tr]),t.selectionHandle=tr),t.selectionBorderTop&&t.selectionBorderLeft&&(e.mobile&&(Y.push([t,tl]),t.selectionHandle=tl),e.fillOverlay.handle&&(e.fillOverlay.snapTo={xt.x,yt.y})),t.selectionBorderBottom&&t.selectionBorderLeft&&e.mobile&&(Y.push([t,bl]),t.selectionHandle=bl),t.selectionBorderBottom&&t.selectionBorderRight&&(none!==e.attributes.selectionHandleBehaviore.mobile)&&(Y.push([t,br]),t.selectionHandle=br,e.fillOverlay.handle&&(e.fillOverlay.handle.x=t.x+t.width,e.fillOverlay.handle.y=t.y+t.height)),e.fillOverlay.handle&&(-1===e.fillOverlay.snapTo.x&&t.selectionBorderLeft&&(e.fillOverlay.snapTo.x=t.x),-1===e.fillOverlay.snapTo.y&&t.selectionBorderTop&&(e.fillOverlay.snapTo.y=t.y)))}(u),e.movingSelection&&he(u,X,move,e.moveOffset),e.ctx.restore(),B&&function(t,o){var r=t.x+t.width-e.style.filterButtonWidth-1,n=t.y+t.height-e.style.filterButtonHeight-2;e.dispatchEvent(beforerenderfilterbutton,o)(e.ctx.save(),e.ctx.strokeStyle=e.style.filterButtonBorderColor,e.ctx.fillStyle=e.style.filterButtonBackgroundColor,t.openedFiltere.ctx.fillStyle=e.style.filterButtonActiveBackgroundColort.hovered&&e.hovers.onFilterButton&&(e.ctx.fillStyle=e.style.filterButtonHoverBackgroundColor),p(r,n,e.style.filterButtonWidth,e.style.filterButtonHeight,e.style.filterButtonBorderRadius),e.ctx.stroke(),e.ctx.fill(),function(t,o){var r=(e.style.filterButtonHeight-e.style.filterButtonArrowHeight)2e.scale,n=(e.style.filterButtonWidth-e.style.filterButtonArrowWidth)2e.scale,l=e.style.filterButtonArrowWidthe.scale,i=e.style.filterButtonArrowHeighte.scale;t+=e.canvasOffsetLeft,o+=e.canvasOffsetTop,e.ctx.fillStyle=e.style.filterButtonArrowColor,e.ctx.strokeStyle=e.style.filterButtonArrowBorderColor,e.ctx.beginPath(),t+=n,o+=r,e.ctx.moveTo(t,o),e.ctx.lineTo(t+l,o),e.ctx.lineTo(t+.5l,o+i),e.ctx.moveTo(t,o),e.ctx.stroke(),e.ctx.fill()}(r,n),e.ctx.clip(),e.dispatchEvent(afterrenderfilterbutton,o),e.ctx.restore())}(u);var oe=e.orderings.columns&&e.orderings.columns.length0;if(C&&e.attributes.showRowNumbers&&e.attributes.showRowNumberGaps&&!1===oe){var re=e.getBoundRowIndexFromViewRowIndex(l-1),le=void 0!==re&&u.boundRowIndex0&&u.boundRowIndex-re1;if(le&&se.length0&&(le=se.find((function(e){return e.from===re&&e.to===u.boundRowIndex}))=0),le&&e.hiddenRowRanges.length0)for(var ae=0;aee.hiddenRowRanges.length;ae++){var ue=r(e.hiddenRowRanges[ae],2),fe=ue[0],ge=ue[1];if(u.boundRowIndex===ge+1&&re===fe-1){le=!1;break}}if(le){var pe=e.style.rowHeaderCellRowNumberGapHeight,me=e.style.rowHeaderCellRowNumberGapColor;e.ctx.save(),e.ctx.fillStyle=me,m(u.x,u.y-pe2,u.width,pe),e.ctx.restore()}}if(S&&e.attributes.showUnhideColumnsIndicator){var xe,ve,ye=e.hovers.unhideIndicator,we=e.style.unhideIndicatorSize,be=H,Ce=u.y+Math.max(.5(u.height-we),0),Se=function(e){return ye&&(l===ye.dirr===ye.dir)&&e=ye.orderIndex0&&e=ye.orderIndex1},Be=function(e){return e=0&&F[e]&&F[e].hidden},Ie=function(t,o,r){if(e.visibleUnhideIndicators.push({xt-1,yCe-1,x2t+we+2,y2Ce+we+2,orderIndex0xe,orderIndex1ve,diro}),!r){var n=u.text&&u.text.lines&&u.text.lines[0];if(n){var l=Z+U,i=l0ln.x,a=n.x+n.width;if(t+we=i&&t=a)return}}h(t,Ce,we,o,r)},Me=c-1,Te=e.orders.columns[Me];if(Be(Te)){var Re=Se(Te);for(xe=Me,ve=Me;--Me=0&&Be(e.orders.columns[Me]);)xe=Me;Ie(be,r,Re)}Me=c+1;var ke=e.orders.columns[Me];if(Be(ke)){var Oe=Se(ke);for(xe=Me,ve=Me;++Mee.orders.columns.length&&Be(e.orders.columns[Me]);)ve=Me;Ie(H+u.width-we,l,Oe)}}if(C&&e.attributes.showUnhideRowsIndicator&&e.hiddenRowRanges.length0){var Ee=e.hovers.unhideIndicator,ze=e.style.unhideIndicatorSize,Ae=u.x+u.width-ze-2,He=A,Pe={},Le={};e.hiddenRowRanges.forEach((function(e){Pe[e[0]-1]=e,Le[e[1]+1]=e}));var De,Fe,We=u.rowIndex+de,_e=function(){return Ee&&(t===Ee.dirb===Ee.dir)&&We=Ee.orderIndex0-1&&We=Ee.orderIndex1+1},Ge=function(t,o,r){e.visibleUnhideIndicators.push({xAe-1,yt-1,x2Ae+ze+2,y2t+ze+2,orderIndex0De,orderIndex1Fe,diro}),h(Ae,t,ze,o,r)},Ne=Pe[We];if(Ne){var je=He+u.height-ze,Ve=r(Ne,2);De=Ve[0],Fe=Ve[1],Ge(je,t,_e())}if(Ne=Le[We]){var Ze=He,Ue=r(Ne,2);De=Ue[0],Fe=Ue[1],Ge(Ze,b,_e())}}return H+=u.width+(K0e.style.cellBorderWidth),u.width}}}function pe(t,o){var r,n,l,i,a=F.length;if(A-2ceL)return!1;if(_=U[t],O=e.openChildren[t],l=(e.sizes.rows[t]e.style.cellHeight)e.scale,n=(Oe.sizes.trees[t]0)e.scale,A-(E=l+n))return!1;for(e.attributes.showRowHeaders&&(H+=te),ce=E,i=e.scrollIndexLeft;ia;i+=1)if(fe(i)(r=e.orders.columns[i],H+=ge(_,t,o)(F[r],r,i)),He.width){e.scrollIndexRight=i,e.scrollPixelRight=H;break}for(H=1,e.attributes.showRowHeaders&&(H+=te),i=0;ie.frozenColumn&&(fe(i)(r=e.orders.columns[i],H+=ge(_,t,o)(F[r],r,i)),!(He.width));i+=1);if(e.lastFrozenColumnPixel=H,ce=E,H=-e.scrollBox.scrollLeft+e.scrollPixelLeft+e.style.cellBorderWidth,k=e.childGrids[t],t!==U.length&&O){if(k.visible=!0,k.parentNode={offsetTopA+l+e.canvasOffsetTop,offsetLeftte-1+e.canvasOffsetLeft,offsetHeightn,offsetWidthe.width-te-e.style.scrollBarWidth-1,offsetParente.intf.parentNode,parentNodee.intf.parentNode,stylee.style,nodeTypecanvas-datagrid-tree,scrollTope.scrollBox.scrollTop,scrollLefte.scrollBox.scrollLeft,rowIndext,columnGroupsAreaHeightre,rowGroupsAreaWidthoe},e.intf.parentNode){var s=e.intf.parentNode,c=s.columnGroupsAreaHeight,d=s.rowGroupsAreaWidth;k.parentNode.columnGroupsAreaHeight+=c0,k.parentNode.rowGroupsAreaWidth+=d0}e.visibleCells.unshift({rowIndext,columnIndex0,yk.parentNode.offsetTop,xk.parentNode.offsetLeft,heightk.height,widthk.width,styletree-grid,typek.parentNode.nodeType}),k.draw()}else k&&(k.parentNode.offsetHeight=0,delete e.sizes.trees[t]);return J.push([_,t,o,A,E]),e.visibleRowHeights[t]=E,A+=ce+(K0e.style.cellBorderWidth),!0}}}o.d(t,{Zfunction(){return a}})},255function(e,t,o){use strict;o.d(t,{Zfunction(){return d}});var r=o(155),n=o.n(r),l=o(172);function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function a(e){for(var t=1;targuments.length;t++){var o=null!=arguments[t]arguments[t]{};t%2i(Object(o),!0).forEach((function(t){s(e,t,o[t])}))Object.getOwnPropertyDescriptorsObject.defineProperties(e,Object.getOwnPropertyDescriptors(o))i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t,o){return t in eObject.defineProperty(e,t,{valueo,enumerable!0,configurable!0,writable!0})e[t]=o,e}function c(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}function d(e){var t;e.stopPropagation=function(e){e.stopPropagation()},e.addEventListener=function(t,o){e.events[t]=e.events[t][],e.events[t].unshift(o)},e.removeEventListener=function(t,o){(e.events[t][]).forEach((function(r,n){o===r&&e.events[t].splice(n,1)}))},e.dispatchEvent=function(t,o){var r;function n(){r=!0}if(o=t.typeto{},t=t.typet,e.events[t])return e.events[t].forEach((function(t){o.ctx=e.ctx,o.preventDefault=n,t.apply(e.intf,[o])})),r},e.getRatio=function(){return Math.min(e.attributes.maxPixelRatio,(window.devicePixelRatio1)(e.ctx.webkitBackingStorePixelRatioe.ctx.mozBackingStorePixelRatioe.ctx.msBackingStorePixelRatioe.ctx.oBackingStorePixelRatioe.ctx.backingStorePixelRatio1))},e.refreshScrollCacheX=function(){var t=e.getSchema();e.scrollCache.x=[];var o=0,r=e.getCollapsedColumnGroups();return t.reduce((function(n,l,i){var a=e.orders.columns[i],s=e.getColumnWidth(a);return t[a].hiddenfunction(e){return r.findIndex((function(t){return e=t.from&&e=t.to}))=0}(i)(n+=s),ie.frozenColumn(e.scrollCache.x[i]=n,o=n)e.scrollCache.x[i]=Math.max(o+s,n),n}),0)0},e.resize=function(t){if(e.canvas){var o,r,n={x0,y0,height0,width0,stylevertical-scroll-bar},l={x0,y0,height0,width0,stylehorizontal-scroll-bar},i={x0,y0,height0,width0,stylevertical-scroll-box},a={x0,y0,height0,width0,stylehorizontal-scroll-box},s={x0,y0,height0,width0,isCorner!0,isScrollBoxCorner!0,stylescroll-box-corner},c=2e.style.scrollBarBoxMargin,d=2e.style.scrollBarBorderWidth,u=.5e.style.scrollBarBoxMargin,f=e.style.scrollBarWidth+2e.style.scrollBarBorderWidth,h=e.getRatio(),g=collapse===e.style.gridBorderCollapse12,p=e.style.cellBorderWidthg,m=e.style.columnHeaderCellBorderWidthg,x=0,v=0,y=(e.viewData[]).length,w=e.getColumnHeaderCellHeight(),b=e.getRowHeaderCellWidth(),C=e.getColumnGroupAreaHeight(),S=e.getRowGroupAreaWidth(),B=e.style.cellHeight;for(v=e.refreshScrollCacheX(),e.scrollCache.y=[],o=0;oy;o+=1)e.scrollCache.y[o]=x,x+=((e.sizes.rows[o]B)+(e.sizes.trees[o]0))e.scale+(e.frozenRowo&&e.sizes.trees[o]0);if(y1&&(e.scrollCache.y[o]=x),e.attributes.showNewRow&&(x+=B),e.attributes.snapToRow&&(x+=e.style.cellHeight),k(),e.isChildGrid(e.width=e.parentNode.offsetWidth,e.height=e.parentNode.offsetHeight)e.height===e.canvas.offsetHeight&&e.width===e.canvas.offsetWidth(e.height=e.canvas.offsetHeight,e.width=e.canvas.offsetWidth,e.canvasOffsetLeft=e.args.canvasOffsetLeft0,e.canvasOffsetTop=e.args.canvasOffsetTop0),e.scrollBox.top=w+C+m,e.scrollBox.left=b+S,R(),T(),e.scrollBox.horizontalBarVisible&&(auto!==e.style.heighte.isChildGrid(e.height+=f),x+=f,k(),R(),T()),e.scrollBox.verticalBarVisible&&(auto!==e.style.widthe.isChildGrid(e.width+=f),v+=f,k(),R(),T()),R(),e.scrollBox.scrollWidth=v-e.scrollBox.width,e.scrollBox.scrollHeight=x-e.scrollBox.height,e.frozenColumn0e.scrollBox.widthBoxRatio=(e.scrollBox.width-e.scrollCache.x[e.frozenColumn-1])ve.scrollBox.widthBoxRatio=e.scrollBox.widthv,e.scrollBox.scrollBoxWidth=e.scrollBox.widthe.scrollBox.widthBoxRatio-e.style.scrollBarWidth-d-u,e.scrollBox.heightBoxRatio=(e.scrollBox.height-w-C-e.scrollCache.y[e.frozenRow])x,e.scrollBox.scrollBoxHeight=e.scrollBox.heighte.scrollBox.heightBoxRatio-e.style.scrollBarWidth-d-u,e.scrollBox.scrollBoxWidth=Math.max(e.scrollBox.scrollBoxWidth,e.style.scrollBarBoxMinSize),e.scrollBox.scrollBoxHeight=Math.max(e.scrollBox.scrollBoxHeight,e.style.scrollBarBoxMinSize),l.x+=b,l.y+=e.height-e.style.scrollBarWidth-u-C,l.width=e.width-e.style.scrollBarWidth-b-S-u-c,l.height=e.style.scrollBarWidth+e.style.scrollBarBorderWidth+u,a.y=l.y+e.style.scrollBarBoxMargin,a.width=e.scrollBox.scrollBoxWidth,a.height=e.style.scrollBarBoxWidth,n.x+=e.width-S-e.style.scrollBarWidth-e.style.scrollBarBorderWidth-u,n.y+=w+e.scrollCache.y[e.frozenRow],n.width=e.style.scrollBarWidth+e.style.scrollBarBorderWidth+u,n.height=e.height-w-C-e.style.scrollBarWidth-u-c,i.x=n.x+e.style.scrollBarBoxMargin,i.y+=e.scrollCache.y[e.frozenRow],i.width=e.style.scrollBarBoxWidth,i.height=e.scrollBox.scrollBoxHeight,s.x=l.x+l.width+c,s.y=n.y+n.height+c,s.width=e.style.scrollBarWidth+e.style.scrollBarBorderWidth,s.height=e.style.scrollBarWidth+e.style.scrollBarBorderWidth,e.scrollBox.entities={horizontalBarl,horizontalBoxa,verticalBarn,verticalBoxi,corners},e.scrollBox.bar={vn,hl},e.scrollBox.box={vi,ha},e.page=Math.max(1,e.visibleRows.length-3-e.attributes.pageUpDownOverlap),!e.isChildGrid){var I=e.widthh,M=e.heighth;e.canvas.width===I&&e.canvas.height===M(e.canvas.width=I,e.canvas.height=M,e.ctx.scale(h,h))}return e.resizeEditInput(),e.scroll(!0),t&&e.draw(!0),e.dispatchEvent(resize,{}),!0}function T(){e.scrollBox.horizontalBarVisible=auto!==e.style.width&&ve.scrollBox.width&&hidden!==e.style.overflowXscroll===e.style.overflowX,e.scrollBox.horizontalBoxVisible=ve.scrollBox.width,e.scrollBox.verticalBarVisible=auto!==e.style.height&&xe.scrollBox.height&&hidden!==e.style.overflowYscroll===e.style.overflowY,e.scrollBox.verticalBoxVisible=xe.scrollBox.height}function R(){e.scrollBox.width=e.width-b-S,e.scrollBox.height=e.height-w-C}function k(){e.isChildGrid(r={heightw+C+x+p+1,widthv+b+p+S},[width,height].forEach((function(t){-1!==[auto,void 0].indexOf(e.style[t])&&-1!==[auto,void 0].indexOf(e.appliedInlineStyles[t])e.parentNodeStyle[t]=r[t]+px-1==[auto,void 0].indexOf(e.style[t])&&-1==[auto,void 0].indexOf(e.appliedInlineStyles[t])&&(e.parentNodeStyle[t]=e.style[t],e.isComponent&&(e.canvas.style[t]=e.style[t]))})))}},e.scroll=function(t){var o=e.getSchema(),r=(e.viewData[]).length,n=e.style.cellHeight;for(e.scrollIndexTop=Math.floor(r(e.scrollBox.scrollTope.scrollBox.scrollHeight)-100),e.scrollIndexTop=Math.max(e.scrollIndexTop,0),e.scrollPixelTop=e.scrollCache.y[e.scrollIndexTop],0===e.scrollBox.scrollHeight&&(e.scrollIndexTop=0),e.scrollPixelTop=0,e.scrollIndexLeft=e.frozenColumn,e.scrollPixelLeft=0;e.scrollPixelTope.scrollBox.scrollTop&&e.scrollIndexTope.viewData.length;)e.scrollIndexTop+=1,e.scrollPixelTop=e.scrollCache.y[e.scrollIndexTop];for(;e.scrollPixelLefte.scrollBox.scrollLeft+1&&e.scrollIndexLefto.length;)e.scrollPixelLeft=e.scrollCache.x[e.scrollIndexLeft],e.scrollIndexLeft+=1;o.length0&&(e.scrollIndexLeft=Math.max(e.scrollIndexLeft-1,0),e.scrollPixelLeft-=e.getColumnWidth(e.orders.columns[e.scrollIndexLeft])),(e.viewData[]).length0&&(e.scrollIndexTop=Math.max(e.scrollIndexTop-1,0),e.scrollPixelTop=Math.max(e.scrollPixelTop-(e.viewData[e.scrollIndexTop](e.sizes.rows[e.scrollIndexTop]n)+(e.sizes.trees[e.scrollIndexTop]0)n)e.scale,0)),e.ellipsisCache={},te.draw(!0),requestAnimationFrame(e.resizeEditInput),e.dispatchEvent(scroll,{tope.scrollBox.scrollTop,lefte.scrollBox.scrollLeft})},e.mousemove=function(t,o){if(!e.contextMenu&&!e.input){if(e.draggingItem&&0===t.which)return e.stopFreezeMove(t),void e.mouseup(t);e.mouse=oe.getLayerPos(t);var r,n,l,i,a=(t.ctrlKeyt.metaKeye.attributes.persistantSelectionMode)&&!e.attributes.singleSelectionMode,s=e.getSchema(),c=e.mouse.x,d=e.mouse.y,u=e.getCellAt(c,d),f=!1,h=!1,g={NativeEventt,cellu,xc,yd},p=e.currentCell;if(clearTimeout(e.scrollTimer),e.isInGrid({xc,yd})(e.hasFocus=!1),!e.dispatchEvent(mousemove,g)){if(u&&e.currentCell&&(e.rowBoundaryCrossed=e.currentCell.rowIndex!==u.rowIndex,e.columnBoundaryCrossed=e.currentCell.columnIndex!==u.columnIndex,e.cellBoundaryCrossed=e.rowBoundaryCrossede.columnBoundaryCrossed,[row,column,cell].forEach((function(t){e[t+BoundaryCrossed]&&(g.cell=p,e.dispatchEvent(t+mouseout,g),g.cell=u,e.dispatchEvent(t+mouseover,g))}))),e.currentCell=u,!e.draggingItem&&u&&(cell===u.contextu.context===e.cursorGrab)){var m=e.getUnhideIndicator(e.mouse.x,e.mouse.y);if(m)return e.cursor=pointer,e.hovers={unhideIndicatorm},void e.draw()}if(e.hovers={},!e.draggingItem&&u){if(e.dragItem=u,e.dragMode=u.dragContext,e.cursor=u.context,cell===u.context&&(e.cursor=default,e.hovers={rowIndexu.rowIndex,columnIndexu.columnIndex,onFilterButton!1,onCellTreeIcon!1},u.isFilterable&&cu.x+u.width+e.canvasOffsetLeft-e.style.filterButtonWidth&&cu.x+u.width+e.canvasOffsetLeft&&du.y+u.height+e.canvasOffsetTop-e.style.filterButtonHeight&&du.y+u.height+e.canvasOffsetTop&&(e.hovers.onFilterButton=!0,e.draw()),u.isRowTreeu.isColumnTree)){var x=u.isRowTreee.cellTree.rows[u.rowIndex].parentCount0,v=e.style.cellTreeIconWidthe.scale,y=u.x+u.paddingLeft+e.canvasOffsetLeft+e.style.cellTreeIconMarginLeft+x(v+u.paddingLeft),w=u.y+e.canvasOffsetTop+e.style.cellTreeIconMarginTope.scale;c=y&&c=y+v&&d=w&&dw+v&&(e.hovers.onCellTreeIcon=!0,e.draw())}if(e.selectinge.reorderObject){if(i={xMath.abs(e.dragStart.x-c),yMath.abs(e.dragStart.y-d)},-1!==e.dragStartObject.columnIndex&&t.shiftKey&&(e.dragStartObject={rowIndexe.activeCell.rowIndex,columnIndexe.activeCell.columnIndex}),n={topMath.min(e.dragStartObject.rowIndex,u.rowIndex),leftMath.min(e.dragStartObject.columnIndex,u.columnIndex),bottomMath.max(e.dragStartObject.rowIndex,u.rowIndex),rightMath.max(e.dragStartObject.columnIndex,u.columnIndex)},-1===e.dragStartObject.columnIndex&&(l=e.getSelectionBounds(),n.left=-1,n.right=s.length-1,n.top=Math.min(l.top,u.rowIndex),n.bottom=Math.max(l.bottom,u.rowIndex),n.top0&&(n.top=0)),-1===e.dragStartObject.rowIndex&&(l=e.getSelectionBounds(),n.left=void 0===u.columnIndexl.leftMath.min(l.left,u.columnIndex),n.right=void 0===u.columnIndexl.rightMath.max(l.right,u.columnIndex),n.top=-1,n.bottom=e.viewData.length-1,n.left0&&(n.left=0),n.left!=n.righte.isMultiColumnsSelected=!0e.isMultiRowsSelected=!1),e.dragStartObject.rowIndex===u.rowIndex&&e.dragStartObject.columnIndex===u.columnIndex(e.ignoreNextClick=!0),e.cellBoundaryCrossed0===i.x&&0===i.yrow===e.attributes.selectionMode)if(void 0===u.rowIndexrow!==e.attributes.selectionMode&&-1!==e.dragStartObject.columnIndex!e.rowBoundaryCrossed)if(void 0===u.rowIndexcolumn!==e.attributes.selectionMode&&-1!==e.dragStartObject.rowIndex!e.columnBoundaryCrossed){if(row!==e.attributes.selectionMode){if(u.hovered&&e.hovers.onFilterButton)return u.openedFilter(u.openedFilter=!1,e.selectedFilterButton={columnIndex-1,rowIndex-1})(e.selectedFilterButton.rowIndex=u.rowIndex,e.selectedFilterButton.columnIndex=u.columnIndex,e.contextmenuEvent(t,{xu.x+u.width-e.style.filterButtonWidth,yu.y+u.height,rect{left0,top0}})),void e.draw();if(u.hovered&&e.hovers.onCellTreeIcon&&mousedown==t.type)return void e.toggleCollapseTree(u.rowIndex,u.columnIndex);if(e.selectedFilterButton={columnIndex-1,rowIndex-1},e.hovers.onFilterButton)return;if(e.hovers.onCellTreeIcon)return;if(e.dragAddToSelectionvoid 0===u.rowIndex){if(e.selections[u.rowIndex]=e.selections[u.rowIndex][],-1===e.selections[u.rowIndex].indexOf(u.columnIndex)){e.selections[u.rowIndex].push(u.columnIndex);var b={selectionse.selections,selectedDatae.getSelectedData(),selectedCellse.getSelectedCells(),selectionBoundse.getSelectionBounds()};e.dispatchEvent(selectionchanged,b)}}else e.selections[u.rowIndex]&&-1!==e.selections[u.rowIndex].indexOf(u.columnIndex)&&e.selections[u.rowIndex].splice(e.selections[u.rowIndex].indexOf(u.columnIndex),1)}}else e.dragStartObject.columnIndexu.columnIndex(n.left=e.dragStartObject.columnIndex,n.right=u.columnIndex)(n.left=u.columnIndex,n.right=e.dragStartObject.columnIndex);else e.dragStartObject.rowIndexu.rowIndex(n.top=e.dragStartObject.rowIndex,n.bottom=u.rowIndex)(n.top=u.rowIndex,n.bottom=e.dragStartObject.rowIndex);if(!(e.selectionBounds&&n.top===e.selectionBounds.top&&n.left===e.selectionBounds.left&&n.bottom===e.selectionBounds.bottom&&n.right===e.selectionBounds.righta))if(u.hovered&&e.hovers.onFilterButton(e.selections=[],e.selectedRows=[],e.selectedColumns=[]),-1===n.top&&(n.top=0),l=n,row===e.attributes.selectionMode)for(r=l.top;r=l.bottom;r+=1)e.selectRow(r,!0,null,!0);else e.selectArea(l,!0),e.activeCell.rowIndex=l.top,e.activeCell.columnIndex=l.left,-1==l.left&&l.top!==l.bottom&&(e.activeCell.columnIndex=0,e.isMultiRowsSelected=!0,e.isMultiColumnsSelected=!1)}else e.movingSelectionHandle&&(i={xMath.abs(e.dragStart.x-c),yMath.abs(e.dragStart.y-d)},y===e.fillOverlay.directionh=!0x===e.fillOverlay.direction&&(f=!0));if(i)if(e.attributes.autoScrollOnMousemovefh){var C=!f&&i.ye.attributes.autoScrollMargin,S=!h&&i.xe.attributes.autoScrollMargin;C&&!Se.autoScrollZone(t,-1,d,a)S&&!Ce.autoScrollZone(t,c,-1,a)S&&C&&e.autoScrollZone(t,c,d,a)}else e.autoScrollZone(t,c,d,a)}e.getColumnGroupAt(e.mouse.x,e.mouse.y)&&(e.cursor=pointer),e.getRowGroupAt(e.mouse.x,e.mouse.y)&&(e.cursor=pointer),e.cellBoundaryCrossed=!1,e.rowBoundaryCrossed=!1,e.columnBoundaryCrossed=!1,e.draw(!0)}}},e.click=function(t,o){var r,n=JSON.stringify(e.getSelectionBounds()),l=(t.ctrlKeyt.metaKeye.attributes.persistantSelectionMode)&&!e.attributes.singleSelectionMode,i=oe.getLayerPos(t);if(e.currentCell=e.getCellAt(i.x,i.y),void 0===e.currentCell.grid)if(e.input&&e.endEdit(),e.ignoreNextClick)e.ignoreNextClick=!1;else if(r=e.currentCell,!e.dispatchEvent(click,{NativeEventt,celle.currentCell})){var a=e.getUnhideIndicator(i.x,i.y);if(a){var s=a.dir,c=a.orderIndex0,d=a.orderIndex1;l===sr===se.unhideColumns(c,d)e.unhideRows(c,d)}else{var u=e.getColumnGroupAt(i.x,i.y);if(u(u=e.getRowGroupAt(i.x,i.y)),u&&e.toggleGroup(u))return e.setStorageData(),void e.refresh();if(e.hasFocus){var f=e.getRowGroupAreaWidth(),h=e.getColumnGroupAreaHeight(),g=i.x-f,p=i.y-h;if(-1!==[rowHeaderCell,columnHeaderCell].indexOf(e.currentCell.style)le.hovers.onFilterButtone.setActiveCell(r.columnIndex,r.rowIndex),cell===e.currentCell.context){if(cornerCell===e.currentCell.style)return e.selectAll(),e.draw(),void m();if(columnHeaderCell===e.currentCell.style&&sort===e.attributes.columnHeaderClickBehavior)return e.orderBy===r.header.namee.orderDirection=asc===e.orderDirectiondescasce.orderDirection=asc,e.order(r.header.name,e.orderDirection),void m();if(e.selections[r.rowIndex]=e.selections[r.rowIndex][],(row===e.attributes.selectionModerowHeaderCell===e.currentCell.style)&&rowHeaderCell===e.currentCell.style&&e.attributes.tree&&g0&&g-e.currentCell.xe.style.treeArrowWidth+e.style.treeArrowMarginLeft+e.style.treeArrowMarginRight+e.style.treeArrowClickRadius&&p-e.currentCell.ye.style.treeArrowHeight+e.style.treeArrowMarginTop+e.style.treeArrowClickRadius&&p0)return void e.toggleTree(r.rowIndex);t.shiftKey&&!l&&(e.selectionBounds=e.getSelectionBounds(),e.selectArea(void 0,!1))}m(),e.draw(!0)}}}function m(){var t,o=e.getSelectionBounds();n!==JSON.stringify(o)&&(t={selectionse.selections,selectionBoundse.getSelectionBounds(),selectedCellse.getSelectedCells()},Object.defineProperty(t,selectedData,{getfunction(){return e.getSelectedData()}}),e.dispatchEvent(selectionchanged,t))}},e.dragResizeColumn=function(t){var o,r,n;return o=e.getLayerPos(t),r=e.resizingStartingWidth+o.x-e.dragStart.x,n=e.resizingStartingHeight+o.y-e.dragStart.y,re.style.minColumnWidth&&(r=e.style.minColumnWidth),ne.style.minRowHeight&&(n=e.style.minRowHeight),!e.dispatchEvent(resizecolumn,{xr,yn,draggingIteme.draggingItem})&&(e.scrollBox.scrollLefte.scrollBox.scrollWidth-e.attributes.resizeScrollZone&&ew-resize===e.dragMode&&e.resize(!0),ew-resize===e.dragMode(e.sizes.columns[rowHeaderCell===e.draggingItem.header.stylecornerCelle.draggingItem.sortColumnIndex]=r,-1!==[rowHeaderCell,cornerCell].indexOf(e.draggingItem.header.style)&&e.resize(!0),void e.resizeChildGrids())ns-resize===e.dragMode(e.draggingItem.rowOpene.sizes.trees[e.draggingItem.rowIndex]=ne.attributes.globalRowResizee.style.cellHeight=ne.sizes.rows[e.draggingItem.rowIndex]=n,e.dispatchEvent(resizerow,{rown}),void e.resizeChildGrids())void(e.ellipsisCache={}))},e.stopDragResize=function(t){var o=e.getLayerPos(t);if(ew-resize===e.dragMode){var r=!!(o.x-e.dragStart.x),n=e.isColumnSelected(e.dragItem.columnIndex);if(r&&n){var l=Math.max(e.resizingStartingWidth+o.x-e.dragStart.x,e.style.minColumnWidth);e.fitSelectedColumns(l)}}e.resize(),window.removeEventListener(mousemove,e.dragResizeColumn,!1),window.removeEventListener(mouseup,e.stopDragResize,!1),e.setStorageData(),e.draw(!0),e.ignoreNextClick=!0},e.scrollGrid=function(t){var o=e.getLayerPos(t);return e.attributes.scrollPointerLock&&e.pointerLockPosition&&-1!==[horizontal-scroll-box,vertical-scroll-box].indexOf(e.scrollStartMode)&&(e.pointerLockPosition.x+=t.movementX,e.pointerLockPosition.y+=t.movementY,e.pointerLockPosition.x=Math.min(e.width-e.style.scrollBarWidth,Math.max(0,e.pointerLockPosition.x)),e.pointerLockPosition.y=Math.min(e.height-e.style.scrollBarWidth,Math.max(0,e.pointerLockPosition.y)),o=e.pointerLockPosition),e.scrollMode=e.getCellAt(o.x,o.y).context,horizontal-scroll-box===e.scrollMode&&horizontal-scroll-box!==e.scrollStartMode(e.scrollStartMode=horizontal-scroll-box,e.dragStart=o,e.scrollStart.left=e.scrollBox.scrollLeft,void clearTimeout(e.scrollTimer))vertical-scroll-box===e.scrollMode&&vertical-scroll-box!==e.scrollStartMode(e.scrollStartMode=vertical-scroll-box,e.dragStart=o,e.scrollStart.top=e.scrollBox.scrollTop,void clearTimeout(e.scrollTimer))(vertical-scroll-box===e.scrollStartMode&&vertical-scroll-box!==e.scrollMode&&(e.scrollMode=vertical-scroll-box),horizontal-scroll-box===e.scrollStartMode&&horizontal-scroll-box!==e.scrollMode&&(e.scrollMode=horizontal-scroll-box),clearTimeout(e.scrollTimer),void(-1!==e.scrollModes.indexOf(e.scrollMode)&&(vertical-scroll-box===e.scrollModee.scrollBox.scrollTop=e.scrollStart.top+(o.y-e.dragStart.y)e.scrollBox.heightBoxRatiovertical-scroll-top===e.scrollMode(e.scrollBox.scrollTop-=e.pagee.style.cellHeight,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t))vertical-scroll-bottom===e.scrollMode&&(e.scrollBox.scrollTop+=e.pagee.style.cellHeight,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t)),horizontal-scroll-box===e.scrollModee.scrollBox.scrollLeft=e.scrollStart.left+(o.x-e.dragStart.x)e.scrollBox.widthBoxRatiohorizontal-scroll-right===e.scrollMode(e.scrollBox.scrollLeft+=e.attributes.selectionScrollIncrement,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t))horizontal-scroll-left===e.scrollMode&&(e.scrollBox.scrollLeft-=e.attributes.selectionScrollIncrement,e.scrollTimer=setTimeout(e.scrollGrid,e.attributes.scrollRepeatRate,t)))))},e.stopScrollGrid=function(){clearTimeout(e.scrollTimer),document.exitPointerLock&&document.exitPointerLock(),window.removeEventListener(mousemove,e.scrollGrid,!1)},e.dragReorder=function(t){var o,r,n,l=column-reorder===e.dragMode,i=row-reorder===e.dragMode;if(r=(o=e.getLayerPos(t)).x-e.dragStart.x,n=o.y-e.dragStart.y,(e.attributes.allowColumnReordering!l)&&(e.attributes.allowRowReordering!i)&&((t.ctrlKeyt.metaKeyt.shiftKey)&&e.reorderObject&&(column-reorder!==e.dragModee.isMultiColumnsSelectede.selectColumn(e.draggingItem.header.index,!1,!1)),!e.dispatchEvent(reordering,{NativeEventt,sourcee.dragStartObject,targete.currentCell,dragModee.dragMode})&&(Math.abs(r)e.attributes.reorderDeadZoneMath.abs(n)e.attributes.reorderDeadZone))){if(e.reorderObject=e.draggingItem,e.isMultiRowsSelected&&(e.reorderObject=e.getVisibleCellByIndex(-1,e.activeCell.rowIndex)),e.isMultiColumnsSelected&&(e.reorderObject=e.getVisibleCellByIndex(e.activeCell.columnIndex,-1)),!e.reorderObject)return;e.reorderTarget=e.currentCell,e.reorderObject.dragOffset={xr,yn},e.autoScrollZone(t,lo.x-1,io.y-1,!1)}},e.stopDragReorder=function(t){var o,r,n=[],l={row-reordere.orders.rows,column-reordere.orders.columns},i={row-reorderrowIndex,column-reordersortColumnIndex}[e.dragMode];if(window.removeEventListener(mousemove,e.dragReorder,!1),window.removeEventListener(mouseup,e.stopDragReorder,!1),e.reorderObject&&e.reorderTarget&&(column-reorder===e.dragMode&&e.reorderTarget.sortColumnIndex-1&&e.reorderTarget.sortColumnIndexe.getSchema().lengthrow-reorder===e.dragMode&&e.reorderTarget.rowIndex-1&&e.reorderTarget.rowIndexe.viewData.length)&&e.reorderObject[i]!==e.reorderTarget[i]&&!e.dispatchEvent(reorder,{NativeEventt,sourcee.reorderObject,targete.reorderTarget,dragModee.dragMode})){if(e.ignoreNextClick=!0,o=l[e.dragMode].indexOf(e.reorderObject[i]),r=l[e.dragMode].indexOf(e.reorderTarget[i]),column-reorder===e.dragMode){var a=[],s=[];e.selections[0]&&(o=e.selections[0][0],e.selections[0].forEach((function(t){a.push(e.orders.columns[t])})));var c=a.length;if(roro&&Math.abs(r-o)=c){for(l[e.dragMode].splice(o,c),ro&&(r-=c-1),e.selectedColumns=[],i=0;ia.length;i++)0===i&&(e.activeCell.columnIndex=r),s.push(r+i),e.selectedColumns.push(a[i]),l[e.dragMode].splice(r+i,0,a[i]);e.orders.columns=l[e.dragMode],e.viewData.forEach((function(t,o){e.selections[o]=s}))}}else{var d=[];if(e.selections.forEach((function(t,o){t&&(d.push(t),n.push(e.viewData[o]))})),roro&&Math.abs(r-o)=n.length)for(e.viewData.splice(o,n.length),e.selections=[],e.selectedRows=[],ro&&(r-=n.length-1),e.activeCell.rowIndex=r,i=0;in.length;i++)e.viewData.splice(r+i,0,n[i]),e.selections[r+i]=d[i],e.selectedRows.push(r+i)}e.resize(),e.setStorageData()}e.reorderObject=void 0,e.reorderTarget=void 0,e.draw(!0)},e.dragMove=function(t){if(!e.dispatchEvent(moving,{NativeEventt,celle.currentCell})){var o=e.getLayerPos(t);e.moveOffset={xe.currentCell.columnIndex-e.dragStartObject.columnIndex,ye.currentCell.rowIndex-e.dragStartObject.rowIndex},(Math.abs(o.x)e.attributes.reorderDeadZoneMath.abs(o.y)e.attributes.reorderDeadZone)&&setTimeout((function(){e.autoScrollZone(t,o.x,o.y,!1)}),1)}},e.stopDragMove=function(t){window.removeEventListener(mousemove,e.dragMove,!1),window.removeEventListener(mouseup,e.stopDragMove,!1);var o=e.getSelectionBounds();if(e.dispatchEvent(endmove,{NativeEventt,celle.currentCell}))return e.movingSelection=void 0,e.moveOffset=void 0,void e.draw(!0);e.moveOffset&&(e.moveTo(e.movingSelection,o.left+e.moveOffset.x,o.top+e.moveOffset.y),e.moveSelection(e.moveOffset.x,e.moveOffset.y)),e.movingSelection=void 0,e.moveOffset=void 0,e.draw(!0)},e.freezeMove=function(t){if(!e.dispatchEvent(freezemoving,{NativeEventt,celle.currentCell})){var o=e.getLayerPos(t);e.ignoreNextClick=!0,e.freezeMarkerPosition=o,o.x-=e.getRowGroupAreaWidth(),o.y-=e.getColumnGroupAreaHeight(),(Math.abs(o.x)e.attributes.reorderDeadZoneMath.abs(o.y)e.attributes.reorderDeadZone)&&setTimeout((function(){e.autoScrollZone(t,o.x,o.y,!1)}),1)}},e.stopFreezeMove=function(t){var o=e.getLayerPos(t),r=collapse===e.style.gridBorderCollapse12,n=e.style.columnHeaderCellBorderWidthr,l=e.getColumnHeaderCellHeight(),i=e.getRowHeaderCellWidth();if(o.x-=e.getRowGroupAreaWidth(),o.y-=e.getColumnGroupAreaHeight(),e.currentCell&&void 0!==e.currentCell.rowIndex&&frozen-row-marker===e.dragMode){e.scrollBox.scrollTop=0,e.frozenRow=e.currentCell.rowIndex+1,e.scrollBox.bar.v.y=l+n+e.scrollCache.y[e.frozenRow],e.scrollBox.box.v.y=l+n+e.scrollCache.y[e.frozenRow];var a=e.scrollCache.y[e.scrollCache.y.length-1];e.scrollBox.heightBoxRatio=(e.scrollBox.height-l-e.scrollCache.y[e.frozenRow])a,e.scrollBox.scrollBoxHeight=e.scrollBox.heighte.scrollBox.heightBoxRatio-e.style.scrollBarWidth,e.scrollBox.scrollBoxHeight=Math.max(e.scrollBox.scrollBoxHeight,e.style.scrollBarBoxMinSize),e.scrollBox.box.v.height=e.scrollBox.scrollBoxHeight}if(e.currentCell&&void 0!==e.currentCell.columnIndex&&frozen-column-marker===e.dragMode){var s=e.refreshScrollCacheX();e.scrollBox.scrollLeft=0;var c=e.currentCell.x-e.style.frozenMarkerWidth-e.style.frozenMarkerBorderWidth;o.xc+e.currentCell.width2e.frozenColumn=e.currentCell.columnIndex+1e.currentCell.columnIndex=0&&(e.frozenColumn=e.currentCell.columnIndex),e.scrollBox.bar.h.x=i+e.scrollCache.x[e.frozenColumn],e.scrollBox.widthBoxRatio=(e.scrollBox.width-e.scrollCache.x[e.frozenColumn])s,e.scrollBox.scrollBoxWidth=e.scrollBox.widthe.scrollBox.widthBoxRatio-e.style.scrollBarWidth,e.scrollBox.scrollBoxWidth=Math.max(e.scrollBox.scrollBoxWidth,e.style.scrollBarBoxMinSize),e.scrollBox.box.h.width=e.scrollBox.scrollBoxWidth}if((Math.abs(o.x)e.attributes.reorderDeadZoneMath.abs(o.y)e.attributes.reorderDeadZone)&&setTimeout((function(){e.autoScrollZone(t,o.x,o.y,!1)}),1),window.removeEventListener(mousemove,e.freezeMove,!1),window.removeEventListener(mouseup,e.stopFreezeMove,!1),e.freezeMarkerPosition=void 0,e.dispatchEvent(endfreezemove,{NativeEventt,celle.currentCell}))return e.frozenRow=e.startFreezeMove.x,e.frozenColumn=e.startFreezeMove.y,void e.draw(!0);e.draw(!0),e.resize()},e.mousedown=function(t,o){if(e.lastMouseDownTarget=t.target,!e.dispatchEvent(mousedown,{NativeEventt,celle.currentCell})&&e.hasFocus&&2!==t.button&&!e.input){var r=t.ctrlKeyt.metaKey,n=-move.test(e.dragMode),l=frozen-row-markerfrozen-column-marker.test(e.dragMode),i=-resize.test(e.dragMode),a=selection-handle-br.test(e.dragMode),s=e.hovers&&e.hovers.unhideIndicator;if(e.dragStart=oe.getLayerPos(t),e.scrollStart={lefte.scrollBox.scrollLeft,tope.scrollBox.scrollTop},e.dragStartObject=e.getCellAt(e.dragStart.x,e.dragStart.y),e.dragAddToSelection=!e.dragStartObject.selected,rt.shiftKey(verticalhorizontal)-scroll-(barbox).test(e.dragStartObject.context)!e.currentCelle.currentCell.isColumnHeadernliarow-reorder==e.dragMode&&e.isMultiRowsSelectede.currentCell.hovered&&e.hovers.onFilterButton(e.selections=[],e.selectedRows=[],e.selectedColumns=[]),!e.dragStartObject.isGrid){if(-1!==e.scrollModes.indexOf(e.dragStartObject.context)&&!s)return e.scrollMode=e.dragStartObject.context,e.scrollStartMode=e.dragStartObject.context,e.scrollGrid(t),e.attributes.scrollPointerLock&&-1!==[horizontal-scroll-box,vertical-scroll-box].indexOf(e.scrollStartMode)&&(e.pointerLockPosition={xe.dragStart.x,ye.dragStart.y},e.canvas.requestPointerLock()),window.addEventListener(mousemove,e.scrollGrid,!1),window.addEventListener(mouseup,e.stopScrollGrid,!1),void(e.ignoreNextClick=!0);if(cell!==e.dragMode){if(a){if(e.movingSelectionHandle=!0,e.fillOverlay={handle{xe.dragStartObject.x+e.dragStartObject.width2,ye.dragStartObject.y+e.dragStartObject.height2},snapTo{x-1,y-1},selectione.getSelectionBounds()},e.dispatchEvent(beginselectionhandlemove,{NativeEventt}))return;return window.addEventListener(mousemove,e.selectionHandleMove,!1),window.addEventListener(mouseup,e.stopSelectionHandleMove,!1),e.selectionHandleMove(t)}if(n){if(e.draggingItem=e.dragItem,e.movingSelection=e.selections.concat([]),e.dragging=e.dragStartObject,e.dispatchEvent(beginmove,{NativeEventt,celle.currentCell}))return;return window.addEventListener(mousemove,e.dragMove,!1),window.addEventListener(mouseup,e.stopDragMove,!1),e.mousemove(t)}if(l){if(e.draggingItem=e.dragItem,e.startFreezeMove={xe.frozenRow,ye.frozenColumn},e.dispatchEvent(beginfreezemove,{NativeEventt}))return;return e.freezeMarkerPosition=e.getLayerPos(t),e.freezeMarkerPosition.isGrab=!0,window.addEventListener(mousemove,e.freezeMove,!1),window.addEventListener(mouseup,e.stopFreezeMove,!1),e.mousemove(t)}return i&&!s(e.draggingItem=e.dragItem,e.draggingItem.rowOpene.resizingStartingHeight=e.sizes.trees[e.draggingItem.rowIndex]e.resizingStartingHeight=e.sizes.rows[e.draggingItem.rowIndex]e.style.cellHeight,e.resizingStartingWidth=e.sizes.columns[rowHeaderCell===e.draggingItem.header.stylecornerCelle.draggingItem.sortColumnIndex]e.draggingItem.width,window.addEventListener(mousemove,e.dragResizeColumn,!1),void window.addEventListener(mouseup,e.stopDragResize,!1))-1!==[row-reorder,column-reorder].indexOf(e.dragMode)(e.draggingItem=e.dragStartObject,column-reorder!==e.dragModee.isMultiColumnsSelectedrow-reorder!==e.dragModee.isMultiRowsSelectede.selectRow(e.dragStartObject.rowIndex,r,null)e.selectColumn(e.currentCell.header.index,r,t.shiftKey),window.addEventListener(mousemove,e.dragReorder,!1),void window.addEventListener(mouseup,e.stopDragReorder,!1))void 0}if(e.selecting=!0,(row===e.attributes.selectionMode-1===e.dragStartObject.columnIndex)&&e.dragStartObject.rowIndex-1)e.selectRow(e.dragStartObject.rowIndex,r,null);else if((column===e.attributes.selectionMode-1===e.dragStartObject.rowIndex)&&e.dragStartObject.columnIndex-1)return void e.selectColumn(e.currentCell.header.index,r,t.shiftKey);row!==e.attributes.selectionMode&&e.mousemove(t)}}},e.mouseup=function(t){clearTimeout(e.scrollTimer),e.cellBoundaryCrossed=!0,e.rowBoundaryCrossed=!0,e.columnBoundaryCrossed=!0,e.selecting=void 0,e.draggingItem=void 0,e.dragStartObject=void 0,e.dispatchEvent(mouseup,{NativeEventt,celle.currentCell})(e.hasFocust.target===e.canvas)&&(e.currentCell&&void 0!==e.currentCell.gride.contextMenue.input(e.dragStart&&e.isInGrid(e.dragStart)&&e.controlInput.focus(),t.preventDefault()))},e.getAdjacentCells=function(){var t,o=e.getSchema(),r={};for(t=0;to.length;t+=1)o[e.orders.columns[t]].hidden(void 0===r.first&&(r.first=t,r.left=t),r.last=t,te.activeCell.columnIndex&&void 0===r.right&&(r.right=t),te.activeCell.columnIndex&&(r.left=t));return void 0===r.right&&(r.right=r.last),r},e.keydown=function(t){var o,r=e.getAdjacentCells(),l=Math.max(e.activeCell.columnIndex,0),i=Math.max(e.activeCell.rowIndex,0),a=t.ctrlKeyt.metaKey,s=e.viewData.length-1,d=e.getSchema().length-1;if(!e.dispatchEvent(keydown,{NativeEventt,celle.currentCell})&&(e.attributes.keepFocusOnMouseOute.hasFocus)){if(n()(t)&&!a)return e.beginEditAt(l,i,t,!0);if(e.attributes.showNewRow&&(s+=1),Tab===t.key&&t.preventDefault(),Escape===t.keye.selectNone()a&&a===t.keye.selectAll()[Backspace,Delete].includes(t.key)e.deleteSelectedData()ArrowDown===t.keyi+=1ArrowUp===t.keyi-=1ArrowLeft===t.key&&!at.shiftKey&&Tab===t.keyl=r.leftArrowRight===t.key&&!a!t.shiftKey&&Tab===t.keyl=r.rightPageUp===t.key(i-=e.page,t.preventDefault())PageDown===t.key(i+=e.page,t.preventDefault())Home===t.keya&&ArrowUp===t.keyi=0End===t.keya&&ArrowDown===t.keyi=e.viewData.length-1a&&ArrowRight===t.keyl=r.lasta&&ArrowLeft===t.key&&(l=r.first),Enter===t.key)return t.preventDefault(),e.beginEditAt(l,i,t);(l0Number.isNaN(l))&&(l=r.first),is&&(i=s),(i0Number.isNaN(i))&&(i=0),ld&&(l=r.last);var u=[ArrowLeft,ArrowUp,ArrowRight,ArrowDown].includes(t.key);if(t.shiftKey&&u){var f=e.selections.findIndex((function(e){return!!e})),h=e.selections[f],g=h[0],p=h[h.length-1],m=0===i,x=i===s,v=0===l,y=l===d;ArrowUp===t.key&&(i+1f&&!me.selections.pop()if(e.selections[i]=e.selections[i][],e.selections[i].push(l))m&&0!==e.activeCell.rowIndex&&e.selections.pop()),ArrowDown===t.key&&(if&&i===e.selections.length(e.selections[i]=e.selections[i][],e.selections[i].push(l))(i=f&&!xx&&e.activeCell.rowIndex!==s)&&delete e.selections[i-1]);var w,b=function(e,t){var o;if(undefined==typeof Symbolnull==e[Symbol.iterator]){if(Array.isArray(e)(o=function(e,t){if(e){if(string==typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)c(e,t)void 0}}(e))t&&e&&number==typeof e.length){o&&(e=o);var r=0,n=function(){};return{sn,nfunction(){return r=e.length{done!0}{done!1,valuee[r++]}},efunction(e){throw e},fn}}throw new TypeError(Invalid attempt to iterate non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}var l,i=!0,a=!1;return{sfunction(){o=e[Symbol.iterator]()},nfunction(){var e=o.next();return i=e.done,e},efunction(e){a=!0,l=e},ffunction(){try{inull==o.returno.return()}finally{if(a)throw l}}}}(e.selections);try{for(b.s();!(w=b.n()).done;){var C=w.value;ArrowRight===t.key&&C&&(lpC.push(l)(l=p&&!yy&&e.activeCell.columnIndex!==d)&&C.shift()),ArrowLeft===t.key&&C&&(lgC.unshift(l)(l=g&&!vv&&0!==e.activeCell.columnIndex)&&C.pop())}}catch(e){b.e(e)}finally{b.f()}e.selectionBounds=e.getSelectionBounds(),e.selectArea(void 0,a),e.draw(!0)}l===e.activeCell.columnIndex&&i===e.activeCell.rowIndex(e.scrollIntoView(l!==e.activeCell.columnIndexlvoid 0,i===e.activeCell.rowIndexNumber.isNaN(i)void 0i),e.setActiveCell(l,i),!t.shiftKey&&e.attributes.selectionFollowsActiveCell&&(a(e.selections=[],e.selectedRows=[],e.selectedColumns=[]),e.selections[i]=e.selections[i][],e.selections[i].push(l),o={selectedDatae.getSelectedData(),selectionse.selections,selectionBoundse.getSelectionBounds(),selectedCellse.getSelectedCells()},Object.defineProperty(o,selectedData,{getfunction(){return e.getSelectedData()}}),e.dispatchEvent(selectionchanged,o)),e.draw(!0))}},e.keyup=function(t){e.dispatchEvent(keyup,{NativeEventt,celle.currentCell})e.hasFocus},e.keypress=function(t){e.hasFocus&&e.dispatchEvent(keypress,{NativeEventt,celle.currentCell})},e.dblclick=function(t){e.dispatchEvent(dblclick,{NativeEventt,celle.currentCell})e.hasFocus&&(ew-resize===e.currentCell.context&&columnHeaderCell===e.currentCell.stylee.isColumnSelected(e.currentCell.columnIndex)e.fitSelectedColumns()e.fitColumnToValues(e.currentCell.header.name)ew-resize===e.currentCell.context&&cornerCell===e.currentCell.stylee.autosize()![cell,activeCell].includes(e.currentCell.style)e.hovers.onFilterButtone.hovers.onCellTreeIcon(e.currentCell.isRowTreee.currentCell.isColumnTree(e.cellTreeExpandCollapse(e.currentCell.rowIndex,e.currentCell.columnIndex),e.draw())e.beginEditAt(e.currentCell.columnIndex,e.currentCell.rowIndex)))},e.scrollWheel=function(o){var r,n,l=o,i=void 0===o.deltaXo.NativeEvent.deltaXo.deltaX,a=void 0===o.deltaYo.NativeEvent.deltaYo.deltaY,s=void 0===o.deltaModeo.NativeEvent.deltaModeo.deltaMode;o=o.NativeEvento,tl.preventDefault(o)e.dispatchEvent(wheel,{NativeEvento})(e.touchHaltAnimation=!0,r=e.scrollBox.scrollLeft,n=e.scrollBox.scrollTop,e.hasFocus&&(1===s&&(a=17),(e.scrollBox.scrollTope.scrollBox.scrollHeight&&a0e.scrollBox.scrollLefte.scrollBox.scrollWidth&&i0e.scrollBox.scrollTop0&&a0e.scrollBox.scrollLeft0&&i0)&&l.preventDefault(o),t=setTimeout((function(){t=void 0,e.scrollBox.scrollTo(i+r,a+n)}),1)))},e.pasteData=function(t,o,r,n){var i=arguments.length4&&void 0!==arguments[4]arguments[4]0,a=arguments.length5&&void 0!==arguments[5]arguments[5]0;if(texthtml===o&&!(0,l.WA)(t))return console.warn(Unrecognized HTML format. HTML must be a simple table, e.g. tabletrtddatatdtrtable.),void console.warn(Data with the mime type texthtml not in this format will not be imported as row data.);e.selectedRows=[],e.selectedColumns=[];var s=(0,l.IR)(t,o),c=s[0].length;if(1===s.length&&1===c&&i=1&&a=1){var d=s[0][0].value.map((function(e){return e.value})).join();e.forEachSelectedCell((function(e,t,o){e[t][o]=d}))}else{var u=null;is.length&&acu=bothis.lengthu=verticalac&&(u=horizontal),e.insert({rowss,startRowIndexr,startColumnIndexn,minRowsLengthi,minColumnsLengtha,reverseRows!1,reverseColumns!1,clearSelections!0,alwaysFilling!1,directionu})}var f=[];return e.selections.forEach((function(t,o){void 0!==o&&t.forEach((function(t){f.push([o,t,e.getBoundRowIndexFromViewRowIndex(o),e.getBoundColumnIndexFromViewColumnIndex(t)])}))})),e.dispatchEvent(afterpaste,{cellsf}),s.length},e.insert=function(t){for(var o=t.rows,r=void 0===o[]o,n=t.startRowIndex,l=void 0===n0n,i=t.startColumnIndex,s=void 0===i0i,c=t.minRowsLength,d=void 0===c0c,u=t.minColumnsLength,f=void 0===u0u,h=t.reverseRows,g=void 0!==h&&h,p=t.reverseColumns,m=void 0!==p&&p,x=t.clearSelections,v=void 0!==x&&x,y=t.alwaysFilling,w=void 0!==y&&y,b=t.direction,C=void 0===bbothb,S=e.getSchema(),B=Math.max(r.length,d),I=e.fillCellCallback,M=v[]e.selections,T=[],R=0,k=0;RB;R++,k++){k=r.length&&(k=0);var O=R=r.length,E=gB-R-1R,z=e.orders.rows[l+E],A=r[k],H=Math.max(A.length,f),P=e.viewData[z],L=Object.assign({},P),D=I{rowsr,directionC,rowDataL,existingRowDataP,rowIndexz,rowOffsetk,cellsA,reversedhorizontal===Cmg,isFillingRowOw,fillingRowPositionwROR-r.length-1,fillingRowLengthwBOB-r.length-1}void 0;e.selectedRows.push(z),void 0===M[z]&&(M[z]=[]);for(var F=0,W=0;FH;F++,W++){W=A.length&&(W=0);var _=F=A.length,G=s+(mH-F-1F),N=S[G];if(N){var j=N.name,V=A[W];V&&V.value&&(V=V.value.map((function(e){return e.value})).join());var Z=P[j];L[j]=I&&(_Ow)I(a(a({},D),{},{columnN,columnIndexG,columnOffsetW,newCellDataV,existingCellDataZ,isFillingColumn_w,fillingColumnPositionwF_F-A.length-1,fillingColumnLengthwH_H-A.length-1}))null==VZV,M[z].push(G),(wO_)&&T.push([z,G,e.getBoundRowIndexFromViewRowIndex(z),e.getBoundColumnIndexFromViewColumnIndex(G)]),-1===e.selectedColumns.indexOf(G)&&e.selectedColumns.push(G)}else console.warn(Paste data exceeded grid bounds. Skipping.)}e.originalData[e.boundRowIndexMap.get(z)]=L,e.viewData[z]=L}e.selections=M,(T.length0w)&&e.dispatchEvent(afterfill,{filledCellsT})},e.getNextVisibleColumnIndex=function(t){var o,r=e.getVisibleSchema();for(o=0;or.length;o+=1)if(r[o].columnIndex===t)return r[o+1].columnIndex;return-1},e.getVisibleColumnIndexOf=function(t){var o,r=e.getVisibleSchema();for(o=0;or.length;o+=1)if(r[o].columnIndex===t)return o;return-1},e.getSelectionIndex=function(){for(var t=0,o=e.selections.length;to;t++){var r=e.selections[t];if(r){if(void 0===r[0])break;return{rowt,columnr[0]0r[1]r[0],rowLengtho-t,columnLengthr.length-(r[0]010)}}}return null},e.paste=function(t){if(e.attributes.editable&&!e.dispatchEvent(beforepaste,{NativeEventt})){var o=new Map(Array.from(t.clipboardData.items).map((function(e){return[e.type,e]}))),r=[texthtml,textcsv,textplain],n=r.map((function(e){return o.get(e)})).filter((function(e){return!!e}));if(0!==n.length){var l=e.getSelectionIndex();if(l){var i=n[0],a=i.type;i.getAsString((function(t){e.pasteData(t,a,l.row,l.column,l.rowLength,l.columnLength),e.draw()}))}}else console.warn(Cannot find supported clipboard data type. Supported types are,r.join(, ))}},e.cut=function(t){if(!e.dispatchEvent(cut,{NativeEventt})&&e.hasFocus&&t.clipboardData){e.copySelectedCellsToClipboard(t.clipboardData);var o=e.clearSelectedCells();e.dispatchEvent(aftercut,{cellso}),requestAnimationFrame((function(){return e.draw()})),t.preventDefault()}},e.copy=function(t){e.dispatchEvent(copy,{NativeEventt})e.hasFocus&&t.clipboardData&&(e.copySelectedCellsToClipboard(t.clipboardData),t.preventDefault())},e.selectionHandleMove=function(t){if(e.movingSelectionHandle){var o=e.getClippingRect(t),r=e.currentCell.rowIndex,n=e.currentCell.columnIndex,l=r=-1&&n=-1&&e.fillOverlay.selection.left=n&&e.fillOverlay.selection.right=n&&e.fillOverlay.selection.top=r&&e.fillOverlay.selection.bottom=r;if(e.fillOverlay.minX=o.x,e.fillOverlay.minY=o.y,e.fillOverlay.x=Math.max(o.x,t.clientX),e.fillOverlay.y=Math.max(o.y,t.clientY),l)e.fillOverlay.lastInBoundsLocation={xt.clientX,yt.clientY};else if(e.fillOverlay.lastInBoundsLocation!e.fillOverlay.direction){var i=e.fillOverlay.lastInBoundsLocation;e.fillOverlay.lastInBoundsLocation=void 0;var a=ii.xe.fillOverlay.handle.x,s=ii.ye.fillOverlay.handle.y,c=Math.abs(t.clientX-a),d=Math.abs(t.clientY-s);(c5d5)&&(e.fillOverlay.direction=cdxy)}r=0&&(e.fillOverlay.rowIndex=r),n=0&&(e.fillOverlay.columnIndex=n,-1===r&&e.visibleRows.length&&(e.fillOverlay.rowIndex=e.visibleRows[0])),e.fillOverlay.snap=r=-1&&n=-1e.currentCellvoid 0}},e.stopSelectionHandleMove=function(t){if(!e.fillOverlay.handle)return!1;e.ignoreNextClick=!0,window.removeEventListener(mousemove,e.selectionHandleMove,!1),window.removeEventListener(mouseup,e.stopSelectionHandleMove,!1);var o=e.fillOverlay,r=e.getSelectionIndex(),n=o.selection;if(r){if(e.movingSelectionHandle=void 0,e.fillOverlay={},o.rowIndex=0&&o.columnIndex=0){var l,i,s,c,d=a({},n),u=y===o.direction,f=x===o.direction,h=!1,g=!1;if(u(o.rowIndexn.top(n.top=o.rowIndex,h=!0)o.rowIndexn.bottom&&(n.bottom=o.rowIndex),l=n.topd.topn.topd.bottom+1,i=n.topd.topd.top-n.topn.bottom-d.bottom,s=r.column,c=r.columnLength)f&&(o.columnIndexn.left(n.left=o.columnIndex,g=!0)o.columnIndexn.right&&(n.right=o.columnIndex),s=n.leftd.leftn.leftd.right+1,c=n.leftd.leftd.left-n.leftn.right-d.right,l=r.row,i=r.rowLength),n.left=n.right&&n.top=n.bottom&&(n.leftd.leftn.topd.topn.rightd.rightn.bottomd.bottom)){for(var p=e.getSchema(),m=[],x=0;xMath.min(i,r.rowLength);x++){var v=e.viewData[r.row+x];m[x]=[];for(var y=0;yMath.min(c,r.columnLength);y++){var w=p[r.column+y];if(w){var b=v[w.name];m[x][y]=b}}}e.insert({rowsm,startRowIndexl,startColumnIndexs,minRowsLengthi,minColumnsLengthc,reverseRowsh,reverseColumnsg,clearSelections!1,alwaysFilling!0,directionfhorizontalvertical}),e.draw()}}return!0}}}},172function(e,t,o){use strict;function r(e,t){var o;if(undefined==typeof Symbolnull==e[Symbol.iterator]){if(Array.isArray(e)(o=function(e,t){if(e){if(string==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)n(e,t)void 0}}(e))t&&e&&number==typeof e.length){o&&(e=o);var r=0,l=function(){};return{sl,nfunction(){return r=e.length{done!0}{done!1,valuee[r++]}},efunction(e){throw e},fl}}throw new TypeError(Invalid attempt to iterate non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}var i,a=!0,s=!1;return{sfunction(){o=e[Symbol.iterator]()},nfunction(){var e=o.next();return a=e.done,e},efunction(e){s=!0,i=e},ffunction(){try{anull==o.returno.return()}finally{if(s)throw i}}}}function n(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}o.d(t,{Kzfunction(){return d},vifunction(){return u},WAfunction(){return l},IRfunction(){return s}});var l=function(e){return[(^(meta[^])[sS]div[^]),(^(meta[^])[sS]table[^]),(^(meta[^])[sS]span[^]),(!--StartFragment--[sS]tr[^]),(!--StartFragment--[sS]td[^])].some((function(t){return t.test(e)}))},i=[8,3],a=function(e){var t=1===e.nodeTypee.innerTexte.data;return String(t).replace(s+g, ).trim()},s=function(e,t){returntexthtml===t&&(table[^])(tr[^]).test(e)function(e){var t,o=[],n=r((new DOMParser).parseFromString(e,texthtml).querySelectorAll(table tr));try{for(n.s();!(t=n.n()).done;){var l,s=t.value,c=[],d=r(s.childNodes);try{for(d.s();!(l=d.n()).done;){var u=l.value;if(!i.includes(u.nodeType)){var f={value[]},h=a(u);h&&f.value.push({valueh}),c.push(f)}}}catch(e){d.e(e)}finally{d.f()}o.push(c)}}catch(e){n.e(e)}finally{n.f()}return o}(e)texthtml===tfunction(e){var t=(new DOMParser).parseFromString(e,texthtml),o=t.querySelector(div)t.querySelector(span);return a(o).split(n).map((function(e){return e.split(t).map((function(e){return{value[{valuee}]}}))}))}(e)function(e){return e.split(n).map((function(e){return e.split(t).map((function(e){return{value[{valuee}]}}))}))}(e)},c=function(e){returnstring!=typeof eee.replace(g,&lt;).replace(g,&gt;)},d=function(e,t){return te.map((function(e){return Object.values(e).join(t)})).join(n)e.map((function(e){return Object.values(e).join()})).join()},u=function(e,t){if(!t)return d(e,t);var o=table;return(o+=e.map((function(e){returntr+Object.values(e).map((function(e){return[td,c(e),td].join()})).join()+tr})).join())+table}},944function(e,t,o){use strict;o.d(t,{Zfunction(){return d}});var r=o(172);function n(e){return function(e){if(Array.isArray(e))return c(e)}(e)function(e){if(undefined!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)s(e)function(){throw new TypeError(Invalid attempt to spread non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}()}function l(e){return(l=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(e){return typeof e}function(e){return e&&function==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototypesymboltypeof e})(e)}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)function(e,t){if(undefined!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],r=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(o.push(i.value),!to.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{rnull==a.returna.return()}finally{if(n)throw l}}return o}}(e,t)s(e,t)function(){throw new TypeError(Invalid attempt to destructure non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}()}function a(e,t){var o;if(undefined==typeof Symbolnull==e[Symbol.iterator]){if(Array.isArray(e)(o=s(e))t&&e&&number==typeof e.length){o&&(e=o);var r=0,n=function(){};return{sn,nfunction(){return r=e.length{done!0}{done!1,valuee[r++]}},efunction(e){throw e},fn}}throw new TypeError(Invalid attempt to iterate non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}var l,i=!0,a=!1;return{sfunction(){o=e[Symbol.iterator]()},nfunction(){var e=o.next();return i=e.done,e},efunction(e){a=!0,l=e},ffunction(){try{inull==o.returno.return()}finally{if(a)throw l}}}}function s(e,t){if(e){if(string==typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)c(e,t)void 0}}function c(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}function d(e,t){function o(e,t){var o,r=[];for(o=e;o=t;o+=1)r[o]=o;return r}e.scale=1,e.orders={rows[],columns[]},e.appliedInlineStyles={},e.cellGridAttributes={},e.treeGridAttributes={},e.visibleRowHeights=[],e.hasFocus=!1,e.activeCell={columnIndex0,rowIndex0},e.innerHTML=,e.storageName=canvasDataGrid,e.invalidSearchExpClass=canvas-datagrid-invalid-search-regExp,e.localStyleLibraryStorageKey=canvas-datagrid-user-style-library,e.dataType=applicationx-canvas-datagrid,e.orderBy=null,e.orderDirection=asc,e.orderings={columns[],addfunction(t,o,r){e.orderings.columns=e.orderings.columns.filter((function(e){return e.orderBy!==t})),e.orderings.columns.push({orderByt,orderDirectiono,sortFunctionr})},sortfunction(){console.warn(grid.orderings.sort has been deprecated. Please use grid.refresh().),e.orderings.columns.forEach((function(t){e.viewData.sort(t.sortFunction(t.orderBy,t.orderDirection))}))}},e.columnFilters={},e.filters={},e.frozenRow=0,e.frozenColumn=0,e.ellipsisCache={},e.scrollCache={x[],y[]},e.scrollBox={},e.visibleRows=[],e.visibleCells=[],e.visibleUnhideIndicators=[],e.hiddenRowRanges=[],e.visibleGroups=[],e.sizes={rows{},columns{},trees{}},e.selections=[],e.selectedRows=[],e.selectedColumns=[],e.fillOverlay={},e.filterable={rows[],columns[]},e.selectedFilterButton={columnIndex-1,rowIndex-1},e.cellTree={rows[],columns{},tempSchema{},rowTreeColIndex0,columnTreeRowStartIndex0,columnTreeRowEndIndex0,origin{rows[],columns{}}},e.hovers={},e.attributes={},e.style={},e.formatters={},e.sorters={},e.parsers={},e.schemaHashes={},e.events={},e.changes=[],e.scrollIndexTop=0,e.scrollPixelTop=0,e.scrollIndexLeft=0,e.scrollPixelLeft=0,e.childGrids={},e.openChildren={},e.groupedColumns=[],e.groupedRows=[],e.scrollModes=[vertical-scroll-box,vertical-scroll-top,vertical-scroll-bottom,horizontal-scroll-box,horizontal-scroll-right,horizontal-scroll-left],e.componentL1Events={},e.eventNames=[afterdraw,afterrendercell,afterrenderfilterbutton,aftercreategroup,attributechanged,beforebeginedit,beforecreatecellgrid,beforedraw,beforeendedit,beforerendercell,beforerendercellgrid,beforerenderfilterbutton,beginedit,cellmouseout,cellmouseover,click,collapsetree,columnhide,columnunhide,contextmenu,copy,datachanged,dblclick,endedit,expandtree,formatcellvalue,keydown,keypress,keyup,mousedown,mousemove,mouseup,newrow,ordercolumn,rendercell,rendercellgrid,renderorderbyarrow,rendertext,rendertreearrow,reorder,reordering,resize,resizecolumn,resizerow,schemachanged,scroll,selectionchanged,stylechanged,touchcancel,touchend,touchmove,touchstart,wheel],e.mouse={x0,y0},e.getSelectedData=function(t){var o=[],r=e.getSchema(),n=e.viewData.length;return 0===n[](e.selections.forEach((function(l,i){l&&i!==n&&(0!==l.length(o[i]={},l.forEach((function(n){if(-1!==n&&r[n]){var l=e.orders.columns[n];!t&&r[l].hiddene.viewData[i]&&(o[i][r[l].name]=e.viewData[i][r[l].name])}})))o[i]=null)})),o)},e.getSelectedCells=function(t){var o=[],r=e.getSchema();if(0===e.viewData.length)return[];var n,l=a(e.selections.entries());try{for(l.s();!(n=l.n()).done;){var s=i(n.value,2),c=s[0],d=s[1];if(d&&0!==d.length){var u,f=a(d.entries());try{for(f.s();!(u=f.n()).done;){var h=i(u.value,2)[1];if(-1!==h&&r[h]){var g=e.getBoundColumnIndexFromViewColumnIndex(h);if((t!r[g].hidden)&&e.viewData[c]){var p=r[g],m={valuee.viewData[c][p.name],headerp,boundRowIndexe.getBoundRowIndexFromViewRowIndex(c),boundColumnIndexg,viewRowIndexc,viewColumnIndexh};o.push(m)}}}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){l.e(e)}finally{l.f()}return o},e.copySelectedCellsToClipboard=function(t){var o,n,l=[],s=e.getSchema(),c=!0,d=a(e.selections.entries());try{for(d.s();!(n=d.n()).done;){var u=i(n.value,2),f=u[0],h=u[1];if(h){var g=h.join(,).toString(),p={};o(o=h.join(,).toString()),c&&g!==o&&(c=!1);var m,x=e.getBoundRowIndexFromViewRowIndex(f),v=a(h);try{for(v.s();!(m=v.n()).done;){var y=m.value;if(!(y0)){var w=s[e.getBoundColumnIndexFromViewColumnIndex(y)].name,b=e.originalData[x][w];p[w]=b}}}catch(e){v.e(e)}finally{v.f()}l.push(p)}}}catch(e){d.e(e)}finally{d.f()}if(l.length0)for(var C=(0,r.Kz)(l,c),S={textplainC,texthtml(0,r.vi)(l,c),textcsvC,applicationjsonJSON.stringify(l)},B=0,I=Object.entries(S);BI.length;B++){var M=i(I[B],2),T=M[0],R=M[1];t.setData(T,R)}},e.clearSelectedCells=function(){var t,o=e.getSchema(),r=[],n=a(e.selections.entries());try{for(n.s();!(t=n.n()).done;){var l=i(t.value,2),s=l[0],c=l[1];if(c){var d,u=e.getBoundRowIndexFromViewRowIndex(s),f=a(c);try{for(f.s();!(d=f.n()).done;){var h=d.value;if(!(h0)){var g=e.getBoundColumnIndexFromViewColumnIndex(h),p=o[g].name;e.viewData[u][p]=,r.push([s,h,u,g])}}}catch(e){f.e(e)}finally{f.f()}}}}catch(e){n.e(e)}finally{n.f()}return r},e.getBoundRowIndexFromViewRowIndex=function(t){if(e.boundRowIndexMap&&e.boundRowIndexMap.has(t))return e.boundRowIndexMap.get(t)},e.getBoundColumnIndexFromViewColumnIndex=function(t){return e.orders.columns[t]},e.getColumnGroupAreaHeight=function(){if(!e.attributes.allowGroupingColumns)return 0;var t=e.groupedColumns.length;return e.style.columnGroupRowHeighte.scalet},e.getRowGroupAreaWidth=function(){if(!e.attributes.allowGroupingRows)return 0;var t=e.groupedRows.length;return e.style.rowGroupColumnWidthe.scalet},e.getCollapsedColumnGroups=function(){for(var t=[],o=0;oe.groupedColumns.length;o++)for(var r=e.groupedColumns[o],n=0;nr.length;n++){var l=r[n];l.collapsed&&t.push(l)}return t},e.getCollapsedRowGroups=function(){for(var t=[],o=0;oe.groupedRows.length;o++)for(var r=e.groupedRows[o],n=0;nr.length;n++){var l=r[n];l.collapsed&&t.push(l)}return t},e.toggleGroup=function(t){if(c===t.type){for(var o,r=t.from,n=t.to,l=e.groupedColumns,i=0;il.length;i++){for(var a=l[i],s=0;sa.length;s++){var c=a[s];if(c.from===r&&c.to===n){o=c;break}}if(o)break}if(!o)return;var d=!o.collapsed;return o.collapsed=d,!0}if(r===t.type){for(var u,f=t.from,h=t.to,g=e.groupedRows,p=0;pg.length;p++){for(var m=g[p],x=0;xm.length;x++){var v=m[x];if(v.from===f&&v.to===h){u=v;break}}if(u)break}if(!u)return;var y=!u.collapsed;return u.collapsed=y,!0}return!1},e.isNewGroupRangeValid=function(e,t,o){for(var r=0;re.length;r++)for(var n=e[r],l=0;ln.length;l++){var i=n[l];if(t===i.to+1)return!1;if(!(ti.to)){if(t===i.from){if(o===i.to)return!1;if(oi.to)return!0;break}if(ti.from){if(oi.to)return!1;break}return!(oi.to)}}return!0},e.getColumnHeaderCellHeight=function(){return e.attributes.showColumnHeaders(e.sizes.rows[-1]e.style.columnHeaderCellHeight)e.scale0},e.getRowHeaderCellWidth=function(){return e.attributes.showRowHeaders(e.sizes.columns[-1]e.style.rowHeaderCellWidth)e.scale0},e.setStorageData=function(){if(e.attributes.saveAppearance&&e.attributes.name){var t={};e.getSchema().forEach((function(e){t[e.name]=!e.hidden})),localStorage.setItem(e.storageName+-+e.attributes.name,JSON.stringify({sizes{rowse.sizes.rows,columnse.sizes.columns},orders{rowse.orders.rows,columnse.orders.columns},orderBye.orderBy,orderDirectione.orderDirection,visibilityt}))}},e.getSchema=function(){return e.schemae.tempSchema[]},e.createColumnOrders=function(){var t=e.getSchema();e.orders.columns=o(0,t.length-1)},e.createRowOrders=function(){e.orders.rows=o(0,e.originalData.length-1)},e.fitSelectedColumns=function(t){var o,r=e.selections[0],n=e.getSchema(),l=a(r);try{for(l.s();!(o=l.n()).done;){var i=o.value;if(i=0&&e.isColumnSelected(i))if(isNaN(t)){var s=n[e.orders.columns[i]];e.fitColumnToValues(s.name)}else e.sizes.columns[i]=t,e.dispatchEvent(resizecolumn,{xt,ye.resizingStartingHeight,draggingIteme.currentCell})}}catch(e){l.e(e)}finally{l.f()}},e.getVisibleSchema=function(){return e.getSchema().filter((function(e){return!e.hidden}))},e.applyDefaultValue=function(t,o,r){var n=o.defaultValue;function==typeof n&&(n=n.apply(e.intf,[o,r])),t[o.name]=n},e.createNewRowData=function(){e.newRow={},e.getSchema().forEach((function(t){e.applyDefaultValue(e.newRow,t,void 0)}))},e.getSchemaNameHash=function(t){for(var o=0;e.schemaHashes[t];)t+=o+=1;return t},e.filter=function(t){var o=e.filters[t];return ovoid 0===t(console.warn(Cannot find filter for type %s, falling back to substring match.,t),o=e.filters.string),o},e.hasActiveFilters=function(){return e.columnFilters&&Object.keys(e.columnFilters).length0},e.hasCollapsedRowGroup=function(){for(var t=0;te.groupedRows.length;t++)for(var o=e.groupedRows[t],r=0;ro.length;r++)if(o[r].collapsed)return!0;return!1},e.getFilteredAndSortedViewData=function(t){var o=t.map((function(e,t){return[e,t]}));if(e.hiddenRowRanges.length0)for(var r=e.hiddenRowRanges.sort((function(e,t){return t[1]-e[1]})),n=0;nr.length;n++){var l=i(r[n],2),s=l[0],c=l[1]-s+1;o.splice(s,c)}for(var d=function(){var t=i(f[u],2),r=t[0],n=t[1],l=e.getHeaderByName(r);if(!l)returncontinue;var a=l.filtere.filter(l.typestring);o=o.filter((function(t){var o=i(t,2),l=o[0],s=o[1];return!!(e.attributes.allowFreezingRows&&!e.attributes.filterFrozenRows&&se.frozenRow)a(l[r],n)}))},u=0,f=Object.entries(e.columnFilters);uf.length;u++)d();for(var h=[],g=0;ge.groupedRows.length;g++)for(var p=e.groupedRows[g],m=0;mp.length;m++){var x=p[m];x.collapsed&&h.push([x.from,x.to])}if(h.length0){h.sort((function(e,t){return e[0]-t[0]}));for(var v=0,y=h.length,w=0;wy;w++){var b=h[w];if(w===y-1){h[v++]=b;break}var C=b[1],S=i(h[w+1],2),B=S[0],I=S[1];BC+1h[v++]=b(h[w+1]=b,IC&&(h[w+1][1]=I))}for(var M=(h=h.slice(0,v)).shift(),T=0;To.length;T++)if(!(o[T][1]M[0])){for(var R=T+1;Ro.length&&!(o[R][1]M[1]);R++);if(o.splice(T,R-T),!(M=h.shift()))break;T--}}var k,O=a(e.orderings.columns);try{var E=function(){var t=k.value,r=t.sortFunction(t.orderBy,t.orderDirection);o.sort((function(t,o){var n=i(t,1)[0],l=i(o,2),a=l[0],s=l[1];return e.attributes.allowFreezingRows&&!e.attributes.sortFrozenRows&&se.frozenRow0r(n,a)}))};for(O.s();!(k=O.n()).done;)E()}catch(e){O.e(e)}finally{O.f()}return{viewDatao.map((function(e){return i(e,1)[0]})),boundRowIndexMapnew Map(o.map((function(e,t){var o=i(e,2);return o[0],[t,o[1]]})))}},e.refresh=function(){var t=e.getFilteredAndSortedViewData(e.originalData),o=t.viewData,r=t.boundRowIndexMap;e.viewData=o,e.boundRowIndexMap=r,e.resize(),e.draw(!0)},e.getBestGuessDataType=function(e,t){var o,r,n=t.length;for(r=0;rn;r+=1)if(void 0!==t[r]&&null!==t[r]&&-1!==[null,void 0].indexOf(t[r][e]))returnobject===(o=l(t[r]))stringo;returnstring},e.drawChildGrids=function(){Object.keys(e.childGrids).forEach((function(t){e.childGrids[t].draw()}))},e.resizeChildGrids=function(){Object.keys(e.childGrids).forEach((function(t){e.childGrids[t].resize()}))},e.autoScrollZone=function(t,o,r,n){var l,i=e.getRowHeaderCellWidth(),a=e.getColumnHeaderCellHeight();-1!==o&&(oe.width-e.attributes.selectionScrollZone&&(e.scrollBox.scrollLeft+=e.attributes.selectionScrollIncrement,l=!0),o-e.attributes.selectionScrollZone-i0&&(e.scrollBox.scrollLeft-=e.attributes.selectionScrollIncrement,l=!0)),-1!==r&&(re.height-e.attributes.selectionScrollZone&&(e.scrollBox.scrollTop+=e.attributes.selectionScrollIncrement,l=!0),r-e.attributes.selectionScrollZone-a0&&(e.scrollBox.scrollTop-=e.attributes.selectionScrollIncrement,l=!0)),l&&!n&&e.currentCell&&-1!==e.currentCell.columnIndex&&(e.scrollTimer=setTimeout(e.mousemove,e.attributes.scrollRepeatRate,t))},e.validateColumn=function(e,t){if(!e.name)throw new Error(A column must contain at least a name.);if(t.filter((function(t){return t.name===e.name})).length0)throw new Error(A column with the name +e.name+ already exists and cannot be added again.);return!0},e.setDefaults=function(e,t,o,r){e[o]=void 0===t[o]rt[o]},e.setAttributes=function(){e.defaults.attributes.forEach((function(t){e.setDefaults(e.attributes,e.args,t[0],t[1])}))},e.setStyle=function(){e.defaults.styles.forEach((function(t){e.setDefaults(e.style,e.args.style{},t[0],t[1])}))},e.autosize=function(t){e.getVisibleSchema().forEach((function(o,r){o.name!==t&&void 0!==t(e.sizes.columns[r]=Math.max(e.findColumnMaxTextLength(o.name),e.style.minColumnWidth))})),e.sizes.columns[-1]=e.findColumnMaxTextLength(cornerCell)},e.dispose=function(){!e.isChildGrid&&e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.isChildGriddocument.body.removeChild(e.controlInput),e.eventParent.removeEventListener(mousedown,e.mousedown,!1),e.eventParent.removeEventListener(dblclick,e.dblclick,!1),e.eventParent.removeEventListener(click,e.click,!1),e.eventParent.removeEventListener(mousemove,e.mousemove),e.eventParent.removeEventListener(wheel,e.scrollWheel,!1),e.canvas.removeEventListener(contextmenu,e.contextmenu,!1),e.canvas.removeEventListener(copy,e.copy),e.controlInput.removeEventListener(copy,e.copy),e.controlInput.removeEventListener(cut,e.cut),e.controlInput.removeEventListener(paste,e.paste),e.controlInput.removeEventListener(keypress,e.keypress,!1),e.controlInput.removeEventListener(keyup,e.keyup,!1),e.controlInput.removeEventListener(keydown,e.keydown,!1),window.removeEventListener(mouseup,e.mouseup,!1),window.removeEventListener(mousemove,e.mousemove),window.removeEventListener(resize,e.resize),e.observer&&e.observer.disconnect&&e.observer.disconnect()},e.tryLoadStoredSettings=function(){var t;e.reloadStoredValues(),e.storedSettings&&object===l(e.storedSettings.orders)&&null!==e.storedSettings.orders&&(e.storedSettings.orders.rows.length=(e.viewData[]).length&&(e.orders.rows=e.storedSettings.orders.rows),t=e.getSchema(),e.storedSettings.orders.columns.length===t.length&&(e.orders.columns=e.storedSettings.orders.columns),e.orderBy=void 0===e.storedSettings.orderByt[0].namee.storedSettings.orderBy,e.orderDirection=void 0===e.storedSettings.orderDirectionasce.storedSettings.orderDirection,void 0!==e.storedSettings.orderBy&&e.getHeaderByName(e.orderBy)&&e.orderDirection&&e.order(e.orderBy,e.orderDirection))},e.toggleCollapseTree=function(t,o,r){var l=[],i=0;if(o==e.cellTree.rowTreeColIndex&&(t00==t&&e.cellTree.rows[0].icon)){var a=e.cellTree.rows;switch(r){caseExpanda[t].expand=!0,e.cellTree.origin.rows[a[t].index].expand=!0;break;caseCollapsea[t].expand=!1,e.cellTree.origin.rows[a[t].index].expand=!1;break;defaulta[t].expand=!a[t].expand,e.cellTree.origin.rows[a[t].index].expand=a[t].expand}for(var s=a[t].index+1;s=a[t].lastchild;s++){var c=e.cellTree.origin.rows[s];a[t].expand(c.hide=!1,c.icon&&!c.expand&&(s=c.lastchild))c.hide=!0}}else if(e.cellTree.columns[t]){var d=e.cellTree.columns[t];switch(r){caseExpandd[o].expand=!0;break;caseCollapsed[o].expand=!1;break;defaultd[o].expand=!d[o].expand}for(var u=d[o].index+1;u=d[o].lastchild;u++)d[o].expande.cellTree.tempSchema[u].hidden=!1e.cellTree.tempSchema[u].hidden=!0;var f,h=0;if(d[o].expand)for(;hd[o].child;){f=t+h+1;for(var g=d[o].index;g=d[o].lastchild;g++)if(e.cellTree.origin.columns[f]&&e.cellTree.origin.columns[f][g].icon&&!e.cellTree.origin.columns[f][g].expand)for(var p=g+1;p=e.cellTree.origin.columns[f][g].lastchild;p++)e.cellTree.tempSchema[p].hidden=!0;h++}}var m,x={},v=[];for(var y in e.cellTree.rows=[],e.cellTree.columns={},e.cellTree.origin.rows){var w=[],b=e.cellTree.origin.rows[y];if(b.hide){for(var C=0;Ce.cellTree.rowTreeColIndex;C++)w.push(e.viewData[y][C]);x[y]=w,v.push(Array(e.viewData[0].length).fill().map((function(){return}))),i++}else{var S=[],B=0;if(ye.cellTree.columnTreeRowStartIndex)l.push(e.originalData[y]);else if(ye.cellTree.columnTreeRowEndIndex)x[y]=e.viewData[y],i++;else{for(var I=0;Ie.originalData[y].length;I++)e.cellTree.tempSchema[I].hiddenB++(Ie.cellTree.rowTreeColIndex&&(Object.prototype.hasOwnProperty.call(x,y)(x[y]=[]),x[y].push(e.viewData[y][I])),w.push(e.originalData[y][I]),Object.prototype.hasOwnProperty.call(e.cellTree.origin.columns,y)&&S.push(e.cellTree.origin.columns[y][I]));w.push.apply(w,n(Array(B).fill().map((function(){return})))),S.length&&(S.push.apply(S,n(Array(B).fill().map((function(){return{}})))),e.cellTree.columns[y]=S),l.push(w)}e.cellTree.rows.push(b)}}for(var M in i&&((m=e.cellTree.rows).push.apply(m,n(Array(i).fill().map((function(t,o){return{indexe.cellTree.rows.length+o}})))),l.push.apply(l,v)),x)if(Me.cellTree.columnTreeRowEndIndex)l[M]=x[M];else for(var T in x[M])l[M][T]=x[M][T];e.viewData=l},e.cellTreeExpandCollapse=function(t,o,r){if(o==e.cellTree.rowTreeColIndex&&(t00==t&&e.cellTree.rows[0].icon)){var n=e.cellTree.rows;switch(r){caseExpandn[t].expand=!0;break;caseCollapsen[t].expand=!1;break;defaultn[t].expand=!n[t].expand}for(var l=t+1;l=n[t].lastchild;l++)n[t].expand(n[l].hide=!1,n[l].icon&&!n[l].expand&&(l=n[l].lastchild))n[l].hide=!0}else if(e.cellTree.columns[t]){var i=e.cellTree.columns[t];switch(r){caseExpandi[o].expand=!0;break;caseCollapsei[o].expand=!1;break;defaulti[o].expand=!i[o].expand}for(var a=o+1;a=i[o].lastchild;a++)i[o].expande.tempSchema[a].hidden=!1e.tempSchema[a].hidden=!0;var s,c=0;if(i[o].expand)for(;ci[o].child;){s=t+c+1;for(var d=o;d=i[o].lastchild;d++)if(e.cellTree.columns[s]&&e.cellTree.columns[s][d].icon&&!e.cellTree.columns[s][d].expand)for(var u=d+1;u=e.cellTree.columns[s][d].lastchild;u++)e.tempSchema[u].hidden=!0;c++}}},e.initCellTreeSettings=function(){if(void 0!==e.viewData){if(e.attributes.rowTree.length0&&e.viewData.length0){e.cellTree.rows=Array(e.viewData.length).fill().map((function(e,t){return{indext}})),e.cellTree.rowTreeColIndex=e.attributes.rowTreeColIndex;var t,o=!1,r=a(e.attributes.rowTree);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e.cellTree.rows.length=n.end){o=!0;break}for(var l=n.begin;l=n.end;l++)l==n.begin(e.cellTree.rows[l].icon=!0,e.cellTree.rows[l].lastchild=n.end,e.cellTree.rows[l].expand=!0,e.cellTree.rows[l].parentCount(e.cellTree.rows[l].parentCount=0))(e.cellTree.rows[l].hide=!1,e.cellTree.rows[l].parentIndex=n.begin,e.cellTree.rows[l]&&e.cellTree.rows[l].parentCounte.cellTree.rows[l].parentCount+=1e.cellTree.rows[l].parentCount=1)}}catch(e){r.e(e)}finally{r.f()}o&&(e.cellTree.rows={})}if(e.attributes.columnTree.length0&&e.viewData.length0){e.cellTree.columnTreeRowStartIndex=e.attributes.columnTreeRowStartIndex,e.cellTree.columnTreeRowEndIndex=e.attributes.columnTreeRowEndIndex;var i,s=Object.keys(e.viewData[0]).length,c=!1,d=a(e.attributes.columnTree);try{for(d.s();!(i=d.n()).done;){var u=i.value;if(s=u.end){c=!0;break}e.cellTree.columns[u.row](e.cellTree.columns[u.row]=Array(s).fill().map((function(e,t){return{indext}})));for(var f=u.begin;f=u.end;f++){var h=e.cellTree.columns[u.row][f];f==u.begin&&(h.icon=!0,h.lastchild=u.end,h.length=u.end-u.begin,h.expand=!0,u.childh.child=u.childh.child=0)}}}catch(e){d.e(e)}finally{d.f()}e.cellTree.tempSchema=Array(s).fill().map((function(){return{hidden!1}})),c&&(e.cellTree.columns={})}e.cellTree.origin={rowse.cellTree.rows,columnse.cellTree.columns}}},e.getDomRoot=function(){return e.shadowRoote.shadowRoot.hoste.parentNode},e.getFontName=function(e){return e.replace(d+.dpx,)},e.getFontHeight=function(e){return parseFloat(e,10)},e.parseStyleValue=function(t){if(Font.test(t))return e.style[t+Height]=e.getFontHeight(e.style[t]),void(e.style[t+Name]=e.getFontName(e.style[t]));moveOverlayBorderSegments===t&&string==typeof e.style[t]&&(e.style[t]=e.style[t].split(,).map((function(e){return parseInt(e,10)})))},e.initProp=function(t){e.args[t]&&Object.keys(e.args[t]).forEach((function(o){e[t][o]=e.args[t][o]}))},e.getStyleProperty=function(t){return-1===e.styleKeys.indexOf(t)e.parentNodeStyle[t]e.style[t]},e.setStyleProperty=function(t,o,r){var n=-1!==[height,width,minHeight,minWidth,maxHeight,maxWidth].indexOf(t);-1===e.styleKeys.indexOf(t)e.parentNodeStyle[t]=o(-.test(t)&&(t=e.dehyphenateProperty(t)),e.style[t]=o,e.parseStyleValue(t)),n&&e.resize(),r(e.draw(!0),e.dispatchEvent(stylechanged,{namestyle,valueo}))},e.reloadStoredValues=function(){if(e.attributes.name&&e.attributes.saveAppearance){try{e.storedSettings=localStorage.getItem(e.storageName+-+e.attributes.name)}catch(t){console.warn(Error loading stored values. +t.message),e.storedSettings=void 0}if(e.storedSettings)try{e.storedSettings=JSON.parse(e.storedSettings)}catch(t){console.warn(could not read settings from localStore,t),e.storedSettings=void 0}e.storedSettings&&(object===l(e.storedSettings.sizes)&&null!==e.storedSettings.sizes&&(e.sizes.rows=e.storedSettings.sizes.rows,e.sizes.columns=e.storedSettings.sizes.columns,[trees,columns,rows].forEach((function(t){e.sizes[t](e.sizes[t]={})}))),object===l(e.storedSettings.visibility)&&e.getSchema().forEach((function(t){e.storedSettings.visibility&&void 0!==e.storedSettings.visibility[t.name]&&(t.hidden=!e.storedSettings.visibility[t.name])})))}},e.init=function(){if(!e.initialized){var t={};return e.setAttributes(),e.setStyle(),e.initScrollBox(),e.setDom(),e.nodeType=canvas-datagrid,e.ie=Trident.test(window.navigator.userAgent),e.edge=Edge.test(window.navigator.userAgent),e.webKit=WebKit.test(window.navigator.userAgent),e.moz=Gecko.test(window.navigator.userAgent),e.mobile=Mobilei.test(window.navigator.userAgent),e.blankValues=[void 0,null,],e.cursorGrab=grab,e.cursorGrabing=grabbing,e.cursorGrab=e.webKit-webkit-grabe.cursorGrab,e.cursorGrabing=e.moz-webkit-grabbinge.cursorGrabbing,e.pointerLockPosition={x0,y0},Object.keys(e.style).forEach(e.parseStyleValue),e.intf.moveSelection=e.moveSelection,e.intf.deleteSelectedData=e.deleteSelectedData,e.intf.moveTo=e.moveTo,e.intf.addEventListener=e.addEventListener,e.intf.removeEventListener=e.removeEventListener,e.intf.dispatchEvent=e.dispatchEvent,e.intf.dispose=e.dispose,e.intf.appendTo=e.appendTo,e.intf.getVisibleCellByIndex=e.getVisibleCellByIndex,e.intf.filters=e.filters,e.intf.sorters=e.sorters,e.intf.autosize=e.autosize,e.intf.beginEditAt=e.beginEditAt,e.intf.endEdit=e.endEdit,e.intf.setActiveCell=e.setActiveCell,e.intf.forEachSelectedCell=e.forEachSelectedCell,e.intf.scrollIntoView=e.scrollIntoView,e.intf.clearChangeLog=e.clearChangeLog,e.intf.gotoCell=e.gotoCell,e.intf.gotoRow=e.gotoRow,e.intf.addButton=e.addButton,e.intf.toggleCellCollapseTree=e.toggleCellCollapseTree,e.intf.expandCollapseCellTree=e.expandCollapseCellTree,e.intf.getHeaderByName=e.getHeaderByName,e.intf.findColumnScrollLeft=e.findColumnScrollLeft,e.intf.findRowScrollTop=e.findRowScrollTop,e.intf.fitColumnToValues=e.fitColumnToValues,e.intf.findColumnMaxTextLength=e.findColumnMaxTextLength,e.intf.disposeContextMenu=e.disposeContextMenu,e.intf.getCellAt=e.getCellAt,e.intf.groupColumns=e.groupColumns,e.intf.groupRows=e.groupRows,e.intf.removeGroupColumns=e.removeGroupColumns,e.intf.removeGroupRows=e.removeGroupRows,e.intf.toggleGroupColumns=e.toggleGroupColumns,e.intf.toggleGroupRows=e.toggleGroupRows,e.intf.getGroupsColumnBelongsTo=e.getGroupsColumnBelongsTo,e.intf.getGroupsRowBelongsTo=e.getGroupsRowBelongsTo,e.intf.isCellVisible=e.isCellVisible,e.intf.isRowVisible=e.isRowVisible,e.intf.isColumnVisible=e.isColumnVisible,e.intf.order=e.order,e.intf.draw=e.draw,e.intf.refresh=e.refresh,e.intf.isComponent=e.isComponent,e.intf.selectArea=e.selectArea,e.intf.clipElement=e.clipElement,e.intf.getSchemaFromData=e.getSchemaFromData,e.intf.setFilter=e.setFilter,e.intf.selectRow=e.selectRow,e.intf.parentGrid=e.parentGrid,e.intf.toggleTree=e.toggleTree,e.intf.expandTree=e.expandTree,e.intf.collapseTree=e.collapseTree,e.intf.canvas=e.canvas,e.intf.context=e.ctx,e.intf.insertRow=e.insertRow,e.intf.deleteRow=e.deleteRow,e.intf.addRow=e.addRow,e.intf.insertColumn=e.insertColumn,e.intf.deleteColumn=e.deleteColumn,e.intf.addColumn=e.addColumn,e.intf.getClippingRect=e.getClippingRect,e.intf.setRowHeight=e.setRowHeight,e.intf.setColumnWidth=e.setColumnWidth,e.intf.resetColumnWidths=e.resetColumnWidths,e.intf.resetRowHeights=e.resetRowHeights,e.intf.resize=e.resize,e.intf.selectColumn=e.selectColumn,e.intf.selectRow=e.selectRow,e.intf.selectAll=e.selectAll,e.intf.selectNone=e.selectNone,e.intf.drawChildGrids=e.drawChildGrids,e.intf.assertPxColor=e.assertPxColor,e.intf.clearPxColorAssertions=e.clearPxColorAssertions,e.intf.integerToAlpha=e.integerToAlpha,e.intf.copy=e.copy,e.intf.cut=e.cut,e.intf.paste=e.paste,e.intf.setStyleProperty=e.setStyleProperty,e.intf.hideColumns=e.hideColumns,e.intf.unhideColumns=e.unhideColumns,e.intf.hideRows=e.hideRows,e.intf.unhideRows=e.unhideRows,Object.defineProperty(e.intf,defaults,{getfunction(){return{stylese.defaults.styles.reduce((function(e,t){return e[t[0]]=t[1],e}),{}),attributese.defaults.attributes.reduce((function(e,t){return e[t[0]]=t[1],e}),{})}}}),e.styleKeys=Object.keys(e.intf.defaults.styles),e.styleKeys.map((function(t){return e.hyphenateProperty(t,!1)})).forEach(o),e.styleKeys.map((function(t){return e.hyphenateProperty(t,!0)})).forEach(o),e.DOMStyles=window.getComputedStyle(document.body,null),e.styleKeys.concat(Object.keys(e.DOMStyles)).forEach((function(o){t[o]=void 0,Object.defineProperty(t,o,{getfunction(){return e.getStyleProperty(o)},setfunction(t){e.initialized&&(e.appliedInlineStyles[o]=t),e.setStyleProperty(o,t)}})})),Object.defineProperty(e.intf,shadowRoot,{getfunction(){return e.shadowRoot}}),Object.defineProperty(e.intf,activeCell,{getfunction(){return e.activeCell}}),Object.defineProperty(e.intf,hasFocus,{getfunction(){return e.hasFocus}}),Object.defineProperty(e.intf,hasActiveFilters,{getfunction(){return e.hasActiveFilters()}}),Object.defineProperty(e.intf,style,{getfunction(){return t},setfunction(t){Object.keys(t).forEach((function(o){e.setStyleProperty(o,t[o],!0)})),e.draw(!0),e.dispatchEvent(stylechanged,{namestyle,valuet})}}),Object.defineProperty(e.intf,attributes,{value{}}),Object.keys(e.attributes).forEach((function(t){Object.defineProperty(e.intf.attributes,t,{getfunction(){return e.attributes[t]},setfunction(o){e.attributes[t]=o,name===t&&e.tryLoadStoredSettings(),rowTree!==t&&columnTree!==t&&columnTreeRowEndIndex!==te.initCellTreeSettings(),e.draw(!0),e.dispatchEvent(attributechanged,{namet,valueo[t]})}})})),e.filters.string=function(t,o){if(o===e.attributes.blanksText)return e.blankValues.includes(null==ttString(t).trim());t=String(t);var r,n=(igm)$.exec(o),l=nn[0].substring(1),i=l.length;if(e.invalidFilterRegEx=void 0,===o.substring(0,1)&&n){try{r=new RegExp(o.substring(1,o.length-(i+1)),l)}catch(t){return void(e.invalidFilterRegEx=t)}return r.test(t)}return!!t.toString&&-1!==t.toString().toLocaleUpperCase().indexOf(o.toLocaleUpperCase())},e.filters.number=function(t,o){return o===e.attributes.blanksTexte.blankValues.includes(null==ttString(t).trim())!ot===o},[formatters,filters,sorters].forEach(e.initProp),e.applyComponentStyle(!1,e.intf),e.reloadStoredValues(),e.args.data&&(e.intf.data=e.args.data),(e.intf.innerTexte.intf.textContent)&&(applicationx-canvas-datagrid===e.intf.dataType&&(e.intf.dataType=applicationjson+x-canvas-datagrid),e.intf.data=e.intf.innerTexte.intf.textContent),e.args.schema&&(e.intf.schema=e.args.schema),e.isChildGrid!e.isComponentrequestAnimationFrame((function(){e.resize(!0)}))e.resize(!0),e.initialized=!0,e}function o(t){-1===e.styleKeys.indexOf(t)&&e.styleKeys.push(t)}},e.intf.blur=function(t){e.hasFocus=!1},e.intf.focus=function(){e.hasFocus=!0,e.controlInput.focus()},(e.shadowRoote.isChildGrid)&&(Object.defineProperty(e.intf,height,{getfunction(){return e.shadowRoote.shadowRoot.heighte.parentNode.height},setfunction(t){e.shadowRoote.shadowRoot.height=te.parentNode.height=t,e.resize(!0)}}),Object.defineProperty(e.intf,width,{getfunction(){return e.shadowRoote.shadowRoot.widthe.parentNode.width},setfunction(t){e.shadowRoote.shadowRoot.width=te.parentNode.width=t,e.resize(!0)}}),Object.defineProperty(e.intf,parentNode,{getfunction(){return e.parentNode},setfunction(t){if(!e.isChildGrid)throw new TypeError(Cannot set property parentNode which has only a getter);e.parentNode=t}})),Object.defineProperty(e.intf,visibleRowHeights,{getfunction(){return e.visibleRowHeights}}),Object.defineProperty(e.intf,openChildren,{getfunction(){return e.openChildren}}),Object.defineProperty(e.intf,childGrids,{getfunction(){return Object.keys(e.childGrids).map((function(t){return e.childGrids[t]}))}}),Object.defineProperty(e.intf,isChildGrid,{getfunction(){return e.isChildGrid}}),Object.defineProperty(e,cursor,{getfunction(){return e.parentNodeStyle.cursor},setfunction(t){cell===t&&(t=default),e.currentCursor!==t&&(e.parentNodeStyle.cursor=t,e.currentCursor=t)}}),Object.defineProperty(e.intf,orderDirection,{getfunction(){return e.orderDirection},setfunction(t){desc!==t&&(t=asc),e.orderDirection=t,e.order(e.orderBy,e.orderDirection)}}),Object.defineProperty(e.intf,orderBy,{getfunction(){return e.orderBy},setfunction(t){if(void 0===e.getSchema().find((function(e){return e.name===t})))throw new Error(Cannot sort by unknown column name.);e.orderBy=t,e.order(e.orderBy,e.orderDirection)}}),e.isComponent&&(Object.defineProperty(e.intf,offsetHeight,{getfunction(){return e.canvas.offsetHeight}}),Object.defineProperty(e.intf,offsetWidth,{getfunction(){return e.canvas.offsetWidth}})),Object.defineProperty(e.intf,scrollHeight,{getfunction(){return e.scrollBox.scrollHeight}}),Object.defineProperty(e.intf,scrollWidth,{getfunction(){return e.scrollBox.scrollWidth}}),Object.defineProperty(e.intf,scrollTop,{getfunction(){return e.scrollBox.scrollTop},setfunction(t){e.scrollBox.scrollTop=t}}),Object.defineProperty(e.intf,scrollLeft,{getfunction(){return e.scrollBox.scrollLeft},setfunction(t){e.scrollBox.scrollLeft=t}}),Object.defineProperty(e.intf,sizes,{getfunction(){return e.sizes}}),Object.defineProperty(e.intf,parentDOMNode,{getfunction(){return e.parentDOMNode}}),Object.defineProperty(e.intf,input,{getfunction(){return e.input}}),Object.defineProperty(e.intf,controlInput,{getfunction(){return e.controlInput}}),Object.defineProperty(e.intf,currentCell,{getfunction(){return e.currentCell}}),Object.defineProperty(e.intf,visibleCells,{getfunction(){return e.visibleCells}}),Object.defineProperty(e.intf,visibleRows,{getfunction(){return e.visibleRows}}),Object.defineProperty(e.intf,selections,{getfunction(){return e.selections}}),Object.defineProperty(e.intf,dragMode,{getfunction(){return e.dragMode}}),Object.defineProperty(e.intf,changes,{getfunction(){return e.changes}}),e.intf.formatters=e.formatters,Object.defineProperty(e.intf,dataType,{getfunction(){return e.dataType},setfunction(t){if(!e.parsers[t])throw new Error(No parser for MIME type +t);e.dataType=t}}),e.eventNames.forEach((function(t){Object.defineProperty(e.intf,on+t,{getfunction(){return e.componentL1Events[t]},setfunction(o){e.events[t]=[],e.componentL1Events[t]=o,o&&e.addEventListener(t,o)}})})),Object.defineProperty(e.intf,frozenRow,{getfunction(){return e.frozenRow},setfunction(t){if(isNaN(t))throw new TypeError(Expected value for frozenRow to be a number.);if(e.visibleRows.lengtht)throw new RangeError(Cannot set a value larger than the number of visible rows.);e.frozenRow=t}}),Object.defineProperty(e.intf,frozenColumn,{getfunction(){return e.frozenColumn},setfunction(t){if(isNaN(t))throw new TypeError(Expected value for frozenRow to be a number.);if(e.getVisibleSchema().lengtht)throw new RangeError(Cannot set a value larger than the number of visible columns.);e.frozenColumn=t}}),Object.defineProperty(e.intf,scrollIndexRect,{getfunction(){return{tope.scrollIndexTop,righte.scrollIndexRight,bottome.scrollIndexBottom,lefte.scrollIndexLeft}}}),Object.defineProperty(e.intf,scrollPixelRect,{getfunction(){return{tope.scrollPixelTop,righte.scrollPixelRight,bottome.scrollPixelBottom,lefte.scrollPixelLeft}}}),Object.defineProperty(e.intf,rowOrder,{getfunction(){return e.orders.rows},setfunction(t){if(!Array.isArray(t))throw new TypeError(Value must be an array.);if(!e.originalDatat.lengthe.originalData.length)throw new RangeError(Array length must be equal to or greater than number of rows.);e.orders.rows=t}}),Object.defineProperty(e.intf,columnOrder,{getfunction(){return e.orders.columns},setfunction(t){if(!Array.isArray(t))throw new TypeError(Value must be an array.);if(t.lengthe.getSchema().length)throw new RangeError(Array length must be equal to or greater than number of columns.);e.orders.columns=t}}),Object.defineProperty(e.intf,selectionBounds,{getfunction(){return e.getSelectionBounds()}}),Object.defineProperty(e.intf,selectedRows,{getfunction(){return e.getSelectedData(!0)}}),Object.defineProperty(e.intf,selectedCells,{getfunction(){return e.getSelectedData()}}),Object.defineProperty(e.intf,visibleSchema,{getfunction(){return e.getVisibleSchema().map((function(e){return e}))}}),Object.defineProperty(e.intf,treeGridAttributes,{getfunction(){return e.treeGridAttributes},setfunction(t){e.treeGridAttributes=t}}),Object.defineProperty(e.intf,cellGridAttributes,{getfunction(){return e.cellGridAttributes},setfunction(t){e.cellGridAttributes=t}}),Object.defineProperty(e.intf,fillCellCallback,{getfunction(){return e.fillCellCallback},setfunction(t){e.fillCellCallback=t}}),Object.defineProperty(e.intf,ctx,{getfunction(){return e.ctx}}),Object.defineProperty(e.intf,schema,{getfunction(){return e.getSchema()},setfunction(t){if(void 0===t)return e.schema=void 0,e.tempSchema=void 0,void e.dispatchEvent(schemachanged,{schemavoid 0});if(!Array.isArray(t)object!==l(t[0]))throw new Error(Schema must be an array of objects.);if(void 0===t[0].name)throw new Error(Expected schema to contain an object with at least a name property.);e.schema=t.map((function(t,o){return t.width=t.widthe.style.cellWidth,t.filter=t.filtere.filter(t.type),t.type=t.typestring,t.index=o,t.columnIndex=o,t.rowIndex=-1,t})),e.tempSchema=void 0,e.createNewRowData(),e.createColumnOrders(),e.tryLoadStoredSettings(),e.storedSettings&&object===l(e.storedSettings.visibility)&&e.schema.forEach((function(t,o){e.storedSettings&&void 0!==e.storedSettings.visibility[t.name]&&(t.hidden=!e.storedSettings.visibility[t.name])})),e.resize(!0),e.dispatchEvent(schemachanged,{schemae.schema})}}),e.intf.getTypes=function(){return Object.keys(e.parsers)},e.parseInnerHtml=function(e){if(!e^ +$.test(e))return[];try{e=JSON.parse(e)}catch(e){console.warn(Error(Cannot parse applicationjson+x-canvas-datagrid formated data. +e.message+  nNote canvas-datagrid.innerHTML is for string data only.  Use the canvas-datagrid.data property to set object data.))}return e},e.parsers[applicationjson+x-canvas-datagrid]=function(t,o){e.parsers[applicationx-canvas-datagrid](e.parseInnerHtml(t),(function(e,t){return o(e,t)}))},e.parsers[applicationx-canvas-datagrid]=function(e,t){return t(e)},e.intf.parsers=e.parsers,e.etl=function(t,o){if(!e.intf.parsers[e.dataType])throw new Error(Unsupported data type.);e.intf.parsers[e.dataType](t,(function(t,r){e.originalData=t,e.viewData=Array.from(e.originalData),Array.isArray(r)&&(e.schema=r),e.attributes.autoGenerateSchema&&(e.schema=e.getSchemaFromData(t)),e.schema(e.tempSchema=e.getSchemaFromData(t)),e.getSchema()&&e.createColumnOrders(),e.refresh(),e.schema0!==(e.originalData[]).length(e.tempSchema=[{name}]),e.fitColumnToValues(cornerCell,!0),(e.tempSchema&&!e.schemae.attributes.autoGenerateSchema)&&(e.createColumnOrders(),e.dispatchEvent(schemachanged,{schemae.tempSchema})),o()}))},Object.defineProperty(e.intf,viewData,{getfunction(){return e.viewData}}),Object.defineProperty(e.intf,boundData,{getfunction(){return e.originalData}}),Object.defineProperty(e.intf,data,{getfunction(){return e.originalData},setfunction(t){e.etl(t,(function(){e.changes=[],e.createNewRowData(),e.attributes.autoResizeColumns&&e.originalData.length0&&void 0===e.storedSettings&&e.autosize(),e.fitColumnToValues(cornerCell,!0),e.createRowOrders(),e.tryLoadStoredSettings(),e.dispatchEvent(datachanged,{datae.originalData}),e.initCellTreeSettings(),e.resize(!0)}))}}),e.initScrollBox=function(){var t=0,o=0,r=0,n=0,l=0,i=0,a=20,s=20;function c(t,o){if(isNaN(t))throw new Error(ScrollTop value must be a number);t0&&(t=0),tl&&(t=l),l0&&(t=0),r=t,oe.scroll(),e.button&&e.moveButtonPos()}function d(t,o){if(isNaN(t))throw new Error(ScrollLeft value must be a number);t0&&(t=0),ti&&(t=i),i0&&(t=0),n=t,oe.scroll(),e.button&&e.moveButtonPos()}e.scrollBox.toString=function(){return'{width '+i.toFixed(2)+', height '+l.toFixed(2)+', left '+n.toFixed(2)+', top '+r.toFixed(2)+', widthRatio '+e.scrollBox.widthBoxRatio.toFixed(5)+', heightRatio '+e.scrollBox.heightBoxRatio.toFixed(5)+}},e.scrollBox.scrollTo=function(e,t,o){d(e,!0),c(t,o)},Object.defineProperty(e.scrollBox,scrollBoxHeight,{getfunction(){return a},setfunction(e){a=e}}),Object.defineProperty(e.scrollBox,scrollBoxWidth,{getfunction(){return s},setfunction(e){s=e}}),Object.defineProperty(e.scrollBox,height,{getfunction(){return t},setfunction(e){t=e}}),Object.defineProperty(e.scrollBox,width,{getfunction(){return o},setfunction(e){o=e}}),Object.defineProperty(e.scrollBox,scrollTop,{getfunction(){return r},setc}),Object.defineProperty(e.scrollBox,scrollLeft,{getfunction(){return n},setd}),Object.defineProperty(e.scrollBox,scrollHeight,{getfunction(){return l},setfunction(e){re&&(r=Math.max(e,0)),l=e}}),Object.defineProperty(e.scrollBox,scrollWidth,{getfunction(){return i},setfunction(e){ne&&(n=Math.max(e,0)),i=e}})}}},931function(__unused_webpack_module,__webpack_exports__,__webpack_require__){use strict;__webpack_require__.d(__webpack_exports__,{defaultfunction(){return canvasDatagrid}});var _component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195),_defaults__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(857),_draw__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(305),_events__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(255),_touch__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(79),_intf__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(944),_contextMenu__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(485),_button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(392),_dom__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(251),_publicMethods__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(995);function _typeof(e){return(_typeof=function==typeof Symbol&&symbol==typeof Symbol.iteratorfunction(e){return typeof e}function(e){return e&&function==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototypesymboltypeof e})(e)}var webComponent=(0,_component__WEBPACK_IMPORTED_MODULE_0__.Z)(),modules=[_defaults__WEBPACK_IMPORTED_MODULE_4__.Z,_draw__WEBPACK_IMPORTED_MODULE_5__.Z,_events__WEBPACK_IMPORTED_MODULE_1__.Z,_touch__WEBPACK_IMPORTED_MODULE_6__.Z,_intf__WEBPACK_IMPORTED_MODULE_2__.Z,_contextMenu__WEBPACK_IMPORTED_MODULE_7__.Z,_button__WEBPACK_IMPORTED_MODULE_8__.Z,_dom__WEBPACK_IMPORTED_MODULE_9__.Z,_publicMethods__WEBPACK_IMPORTED_MODULE_3__.Z];function Grid(args){args=args{};var self={};return self.isComponent=void 0===args.component,self.isChildGrid=args.parentNode&&canvas-datagrid-(celltree).test(args.parentNode.nodeType),self.isChildGridself.intf={}self.intf=self.isComponenteval(Reflect.construct(HTMLElement, [], new.target))document.createElement(canvas),self.args=args,self.intf.args=args,self.applyComponentStyle=webComponent.applyComponentStyle,self.hyphenateProperty=webComponent.hyphenateProperty,self.dehyphenateProperty=webComponent.dehyphenateProperty,self.createGrid=function(e){return e.component=!1,new Grid(e)},modules.forEach((function(e){e(self)})),self.isChildGrid(self.shadowRoot=args.parentNode.shadowRoot,self.parentNode=args.parentNode)(self.shadowRoot=self.intf.attachShadow({modeopen}),self.parentNode=self.shadowRoot),self.init(),self.intf}function canvasDatagrid(e){e=e{};var t,o=[style,formatters,sorters,filters,treeGridAttributes,cellGridAttributes,fillCellCallback,data,schema];return window.customElements(t=document.createElement(canvas-datagrid),Object.keys(e).forEach((function(r){data!==r&&parentNode!==r&&(-1===o.indexOf(r)t.attributes[r]=e[r]o.forEach((function(o){void 0!==e[o]&&o===r&&(-1!==[formatters,sorters,filters].indexOf(r)object===_typeof(e[o])&&null!==e[o]&&Object.keys(e[o]).forEach((function(r){t[o][r]=e[o][r]}))t[o]=e[o])})))})),e.data&&(t.data=e.data),e.parentNode&&e.parentNode.appendChild(t),t)(e.component=!1,t=new Grid(e),e.parentNode&&e.parentNode.appendChild&&e.parentNode.appendChild(t),t)}window.HTMLElement&&(Grid.prototype=Object.create(window.HTMLElement.prototype)),window.customElements&&(Grid.observedAttributes=webComponent.getObservableAttributes(),Grid.prototype.disconnectedCallback=webComponent.disconnectedCallback,Grid.prototype.attributeChangedCallback=webComponent.attributeChangedCallback,Grid.prototype.connectedCallback=webComponent.connectedCallback,Grid.prototype.adoptedCallback=webComponent.adoptedCallback,window.customElements.define(canvas-datagrid,Grid)),!windowwindow.canvasDatagridwindow.requirewindow.EXCLUDE_GLOBAL(window.canvasDatagrid=function(e){return new Grid(e)})},995function(e,t,o){use strict;function r(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}function n(e,t){var o;if(undefined==typeof Symbolnull==e[Symbol.iterator]){if(Array.isArray(e)(o=function(e,t){if(e){if(string==typeof e)return l(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)l(e,t)void 0}}(e))t&&e&&number==typeof e.length){o&&(e=o);var r=0,n=function(){};return{sn,nfunction(){return r=e.length{done!0}{done!1,valuee[r++]}},efunction(e){throw e},fn}}throw new TypeError(Invalid attempt to iterate non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}var i,a=!0,s=!1;return{sfunction(){o=e[Symbol.iterator]()},nfunction(){var e=o.next();return a=e.done,e},efunction(e){s=!0,i=e},ffunction(){try{anull==o.returno.return()}finally{if(s)throw i}}}}function l(e,t){(null==tte.length)&&(t=e.length);for(var o=0,r=new Array(t);ot;o++)r[o]=e[o];return r}function i(e){function t(t,o,r){for(var n=!1,l=rows===te.groupedRowse.groupedColumns,i=l.length-1;i=0;i--){var a=l[i],s=a[0].from,c=a[a.length-1].to;if(o=s&&r=c){if(o===s&&r===c&&1===a.length)return}else{for(var d=0;da.length;d++){var u=a[d];if(!(ou.to)){if(o=u.from){if(ru.to){if(o===u.from)return l.splice(i,0,[{fromo,tor,collapsed!1}]),void e.refresh();throw new Error(Can't group these .concat(t))}if(r===u.to&&o===u.from)return;n=!0;break}if(r=u.from){if(ru.to)throw new Error(Can't group these .concat(t));l.splice(i,0,[{fromo,tor,collapsed!1}])}else a.splice(d,0,{fromo,tor,collapsed!1});return void e.refresh()}}if(!n)return a.push({fromo,tor,collapsed!1}),void e.refresh()}}nl.push([{fromo,tor,collapsed!1}])l.unshift([{fromo,tor,collapsed!1}]),e.refresh()}function o(t,o,r){for(var n=0;nt.length;n++)for(var l=t[n],i=0;il.length;i++){var a=l[i];if(a.from===o&&a.to===r)return l.length=1t.splice(n,1)l.splice(i,1),void e.refresh()}}e.integerToAlpha=function(e){for(var t=a.charCodeAt(0),o=z.charCodeAt(0)-t+1,r=;e=0;)r=String.fromCharCode(e%o+t)+r,e=Math.floor(eo)-1;return r},e.insertColumn=function(t,o){var r=e.getSchema();if(r.lengtho)throw new Error(Index is beyond the length of the schema.);e.validateColumn(t,r),r.splice(o,0,t),e.originalData.forEach((function(o,r){e.applyDefaultValue(o,t,r)})),e.intf.schema=r,e.refresh()},e.deleteColumn=function(t){var o=e.getSchema();e.originalData.forEach((function(e){delete e[o[t].name]})),o.splice(t,1),e.intf.schema=o,e.refresh()},e.addColumn=function(t){var o=e.getSchema();e.validateColumn(t,o),o.push(t),e.originalData.forEach((function(o,r){e.applyDefaultValue(o,t,r)})),e.intf.schema=o,e.refresh()},e.deleteRow=function(t){e.originalData.splice(t,1),e.setFilter(),e.resize(!0)},e.insertRow=function(t,o){if(e.originalData.lengtho)throw new Error(Index is beyond the length of the dataset.);e.originalData.splice(o,0,t),e.getSchema().forEach((function(r){void 0===t[r.name]&&e.applyDefaultValue(e.originalData[o],r,o)})),e.setFilter(),e.resize(!0)},e.addRow=function(t){e.originalData.push(t),e.getSchema().forEach((function(o){void 0===t[o.name]&&e.applyDefaultValue(e.originalData[e.originalData.length-1],o,e.originalData.length-1)})),e.setFilter(),e.resize(!0)},e.setRowHeight=function(t,o){e.sizes.rows[t]=o,e.draw(!0)},e.setColumnWidth=function(t,o){e.sizes.columns[t]=o,e.draw(!0)},e.resetColumnWidths=function(){e.sizes.columns={},e.draw(!0)},e.resetRowHeights=function(){e.sizes.rows={},e.draw(!0)},e.setFilter=function(t,o){void 0===t&&void 0===oe.columnFilters={}!t!==o&&void 0!==o(e.columnFilters[t]=o,e.attributes.showFilterInCell&&(e.filterable.rows.push(0),e.orders.columns.forEach((function(t,o){e.filterable.columns.push(o)}))))delete e.columnFilters[t],Object.keys(e.columnFilters).length(e.filterable={rows[],columns[]}),e.refresh()},e.findRowScrollTop=function(t){if(void 0===e.scrollCache.y[t])throw new RangeError(Row index .concat(t, out of range ).concat(e.scrollCache.y.length,.));return e.scrollCache.y[t]},e.findColumnScrollLeft=function(t){var o=Math.max(t-1,0);if(void 0===e.scrollCache.x[o])throw new Error(Column index out of range.);return e.scrollCache.x[o]-e.getColumnWidth(e.orders.columns[t])},e.gotoCell=function(t,o,r,n){var l,i=void 0===tvoid 0e.findColumnScrollLeft(t),a=void 0===ovoid 0e.findRowScrollTop(o),s=e.scrollBox.width-(e.scrollBox.verticalBarVisiblee.style.scrollBarWidth0),c=e.scrollBox.height-(e.scrollBox.horizontalBarVisiblee.style.scrollBarWidth0);i-=s(r=void 0===r0r),a-=c(n=void 0===n0n),void 0!==t&&void 0!==o(e.scrollBox.scrollTo(i,a),requestAnimationFrame((function(){(l=e.getVisibleCellByIndex(t,o))&&(i+=l.widthr,a+=l.heightn,e.scrollBox.scrollTo(i,a))})))void 0!==te.scrollBox.scrollLeft=ivoid 0!==o&&(e.scrollBox.scrollTop=a)},e.gotoRow=function(t){e.gotoCell(0,t)},e.addButton=function(t,o,r,n,l){var i=e.visibleCells.filter((function(e){return e.sortColumnIndex===t&&e.sortRowIndex===o}));e.attachButton({topi[0].y+i[0].height+r.y,lefti[0].x+i[0].width+r.x},n,l)},e.toggleCellCollapseTree=function(t){for(var o in t){var r,l=n(t[o]);try{for(l.s();!(r=l.n()).done;){var i=r.value;i.length0&&e.toggleCollapseTree(i[0],i[1],o)}}catch(e){l.e(e)}finally{l.f()}}e.draw()},e.expandCollapseCellTree=function(t){for(var o in t){var r,l=n(t[o]);try{for(l.s();!(r=l.n()).done;){var i=r.value;i.length0&&e.cellTreeExpandCollapse(i[0],i[1],o)}}catch(e){l.e(e)}finally{l.f()}}e.draw()},e.scrollIntoView=function(t,o,r,n){var l=e.visibleCells.filter((function(r){return(r.rowIndex===ovoid 0===o)&&(r.columnIndex===tvoid 0===t)&&r.x0&&r.y0&&r.x+r.widthe.width&&r.y+r.heighte.height}));1===l.length&&void 0!==t&&void 0!==o&&(l[0].xe.getRowHeaderCellWidth()l[0].ye.getColumnHeaderCellHeight())&&(l.length=0),0===l.length&&e.gotoCell(t,o,r,n)},e.setActiveCell=function(t,o){void 0!==t&&(t0&&(t=0),o0&&(o=0),e.activeCell={rowIndexo,columnIndext})},e.selectNone=function(t){e.selections=[],e.selectedRows=[],e.selectedColumns=[],e.dispatchEvent(selectionchanged,{selectedDatae.getSelectedData(),selectionse.selections,selectionBoundse.selectionBounds,selectedCellse.getSelectedCells()}),te.draw()},e.selectAll=function(t){e.selectArea({top0,left-1,righte.getSchema().length-1,bottome.viewData.length-1}),te.draw()},e.isColumnSelected=function(t){var o=!0;return e.viewData.forEach((function(r,n){e.selections[n]&&-1!==e.selections[n].indexOf(t)(o=!1)})),o},e.isRowSelected=function(t){if(!e.selections[t])return!1;var o=!0;return e.getVisibleSchema().forEach((function(r,n){e.selections[t]&&-1!==e.selections[t].indexOf(n)(o=!1)})),o},e.forEachSelectedCell=function(t,o){var r=[],n=oe.getSchema()e.getVisibleSchema(),l=e.viewData.length;e.selections.forEach((function(o,i){i!==l&&(0!==o.length(r[i]={},o.forEach((function(o){-1!==o&&n[o]&&t(e.viewData,i,n[o].name)})))r[i]=null)}))},e.selectColumn=function(t,o,r,n){var l,i,a,s;function c(t){e.viewData.forEach((function(o,r){e.selections[r]=e.selections[r][],-1===e.selections[r].indexOf(t)&&e.selections[r].push(t)}))}if(e.isMultiRowsSelected=!1,e.isMultiColumnsSelected=!1,r){if(!e.activeCell)return;for(l=Math.min(e.activeCell.columnIndex,t),i=Math.max(e.activeCell.columnIndex,t),a=l;ia;a+=1)c(a),-1===e.selectedColumns.indexOf(a)&&e.selectedColumns.push(a);l!=i&&(e.isMultiColumnsSelected=!0)}or(e.selections=[],e.selectedColumns=[],e.activeCell.columnIndex=t,e.activeCell.rowIndex=e.scrollIndexTop),o&&e.isColumnSelected(t)(s=t,e.viewData.forEach((function(t,o){e.selections[o]=e.selections[o][],-1!==e.selections[o].indexOf(s)&&e.selections[o].splice(e.selections[o].indexOf(s),1)})),e.selectedColumns.splice(t,1))(c(t),e.selectedColumns.push(t)),ne.dispatchEvent(selectionchanged,{selectedDatae.getSelectedData(),selectionse.selections,selectionBoundse.getSelectionBounds(),selectedCellse.getSelectedCells()})},e.selectRow=function(t,o,r,n){var l,i,a,s=e.getVisibleSchema();function c(){ne.dispatchEvent(selectionchanged,{selectedDatae.getSelectedData(),selectionse.selections,selectionBoundse.selectionBounds,selectedCellse.getSelectedCells()})}function d(t){e.selections[t]=[],e.selections[t].push(-1),s.forEach((function(o,r){e.selections[t].push(e.orders.columns.indexOf(o.index)),-1!==o.index&&-1===e.selectedColumns.indexOf(e.orders.columns.indexOf(o.index))&&e.selectedColumns.push(e.orders.columns.indexOf(o.index))}))}if(e.isMultiRowsSelected=!1,(!1===e.dragAddToSelectionvoid 0===e.dragObject)&&e.selections[t]&&e.selections[t].length-1===s.length&&o)return e.selections[t]=[],void c();if(!0===e.dragAddToSelectionvoid 0===e.dragObject)if(r&&void 0===e.dragObject){if(!e.activeCell)return;for(i=Math.min(e.activeCell.rowIndex,t),a=Math.max(e.activeCell.rowIndex,t),l=i;a=l;l+=1)d(l),e.selectedRows.push(l)}else d(t),e.selectedRows=[],e.selectedRows.push(t);c()},e.collapseTree=function(t){e.dispatchEvent(collapsetree,{childGride.childGrids[t],datae.viewData[t],rowIndext}),e.openChildren[t].blur(),e.openChildren[t].dispose(),delete e.openChildren[t],delete e.sizes.trees[t],delete e.childGrids[t],e.dispatchEvent(resizerow,{cellHeighte.style.cellHeight}),e.resize(!0),e.draw(!0)},e.expandTree=function(t){var o,r=e.args.treeGridAttributes{},n=e.getColumnHeaderCellHeight(),l=e.sizes.columns.cornerCelle.style.rowHeaderCellWidth,i=e.sizes.trees[t]e.style.treeGridHeight;e.childGrids[t](r.debug=e.attributes.debug,r.name=e.attributes.saveAppearancee.attributes.name+tree+tvoid 0,r.style=r.stylee.style,r.parentNode={parentGride.intf,nodeTypecanvas-datagrid-tree,offsetHeighti,offsetWidthe.width-l,header{widthe.width-l},offsetLeftl,offsetTopn,offsetParente.intf.parentNode,parentNodee.intf.parentNode,styletree,datae.viewData[t]},o=e.createGrid(r),e.childGrids[t]=o),(o=e.childGrids[t]).visible=!0,e.dispatchEvent(expandtree,{treeGrido,datae.viewData[t],rowIndext}),e.openChildren[t]=o,e.sizes.trees[t]=i,e.dispatchEvent(resizerow,{heighte.style.cellHeight}),e.resize(!0)},e.toggleTree=function(t){if(e.openChildren[t])return e.collapseTree(t);e.expandTree(t)},e.getHeaderByName=function(t){var o,r=e.getSchema();for(o=0;or.length;o+=1)if(r[o].name===t)return r[o]},e.hideColumns=function(t,o){var r=e.getSchema(),n=e.orders.columns,l=[];number!=typeof o&&(o=t);for(var i=t;i=o;i++){var a=n[i];a=0&&!r[a].hidden&&(l.push(a),r[a].hidden=!0,e.dispatchEvent(columnhide,{columnIndexa}))}l.length0&&(e.setStorageData(),setTimeout((function(){e.resize(!0)}),10)),e.dispatchEvent(hidecolumns,{hiddenColumnsl})},e.unhideColumns=function(t,o){for(var r=e.orders.columns,n=e.getSchema(),l=t;l=o;l++){var i=r[l],a=n[i];a&&a.hidden&&(a.hidden=!1,e.dispatchEvent(columnunhide,{columnIndexi}))}e.refresh()},e.hideRows=function(t,o){(function(e,t){var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)function(e,t){if(undefined!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],r=!0,n=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(o.push(i.value),!to.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{rnull==a.returna.return()}finally{if(n)throw l}}return o}}(e,t)function(e,t){if(e){if(string==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);returnObject===o&&e.constructor&&(o=e.constructor.name),Map===oSet===oArray.from(e)Arguments===o^(UiI)nt(81632)(Clamped)Array$.test(o)r(e,t)void 0}}(e,t)function(){throw new TypeError(Invalid attempt to destructure non-iterable instance.nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.)}()}(t,2),n=o[0],l=o[1];if(ln)return!1;for(var i=!1,a=0;ae.length;a++){var s=e[a];if(!(ns[1]+1)){if(n=s[0]&&l=s[0]){e[a]=[n,Math.max(l,s[1])],i=!0;break}if(n=s[0]){e[a]=[s[0],Math.max(l,s[1])],i=!0;break}}}ie.push([n,l]),e.sort((function(e,t){return e[0]-t[0]}));for(var c=0;ce.length-1;c++){var d=e[c],u=e[c+1];u[0]=d[1]+1&&(e[c]=[d[0],Math.max(d[1],u[1])],e.splice(c+1,1),c--)}return!0})(e.hiddenRowRanges,[t,o])&&e.refresh()},e.unhideRows=function(t,o){e.hiddenRowRanges=e.hiddenRowRanges.filter((function(e){return e[0]!==te[1]!==o})),e.refresh()},e.fitColumnToValues=function(t,o){if(e.canvas){var r=cornerCell===t-1e.getHeaderByName(t).index,n=Math.max(e.findColumnMaxTextLength(t),e.style.minColumnWidth);e.sizes.columns[r]=n,e.dispatchEvent(resizecolumn,{xn,ye.resizingStartingHeight,draggingIteme.currentCell}),o(e.resize(),e.draw(!0))}},e.isCellVisible=function(t,o){if(void 0!==o)return e.visibleCells.filter((function(e){return e.columnIndex===t&&e.rowIndex===o})).length0;var r,n=e.visibleCells.length;for(r=0;rn;r+=1)if(t.x===e.visibleCells[r].x&&t.y===e.visibleCells[r].y)return!0;return!1},e.order=function(t,o,r,n){var l,i=e.getSchema().filter((function(e){return e.name===t}));if(!e.dispatchEvent(beforesortcolumn,{namet,directiono})&&(e.orderBy=t,e.orderDirection=o,e.viewData&&0!==e.viewData.length)){if(0===i.length)throw new Error(Cannot sort.  No such column name);(l=ri[0].sortere.sorters[i[0].type])void 0===i[0].typeconsole.warn('Cannot sort type %s falling back to string sort.',i[0].type),e.orderings.add(t,o,function==typeof lle.sorters.string),e.refresh(),e.dispatchEvent(sortcolumn,{namet,directiono}),ne.setStorageData()}},e.groupColumns=function(o,r){for(var n,l,i=e.getSchema(),a=0;ai.length;a++){var s=i[a];if(n&&l)break;s.name!==os.name!==r(l=s)n=s}if(!n)throw new Error(No such column name for first column);if(!l)throw new Error(No such column name for last column);if(l.columnIndexn.columnIndex!=1)throw new Error(Can't group these columns);var c=n.columnIndex,d=l.columnIndex,u={group{typecolumns,fromc,tod}};try{t(columns,c,d)}catch(e){u.error=e}e.dispatchEvent(aftercreategroup,u)},e.groupRows=function(o,r){if(!Number.isInteger(o)o0)throw new Error(No such row for the beginning of the group);var n=e.viewData.length;if(!Number.isInteger(o)r=or=n)throw new Error(No such row for the end of the group);var l={group{typerows,fromo,tor}};try{t(rows,o,r)}catch(e){l.error=e}e.dispatchEvent(aftercreategroup,l)},e.removeGroupColumns=function(t,r){for(var n,l,i=e.getSchema(),a=0;ai.length;a++){var s=i[a];if(n&&l)break;s.name!==ts.name!==r(l=s)n=s}if(!n)throw new Error(No such column name for first column);if(!l)throw new Error(No such column name for last column);var c=n.columnIndex,d=l.columnIndex;o(e.groupedColumns,c,d)},e.removeGroupRows=function(t,r){o(e.groupedRows,t,r)},e.toggleGroupColumns=function(t,o){for(var r,n,l=e.getSchema(),i=0;il.length;i++){var a=l[i];if(r&&n)break;a.name!==ta.name!==o(n=a)r=a}if(r&&n){var s=r.columnIndex,c=n.columnIndex;e.toggleGroup({typec,froms,toc})&&(e.disposeContextMenu(),e.setStorageData(),e.refresh())}},e.toggleGroupRows=function(t,o){e.toggleGroup({typer,fromt,too})&&(e.disposeContextMenu(),e.setStorageData(),e.refresh())},e.isInGrid=function(t){return!(t.x0t.xe.widtht.y0t.ye.height)},e.moveSelection=function(t,o){var r=[];e.selectedRows=[],e.selectedColumns=[],e.selections.forEach((function(n,l){r[l+o]=[],e.selectedRows.push(l+o),n.forEach((function(n){r[l+o].push(n+t),-1===e.selectedColumns.indexOf(n+t)&&e.selectedColumns.push(n+t)}))})),e.selections=r},e.deleteSelectedData=function(t){var o=e.clearSelectedCells();e.dispatchEvent(afterdelete,{cellso}),trequestAnimationFrame((function(){return e.draw()}))},e.moveTo=function(t,o,r){var n,l=e.getSelectedData(),i=e.getVisibleSchema(),a=t.length,s=-10,c=10,d=r-1;t.forEach((function(t,r){r!==a&&0!==t.length&&(c=Math.min(e.getVisibleColumnIndexOf(o),c),s=Math.max(s,t.length),t.forEach((function(t){t=e.getVisibleColumnIndexOf(t),i[t]&&(e.data(e.data={}),e.data[r](e.data[r]={}),e.data[r][i[t].name]=null)})))})),t.forEach((function(t,r){var a;d+=1,n=e.getVisibleColumnIndexOf(o),t.forEach((function(t,o){t=e.getVisibleColumnIndexOf(t),o0&&(n+=t-a),a=t,-1===t!i[n]!i[t]e.data.length-1dd0(e.data[d](e.data[d]={}),e.data[d][i[n].name]=l[r][i[t].name])}))}))},e.getGroupsColumnBelongsTo=function(t){if(!e.attributes.allowGroupingColumns)return[];for(var o=[],r=0;re.groupedColumns.length;r++)for(var n=e.groupedColumns[r],l=0;ln.length;l++){var i=n[l];if(t=i.from&&t=i.to){o.push(i);break}}return o},e.getGroupsRowBelongsTo=function(t){if(!e.attributes.allowGroupingRows)return[];for(var o=[],r=0;re.groupedRows.length;r++)for(var n=e.groupedRows[r],l=0;ln.length;l++){var i=n[l];if(t=i.from&&t=i.to){o.push(i);break}}return o},e.isColumnVisible=function(t){return e.visibleCells.filter((function(e){return e.columnIndex===t})).length0},e.isRowVisible=function(t){return e.visibleCells.filter((function(e){return e.rowIndex===t})).length0},e.getVisibleCellByIndex=function(t,o){return e.visibleCells.filter((function(e){return e.columnIndex===t&&e.rowIndex===o}))[0]},e.getUnhideIndicator=function(t,o){var r=e.visibleUnhideIndicators;if(!(r.length=0))for(var n=0;nr.length;n++){var l=r[n];if(t=l.x&&o=l.y&&t=l.x2&&o=l.y2)return l}},e.getColumnGroupAt=function(t,o){if(!(e.groupedColumns.length=0o=e.getColumnGroupAreaHeight()))for(var r=0;re.visibleGroups.length;r++){var n=e.visibleGroups[r];if(c===n.type&&t=n.x&&o=n.y&&t=n.x2&&o=n.y2)return n}},e.getRowGroupAt=function(t,o){if(!(e.groupedRows.length=0t=e.getRowGroupAreaWidth()))for(var r=0;re.visibleGroups.length;r++){var n=e.visibleGroups[r];if(r===n.type&&t=n.x&&o=n.y&&t=n.x2&&o=n.y2)return n}},e.getCellAt=function(t,o,r){function n(r){return r.x+r.width-.4e.attributes.borderResizeZonet&&r.x+r.width+.6e.attributes.borderResizeZonetrr.x-.4e.attributes.borderResizeZonet&&r.x+.6e.attributes.borderResizeZonetlr.y+r.height-.4e.attributes.borderResizeZoneo&&r.y+r.height+.6e.attributes.borderResizeZoneobr.y-.4e.attributes.borderResizeZoneo&&r.y+.6e.attributes.borderResizeZoneotvoid 0}if(e.visibleCells){t-=e.getRowGroupAreaWidth(),o-=e.getColumnGroupAreaHeight(),void 0!==e.dragStartObject&&(t=0&&(t=1),t=e.width&&(t=e.width-1),o=0&&(o=1),o=e.height&&(o=e.height-1));var l,i,a,s,c,d=re.attributes.touchScrollZone0,u=move===e.attributes.borderDragBehavior,f=e.visibleCells.length,h=ue.cursorGrabew-resize,g=ue.cursorGrabns-resize;if(e.visibleCells&&e.visibleCells.length){if(e.hasFocus=!0,!(oe.height&&o0&&te.width&&t0))return e.hasFocus=!1,{dragContextinherit,contextinherit};for(i=0;if;i+=1)if(c={x(s=e.visibleCells[i]).x,ys.y,heights.height,widths.width},r&&(verticalhorizontal)-scroll-.test(s.style)&&(c.x-=d,c.y-=d,c.height+=d,c.width+=d),c.x-e.style.cellBorderWidtht&&c.x+c.width+e.style.cellBorderWidtht&&c.y-e.style.cellBorderWidtho&&c.y+c.height+e.style.cellBorderWidtho){if(frozen-row-marker.test(s.style)){if(frozen-column-marker===e.dragMode)continue;return s.dragContext=s.style,s.context=grab,s}if(frozen-column-marker.test(s.style)){if(frozen-row-marker===e.dragMode)continue;return s.dragContext=s.style,s.context=grab,s}if(selection-handle-.test(s.style))return s.dragContext=s.style,s.context=crosshair,s;if(vertical-scroll-(barbox).test(s.style))return s.dragContext=vertical-scroll-box,s.context=vertical-scroll-box,s.isScrollBar=!0,s.isVerticalScrollBar=!0,oe.scrollBox.box.v.y+e.scrollBox.scrollBoxHeight(s.dragContext=vertical-scroll-bottom,s.context=vertical-scroll-bottom)oe.scrollBox.box.v.y&&(s.dragContext=vertical-scroll-top,s.context=vertical-scroll-top),e.cursor=default,s;if(horizontal-scroll-(barbox).test(s.style))return s.dragContext=horizontal-scroll-box,s.context=horizontal-scroll-box,s.isScrollBar=!0,s.isHorizontalScrollBar=!0,te.scrollBox.box.h.x+e.scrollBox.scrollBoxWidth(s.dragContext=horizontal-scroll-right,s.context=horizontal-scroll-right)te.scrollBox.box.h.x&&(s.dragContext=horizontal-scroll-left,s.context=horizontal-scroll-left),e.cursor=default,s;if(l=n(c),a=u&&s.selectionBorder&&-1!==s.selectionBorder.indexOf(l),-1!==[l,r].indexOf(l)&&(e.attributes.allowColumnResizea)&&(e.attributes.allowColumnResizeFromCell&&s.isNormal!s.isNormala)&&(e.attributes.allowRowHeaderResize&&(s.isRowHeaders.isCorner)!s.isRowHeader!s.isCorner)){if((s.isColumnHeaders.isCornere.attributes.allowColumnResizeFromCell&&s.isNormal)&&r===l)return s.context=ew-resize,s.dragContext=ew-resize,s;if(!s.isColumnHeader&&!s.isCorner&&a)return s.context=h,s.dragContext=l+-move,s}if(-1!==[t,b].indexOf(l)&&s.rowIndex-1&&(e.attributes.allowRowResizea)&&(e.attributes.allowRowResizeFromCell&&s.isNormal!s.isNormala)&&!s.isColumnHeader){if((s.isRowHeaders.isCornere.attributes.allowRowResizeFromCell&&s.isNormal)&&b===l)return s.context=ns-resize,s.dragContext=ns-resize,s;if(!s.isRowHeader&&!s.isCorner&&a)return s.context=g,s.dragContext=l+-move,s}returncolumnHeaderCell===s.style(!e.isColumnSelected(s.columnIndex)&&s.x+s.width-e.attributes.columnGrabZoneSize-e.style.cellBorderWidtht!e.attributes.allowRowReordering(s.dragContext=cell,s.context=cell)(s.context=e.cursorGrab,s.dragContext=column-reorder),s)rowHeaderCell===s.style(!e.isRowSelected(s.rowIndex)&&e.attributes.rowGrabZoneSize+(s.y-e.style.cellBorderWidth)o!e.attributes.allowRowReordering(s.dragContext=cell,s.context=cell)(s.context=e.cursorGrab,s.dragContext=row-reorder),s)s.isGrid(e.hasFocus=!1,s.dragContext=cell-grid,s.context=cell-grid,s)tree-grid===s.style(e.hasFocus=!1,s.dragContext=tree,s.context=tree,s)(s.dragContext=cell,s.context=cell,s)}return e.hasFocus=!0,e.cursor=default,{dragContextbackground,contextbackground,stylebackground,isBackground!0}}}},e.getSelectionBounds=function(){var t={x10,y10},o={x-10,y-10};return e.selections.forEach((function(e,r){var n,l;t.y=rt.yrt.y,o.y=ro.yro.y,n=Math.max.apply(null,e),l=Math.min.apply(null,e),t.x=lt.xlt.x,o.x=no.xno.x})),{topt.y,leftt.x,bottomo.y,righto.x}},e.getSchemaFromData=function(t){return t=te.originalData,Object.keys(t[0]{ }).map((function(o,r){var n=e.getBestGuessDataType(o,t),l={nameo,titleisNaN(parseInt(o,10))oe.integerToAlpha(o).toUpperCase(),indexr,columnIndexr,typen,filtere.filter(n)};return e.storedSettings&&e.storedSettings.visibility&&void 0!==e.storedSettings.visibility[l.name]&&(l.hidden=!e.storedSettings.visibility[l.name]),l}))},e.clearChangeLog=function(){e.changes=[]},e.selectArea=function(t,o){e.selectionBounds=te.selectionBounds;var r,n,l,i=e.getSchema();if(o(e.selections=[],e.selectedRows=[],e.selectedColumns=[]),e.selectionBounds.top-1e.selectionBounds.bottome.viewData.lengthe.selectionBounds.left-1e.selectionBounds.righti.length)throw new Error(Impossible selection area);for(n=e.selectionBounds.top;n=e.selectionBounds.bottom;n+=1)for(e.selections[n]=[],e.selectedRows.push(n),l=e.selectionBounds.left;l=e.selectionBounds.right;l+=1)-1===e.selections[n].indexOf(l)&&e.selections[n].push(l),-1!==l&&-1===e.selectedColumns.indexOf(l)&&e.selectedColumns.push(l);r={selectionse.selections,selectionBoundse.selectionBounds,selectedCellse.getSelectedCells()},Object.defineProperty(r,selectedData,{getfunction(){return e.getSelectedData()}}),e.dispatchEvent(selectionchanged,r)},e.findColumnMaxTextLength=function(t){var o=-10;if(cornerCell===t)return e.ctx.font=e.style.rowHeaderCellFont,e.ctx.measureText((e.viewData.length+(e.attributes.showNewRow10)).toString()).width+e.style.autosizePadding+e.style.autosizeHeaderCellPadding+e.style.rowHeaderCellPaddingRight+e.style.rowHeaderCellPaddingLeft+(e.attributes.treee.style.treeArrowWidth+e.style.treeArrowMarginLeft+e.style.treeArrowMarginRight0);var r=null;return e.getSchema().forEach((function(n){if(n.name===t){e.ctx.font=e.style.columnHeaderCellFont;var l=e.ctx.measureText(n.titlen.name).width+e.style.columnHeaderCellPaddingRight+e.style.columnHeaderCellPaddingLeft+e.style.cellAutoResizePadding;o=lolo,r=e.formatters[n.type]}})),e.viewData.forEach((function(n){var l=n[t];r&&(l=r({cell{valuel}})),e.ctx.font=e.style.cellFont;var i=e.ctx.measureText(l).width+e.style.cellPaddingRight+e.style.cellPaddingLeft+e.style.cellAutoResizePadding;o=ioio})),o},e.getHeaderWidth=function(){return e.getVisibleSchema().reduce((function(t,o){return t+parseInt(o.widthe.style.cellWidth,10)}),0)},e.getRowHeight=function(t){return(e.sizes.rows[t]e.style.cellHeight)e.scale},e.getColumnWidth=function(t){return(e.sizes.columns[t]e.getSchema()[t].widthe.style.cellWidth)e.scale},e.formatters.string=function(e){return void 0!==e.cell.valuee.cell.value},e.formatters.rowHeaderCell=e.formatters.string,e.formatters.headerCell=e.formatters.string,e.formatters.number=e.formatters.string,e.formatters.int=e.formatters.string,e.formatters.html=e.formatters.string,e.sorters.string=function(e,t){var o=asc===t;return function(t,r){var n=t[e],l=r[e];return on.localeComparen.localeCompare(l)1l.localeComparel.localeCompare(n)1}},e.sorters.number=function(e,t){var o=asc===t;return function(t,r){return ot[e]-r[e]r[e]-t[e]}},e.sorters.date=function(e,t){var o=asc===t;return function(t,r){return onew Date(t[e]).getTime()-new Date(r[e]).getTime()new Date(r[e]).getTime()-new Date(t[e]).getTime()}}}o.d(t,{Zfunction(){return i}})},79function(e,t,o){use strict;function r(e){var t,o;e.scrollAnimation={},e.touchDelta={},e.touchAnimateTo={},e.animationFrames=0,e.getTouchPos=function(t,o){var r,n=ot.touches[o]t.touches[0],l=e.canvas.getBoundingClientRect();if(n)return r={xn.clientX-l.left,yn.clientY-l.top},e.isChildGrid&&(r.x-=e.canvasOffsetLeft,r.y-=e.canvasOffsetTop),{xr.x,yr.y,rectl}},e.easingFunctions={linearfunction(e){return e},easeInQuadfunction(e){return ee},easeOutQuadfunction(e){return e(2-e)},easeInOutQuadfunction(e){return e.52ee(4-2e)e-1},easeInCubicfunction(e){return eee},easeOutCubicfunction(e){return--eee+1},easeInOutCubicfunction(e){return e.54eee(e-1)(2e-2)(2e-2)+1},easeInQuartfunction(e){return eeee},easeOutQuartfunction(e){return 1- --eeee},easeInOutQuartfunction(e){return e.58eeee1-8--eeee},easeInQuintfunction(e){return eeeee},easeOutQuintfunction(e){return 1+--eeeee},easeInOutQuintfunction(e){return e.516eeeee1+16--eeeee}},e.easing=function(t,o,r,n){return re.easingFunctions[e.attributes.touchEasingMethod](tn)+o},e.calculatePPSTimed=function(){e.xPPST=-(e.touchDelta.x-e.touchSigmaTimed.x)(e.touchDelta.t-e.touchSigmaTimed.t),e.yPPST=-(e.touchDelta.y-e.touchSigmaTimed.y)(e.touchDelta.t-e.touchSigmaTimed.t),e.touchSigmaTimed={xe.touchDelta.x,ye.touchDelta.y,tperformance.now()}},e.calculatePPS=function(){e.xPPS=-(e.touchDelta.x-e.touchSigma.x)(e.touchDelta.t-e.touchSigma.t),e.yPPS=-(e.touchDelta.y-e.touchSigma.y)(e.touchDelta.t-e.touchSigma.t),e.touchSigma={xe.touchDelta.x,ye.touchDelta.y,tperformance.now()}},e.touchEndAnimation=function(){if(!e.canvas!e.scrollBox.scrollTo)return requestAnimationFrame(e.touchEndAnimation);var t,o=performance.now(),r=e.attributes.touchReleaseAnimationDurationMs;t=o-e.touchDelta.t,e.animationFrames+=1,e.scrollAnimation.x=e.easing(t,e.touchDelta.scrollLeft,e.touchAnimateTo.x,r),e.scrollAnimation.y=e.easing(t,e.touchDelta.scrollTop,e.touchAnimateTo.y,r),tre.scrollAnimation.y===e.scrollBox.scrollTop&&e.scrollAnimation.x===e.scrollBox.scrollLefte.stopAnimation(e.scrollBox.scrollTo(e.scrollAnimation.x,e.scrollAnimation.y),requestAnimationFrame(e.touchEndAnimation))},e.touchEditCell=function(t){e.beginEditAt(t.columnIndex,t.rowIndex)},e.touchstart=function(t){if(t.changedTouches[0]&&(e.touchStart=e.getTouchPos(t),e.startingCell=e.getCellAt(e.touchStart.x,e.touchStart.y,!0)),!e.dispatchEvent(touchstart,{NativeEventt,celle.startingCell})){if(e.disposeContextMenu(),clearInterval(e.calculatePPSTimer),clearTimeout(e.touchContextTimeout),e.touchStartEvent=t,e.stopAnimation=!0,e.animationFrames=0,e.stopPropagation(t),1===t.touches.length&&t.changedTouches[0]&&!e.zoomAltered){if(e.touchLength=1,e.touchStart=e.touchStarte.touchStart1,e.touchScrollStart={xe.scrollBox.scrollLeft,ye.scrollBox.scrollTop,tperformance.now()},e.touchDelta={x0,y0,scrollLefte.scrollBox.scrollLeft,scrollTope.scrollBox.scrollTop,te.touchScrollStart.t},e.touchSigma={xe.touchDelta.x,ye.touchDelta.y,te.touchDelta.t},e.touchSigmaTimed={xe.touchDelta.x,ye.touchDelta.y,te.touchDelta.t},e.touchContextTimeout=setTimeout((function(){e.contextmenuEvent(t,e.touchStart)}),e.attributes.touchContextMenuTimeMs),e.calculatePPSTimer=setInterval(e.calculatePPSTimed,50),e.startingCell&&(e.startingCell.isGrid-1!==[tree,inherit].indexOf(e.startingCell.context)))return void(e.hasFocus=!1);if(e.hasFocus=!0,e.startingCell.isHeader)return e.startingCell.isRowHeader(e.selectArea({tope.startingCell.rowIndex,bottome.startingCell.rowIndex,left0,righte.getVisibleSchema().length-1}),e.draw(!0))e.startingCell.isColumnHeader&&(sort===e.attributes.columnHeaderClickBehavior&&(e.orderBy===e.startingCell.header.namee.orderDirection=asc===e.orderDirectiondescasce.orderDirection=asc,e.order(e.startingCell.header.name,e.orderDirection)),select===e.attributes.columnHeaderClickBehavior&&(e.selectArea({top0,bottome.viewData.length-1,lefte.startingCell.columnIndex,righte.startingCell.columnIndex}),e.draw(!0))),void e.touchEndEvents(t)}e.zoomAltered(document.body.addEventListener(touchmove,e.touchmove,{passive!1}),document.body.addEventListener(touchend,e.touchend,!1),document.body.addEventListener(touchcancel,e.touchcancel,!1),e.draw(!0))}},e.touchSelect=function(t,o){if(void 0!==t.rowIndex&&void 0!==t.columnIndex){e.touchSelecting=!0;var r=e.getSelectionBounds();selection-handle-bl===o&&t.rowIndex=r.top&&t.columnIndex=r.right(r.bottom=t.rowIndex,r.left=t.columnIndex)selection-handle-tl===o&&t.rowIndex=r.bottom&&t.columnIndex=r.right(r.top=t.rowIndex,r.left=t.columnIndex)selection-handle-tr===o&&t.rowIndex=r.bottom&&t.columnIndex=r.left(r.top=t.rowIndex,r.right=t.columnIndex)selection-handle-br===o&&t.rowIndex=r.top&&t.columnIndex=r.left&&(r.bottom=t.rowIndex,r.right=t.columnIndex),row===e.attributes.selectionMode-1===t.rowIndex(r.left=0,r.right=e.getSchema().length-1)r.left=Math.max(0,r.left),e.selectArea(r),e.draw(!0)}},e.touchmove=function(r){trequestAnimationFrame((function(){t=!0,function(t){var r,n,l,i,a,s,c,d,u;if(!e.dispatchEvent(beforetouchmove,{NativeEventt})){if(clearTimeout(o),t.changedTouches[0]&&(e.touchPosition=e.getTouchPos(t)),t.changedTouches[1]&&(e.touchPosition1=e.getTouchPos(t,1)),Math.abs(e.touchDelta.x)+Math.abs(e.touchDelta.y)e.attributes.touchDeadZone&&clearTimeout(e.touchContextTimeout),2===t.touches.length&&e.touchPosition&&e.touchPosition1)return d=e.touchPosition.y,u=e.touchPosition1.y,e.zoomDeltaStart(e.zoomDeltaStart=Math.abs(d-u),e.startScale=e.scale),e.touchLength=2,e.scaleDelta=e.zoomDeltaStart-Math.abs(d-u),e.scale=e.startScale-e.scaleDeltae.attributes.touchZoomSensitivity,e.scale=Math.min(Math.max(e.scale,e.attributes.touchZoomMin),e.attributes.touchZoomMax),e.zoomAltered=!0,e.resize(!0),void e.resizeChildGrids();e.zoomAltered(e.touchLength=1,e.touchPosition=e.touchPositione.touchPosition1,r=e.getColumnHeaderCellHeight(),n=e.getRowHeaderCellWidth(),l=e.width-e.style.scrollBarWidth-e.touchPosition.xe.attributes.selectionScrollZone,i=e.touchPosition.x-ne.attributes.selectionScrollZone,a=e.height-e.style.scrollBarWidth-e.touchPosition.ye.attributes.selectionScrollZone,s=e.touchPosition.y-re.attributes.selectionScrollZone,c=e.style.scrollBarWidth,t.stopPropagation(),e.touchDelta={xe.touchPosition.x-e.touchStart.x,ye.touchPosition.y-e.touchStart.y,scrollLefte.scrollBox.scrollLeft,scrollTope.scrollBox.scrollTop,tperformance.now()},e.currentCell=e.getCellAt(e.touchPosition.x,e.touchPosition.y),e.dispatchEvent(touchmove,{NativeEventt,celle.currentCell}),e.calculatePPS(),e.touchDuration=performance.now()-e.touchScrollStart.t,e.stopAnimation=!0,e.animationFrames=0,e.touchSelecting&&(lisa)&&function t(){var r=e.scrollBox.scrollLeft,n=e.scrollBox.scrollTop;r+=le.attributes.selectionScrollIncrement0,n+=ae.attributes.selectionScrollIncrement0,n-=se.attributes.selectionScrollIncrement0,r-=ie.attributes.selectionScrollIncrement0,e.scrollBox.scrollTo(r,n),o=setTimeout(t,e.attributes.scrollRepeatRate)}(),vertical-scroll-.test(e.startingCell.style)e.scrollBox.scrollTop=e.scrollBox.scrollHeight((e.touchPosition.y-r-c)(e.scrollBox.height-c-r))horizontal-scroll-.test(e.startingCell.style)e.scrollBox.scrollLeft=e.scrollBox.scrollWidth((e.touchPosition.x-n-c)(e.scrollBox.width-c-n))selection-handle-.test(e.startingCell.style)e.touchSelect(e.currentCell,e.startingCell.style)e.scrollBox.scrollTo(e.touchScrollStart.x-e.touchDelta.x,e.touchScrollStart.y-e.touchDelta.y))}}(r),t=!1}))},e.touchEndEvents=function(t){e.zoomDeltaStart=void 0,e.touchSelecting=!1,clearInterval(e.touchScrollTimeout),clearInterval(e.touchContextTimeout),clearInterval(e.calculatePPSTimer),t.stopPropagation(),document.body.removeEventListener(touchmove,e.touchmove,{passive!1}),document.body.removeEventListener(touchend,e.touchend,!1),document.body.removeEventListener(touchcancel,e.touchcancel,!1)},e.touchend=function(t){if(!e.dispatchEvent(touchend,{NativeEventt,celle.currentCell}))if(e.zoomDeltaStart=void 0,t.changedTouches[0]&&(e.touchPosition=void 0),t.changedTouches[1]&&(e.touchPosition1=void 0),e.zoomAltered)0===t.touches.length&&(e.zoomAltered=!1);else{var o=Math.abs(e.touchDelta.x)+Math.abs(e.touchDelta.y)e.attributes.touchDeadZone;isNaN(e.xPPS)&&(e.xPPS=0),isNaN(e.yPPS)&&(e.yPPS=0),isNaN(e.xPPST)&&(e.xPPST=0),isNaN(e.yPPST)&&(e.yPPST=0),e.touchAnimateTo.x=e.xPPSe.attributes.touchReleaseAcceleration,e.touchAnimateTo.y=e.yPPSe.attributes.touchReleaseAcceleration,e.calculatePPSTimed(),o0!==e.animationFrames!(Math.abs(e.xPPST)e.attributes.scrollAnimationPPSThresholdMath.abs(e.yPPST)e.attributes.scrollAnimationPPSThreshold)-scroll-.test(e.startingCell.style)o(e.stopAnimation=!1,e.touchEndAnimation()),e.touchEndEvents(t)}},e.touchcancel=function(t){e.dispatchEvent(touchcancel,{NativeEventt,celle.currentCell})e.touchEndEvents(t)}}o.d(t,{Zfunction(){return r}})},155function(e){e.exports=function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={ir,l!1,exports{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)Object.defineProperty(e,t,{enumerable!0,getr})},o.r=function(e){undefined!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{valueModule}),Object.defineProperty(e,__esModule,{value!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&object==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,default,{enumerable!0,valuee}),2&t&&string!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModulefunction(){return e.default}function(){return e};return o.d(t,a,t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p=,o(o.s=0)}([function(e,t,o){use strict;Object.defineProperty(t,__esModule,{value!0});var r=o(1),n=Object.keys(r.default).reduce((function(e,t){return e.concat(r.default[t])}),[]);t.default=function(e){return-1===n.indexOf(e.key)}},function(e,t,o){use strict;Object.defineProperty(t,__esModule,{value!0}),t.default={modifier[Alt,AltGraph,CapsLock,Control,Fn,FnLock,Meta,NumLock,ScrollLock,Shift,Symbol,SymbolLock],legacyModifier[Hyper,Super],whiteSpace[Enter,Tab],navigation[ArrowDown,ArrowLeft,ArrowRight,ArrowUp,End,Home,PageDown,PageUp],editing[Backspace,Clear,Copy,CrSel,Cut,Delete,EraseEof,ExSel,Insert,Paste,Redo,Undo],ui[Accept,Again,Attn,Cancel,ContextMenu,Escape,Execute,Find,Help,Pause,Play,Props,Select,ZoomIn,ZoomOut],device[BrightnessDown,BrightnessUp,Eject,LogOff,Power,PowerOff,PrintScreen,Hibernate,Standby,WakeUp],imeCompositionKeys[AllCandidates,Alphanumeric,CodeInput,Compose,Convert,Dead,FinalMode,GroupFirst,GroupLast,GroupNext,GroupPrevious,ModeChange,NextCandidate,NonConvert,PreviousCandidate,Process,SingleCandidate],koreanSpecific[HangulMode,HanjaMode,JunjaMode],japaneseSpecific[Eisu,Hankaku,Hiragana,HiraganaKatakana,KanaMode,KanjiMode,Katakana,Romaji,Zenkaku,ZenkakuHankaku],commonFunction[F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,Soft1,Soft2,Soft3,Soft4],multimedia[ChannelDown,ChannelUp,Close,MailForward,MailReply,MailSend,MediaClose,MediaFastForward,MediaPause,MediaPlay,MediaPlayPause,MediaRecord,MediaRewind,MediaStop,MediaTrackNext,MediaTrackPrevious,New,Open,Print,Save,SpellCheck],multimediaNumpad[Key11,Key12],audio[AudioBalanceLeft,AudioBalanceRight,AudioBassBoostDown,AudioBassBoostToggle,AudioBassBoostUp,AudioFaderFront,AudioFaderRear,AudioSurroundModeNext,AudioTrebleDown,AudioTrebleUp,AudioVolumeDown,AudioVolumeUp,AudioVolumeMute,MicrophoneToggle,MicrophoneVolumeDown,MicrophoneVolumeUp,MicrophoneVolumeMute],speech[SpeechCorrectionList,SpeechInputToggle],application[LaunchApplication1,LaunchApplication2,LaunchCalendar,LaunchContacts,LaunchMail,LaunchMediaPlayer,LaunchMusicPlayer,LaunchPhone,LaunchScreenSaver,LaunchSpreadsheet,LaunchWebBrowser,LaunchWebCam,LaunchWordProcessor],browser[BrowserBack,BrowserFavorites,BrowserForward,BrowserHome,BrowserRefresh,BrowserSearch,BrowserStop],mobilePhone[AppSwitch,Call,Camera,CameraFocus,EndCall,GoBack,GoHome,HeadsetHook,LastNumberRedial,Notification,MannerMode,VoiceDial],tv[TV,TV3DMode,TVAntennaCable,TVAudioDescription,TVAudioDescriptionMixDown,TVAudioDescriptionMixUp,TVContentsMenu,TVDataService,TVInput,TVInputComponent1,TVInputComponent2,TVInputComposite1,TVInputComposite2,TVInputHDMI1,TVInputHDMI2,TVInputHDMI3,TVInputHDMI4,TVInputVGA1,TVMediaContext,TVNetwork,TVNumberEntry,TVPower,TVRadioService,TVSatellite,TVSatelliteBS,TVSatelliteCS,TVSatelliteToggle,TVTerrestrialAnalog,TVTerrestrialDigital,TVTimer],mediaControls[AVRInput,AVRPower,ColorF0Red,ColorF1Green,ColorF2Yellow,ColorF3Blue,ColorF4Grey,ColorF5Brown,ClosedCaptionToggle,Dimmer,DisplaySwap,DVR,Exit,FavoriteClear0,FavoriteClear1,FavoriteClear2,FavoriteClear3,FavoriteRecall0,FavoriteRecall1,FavoriteRecall2,FavoriteRecall3,FavoriteStore0,FavoriteStore1,FavoriteStore2,FavoriteStore3,Guide,GuideNextDay,GuidePreviousDay,Info,InstantReplay,Link,ListProgram,LiveContent,Lock,MediaApps,MediaAudioTrack,MediaLast,MediaSkipBackward,MediaSkipForward,MediaStepBackward,MediaStepForward,MediaTopMenu,NavigateIn,NavigateNext,NavigateOut,NavigatePrevious,NextFavoriteChannel,NextUserProfile,OnDemand,Pairing,PinPDown,PinPMove,PinPToggle,PinPUp,PlaySpeedDown,PlaySpeedReset,PlaySpeedUp,RandomToggle,RcLowBattery,RecordSpeedNext,RfBypass,ScanChannelsToggle,ScreenModeNext,Settings,SplitScreenToggle,STBInput,STBPower,Subtitle,Teletext,VideoModeNext,Wink,ZoomToggle]}}]).default}},__webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e])return __webpack_module_cache__[e].exports;var t=__webpack_module_cache__[e]={exports{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}return __webpack_require__.n=function(e){var t=e&&e.__esModulefunction(){return e.default}function(){return e};return __webpack_require__.d(t,{at}),t},__webpack_require__.d=function(e,t){for(var o in t)__webpack_require__.o(t,o)&&!__webpack_require__.o(e,o)&&Object.defineProperty(e,o,{enumerable!0,gett[o]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__(931)}().default}));